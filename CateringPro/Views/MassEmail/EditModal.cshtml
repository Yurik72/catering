@model CateringPro.Models.MassEmail
@using  CateringPro.Models
@inject CateringPro.Core.SharedViewLocalizer Localizer

@{
    ViewData["Title"] = "Edit";
    IEnumerable<SelectListItem> templates = ViewData["Templates"] as IEnumerable<SelectListItem>;
}
@if (true)
{
    <div class="modal-content col-lg-12 col-12">
        <div class="modal-header align-items-center col-12 px-0 px-md-3 px-lg-3" style="padding-top:20px">
            <h5 class="modal-title p-0" id="exampleModalLabel"
                style="font-size: 34px; line-height: 40px; font-weight: bold">
                @Localizer["MassEmail"]
            </h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <img src="../img/close-modal.svg" aria-hidden="true" alt="">
            </button>
        </div>
        <div class="modal-body col-auto p-0 mt-2 ">

            <form class="col-12  mt-3" asp-action="EditModal">
                <div class="row p-0 flex-column">
                    <div class="form-group d-flex flex-lg-row flex-md-row flex-column col-lg-9 col-md-9 col-12 input-row-black px-0 px-md-3 px-lg-3 align-content-center mb-0 mt-2">
                        <label asp-for="Name"
                               class="profile-form-title col-12 col-lg-4 col-md-4 d-flex align-items-center mb-1 p-0">Name</label>
                        <input class="form-control col-12 col-lg-8 col-md-8 pl-9"
                               asp-for="Name"
                               placeholder="Логін" style="height: 34px">
                        <span asp-validation-for="Name" class="text-danger"></span>
                    </div>
                    <div class="form-group d-flex  col-lg-9 col-md-9 col-12 input-row-black  px-0 px-md-3 px-lg-3 align-content-center mb-0 mt-2">
                        <label asp-for="OnePerUser"
                               class="profile-form-title col-5 col-lg-4 col-md-4 p-0 d-flex align-items-center mb-1 "></label>
                        <label asp-for="OnePerUser" class="col-1 pl-3">
                            <input type="checkbox" asp-for="OnePerUser" class="checkbox-user">
                            <span class="checkmark-user" style="margin-top: 3px"></span>
                        </label>
                        <span asp-validation-for="OnePerUser" class="text-danger"></span>
                    </div>
                    <div class="form-group d-flex flex-lg-row flex-md-row flex-column col-lg-9 col-md-9 col-12 input-row-black  px-0 px-md-3 px-lg-3 align-content-center mb-0 mt-2">
                        <label asp-for="DistributionType"
                               class="profile-form-title col-12 col-lg-4 col-md-4 p-0 d-flex align-items-center mb-1 ">DistributionType</label>
                        @*<select class="form-control col-12 col-lg-8 col-md-8 pl-3 "
                                id="input-select-group"
                                style="height: 34px; border: 1px solid #ced4da; border-radius: 4px">
                            <option selected>Value</option>
                            <option>Value</option>
                            <option>
                                Value
                            </option>
                        </select>*@
                        <select asp-for="DistributionType" asp-items="Html.GetEnumSelectList<DistributionEnum>()" class="form-control col-12 col-lg-8 col-md-8 pl-3 " style="height: 34px; border: 1px solid #ced4da; border-radius: 4px"></select>
                        <span asp-validation-for="DistributionType" class="text-danger"></span>
                    </div>
                    <div class="form-group d-flex flex-lg-row flex-md-row flex-column col-lg-9 col-md-9 col-12 input-row-black  px-0 px-md-3 px-lg-3 align-items-start align-content-center mb-0 mt-2">
                        <input asp-for="Schedule" class="form-control" type="hidden" />
                        <label asp-for="Schedule"
                               class="profile-form-title col-12 col-lg-4 col-md-4 p-0  align-items-center mb-1 d-none d-lg-flex d-md-flex">Schedule</label>
                        <div id="schedule-selector" ></div>          
    @*<div class="col-lg-8 p-0 col-md-8 col-12 d-flex flex-lg-row flex-md-row flex-column justify-content-lg-between justify-content-md-between">
                            <div class="col-lg-8 col-md-7 col-12 p-0 flex-column">
                                <label for="select-date-input"
                                       class="profile-form-title col-12 col-lg-4 col-md-4 p-0 d-flex align-items-center mb-1 font-weight-bold">Дата</label>
                                <div class="col-12 p-0  d-none d-lg-flex d-md-flex" id="select-date-input">
                                    <div class="col-12 p-0 d-flex justify-content-between">
                                        <select class="form-control  col-lg-3 col-md-3 pl-1 "
                                                id="select-day-input"
                                                style="height: 34px; border: 1px solid #ced4da; border-radius: 4px; background-size: 10px 10px">
                                            <option selected>01</option>
                                            <option>02</option>
                                            <option>03</option>
                                        </select>
                                        <select class="form-control  col-lg-5 col-md-5 pl-1 "
                                                id="select-month-input"
                                                style="height: 34px; border: 1px solid #ced4da; border-radius: 4px; font-family: Open-Sans, sans-serif">
                                            <option>Січень</option>
                                            <option>Лютий</option>
                                            <option>Березень</option>
                                            <option>Квітень</option>
                                            <option>Травень</option>
                                            <option selected>Червень</option>
                                            <option>Липень</option>
                                            <option>Серпень</option>
                                            <option>Вересень</option>
                                            <option>Жовтень</option>
                                            <option>Листопад</option>
                                            <option>Грудень</option>
                                        </select>
                                        <select class="form-control  col-lg-3 col-md-3 pl-1 "
                                                id="select-year-input"
                                                style="height: 34px; border: 1px solid #ced4da; border-radius: 4px; font-family: Open-Sans, sans-serif">
                                            <option selected>2020</option>
                                            <option>2019</option>
                                            <option>2018</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-12 p-0 d-flex d-md-none d-lg-none">
                                    <input id="select-date-mob" type="date" class="form-control child-inputs"
                                           name="date" required>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-4 col-12 p-0 font-weight-bold mt-1 mt-lg-0 mt-md-0">
                                <label for="select-hours-input"
                                       class="profile-form-title col-12 col-lg-4 col-md-4 p-0 d-flex align-items-center mb-1 font-weight-bold">Година</label>
                                <div class="col-12 p-0  d-flex" id="select-hours-input">
                                    <div class="col-12 p-0 d-flex justify-content-between">
                                        <select class="form-control  col-5 pl-1 "
                                                id="select-hour-input"
                                                style="height: 34px; border: 1px solid #ced4da; border-radius: 4px; appearance: none; font-family: Open-Sans, sans-serif">
                                            <option selected>01</option>
                                            <option>02</option>
                                            <option>03</option>
                                        </select>
                                        <span class="col-1 p-0 d-flex justify-content-center align-items-center">:</span>
                                        <select class="form-control  col-5 pl-1 "
                                                id="select-minute-input"
                                                style="height: 34px; border: 1px solid #ced4da; border-radius: 4px; appearance: none; font-family: Open-Sans, sans-serif">
                                            <option>00</option>
                                            <option>01</option>
                                            <option>02</option>
                                            <option>03</option>
                                            <option>04</option>
                                            <option selected>05</option>
                                            <option>06</option>
                                            <option>07</option>
                                            <option>08</option>
                                            <option>09</option>
                                            <option>10</option>
                                            <option>11</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>*@
                    </div>
                    <div class="form-group d-flex flex-lg-row flex-md-row flex-column col-lg-9 col-md-9 col-12 input-row-black  px-0 px-md-3 px-lg-3 align-content-center mb-0 mt-2">
                        <label asp-for="DayFrom"
                               class="profile-form-title col-12 col-lg-4 col-md-4 p-0 d-flex align-items-center mb-0 ">DayFrom</label>
                        <span id="input-day-from" class="col-12 col-lg-8 col-md-8 p-0">
                            <input asp-for="DayFrom"
                                   style="font-family: Open-Sans, sans-serif;">
                            <div class="child-amount-control"
                                 onclick="this.previousElementSibling.stepUp()">+</div>
                            <div class="child-amount-control"
                                 onclick="this.previousElementSibling.previousElementSibling.stepDown()">-</div>
                        </span>
                    </div>
                    <div class="form-group d-flex flex-lg-row flex-md-row flex-column col-lg-9 col-md-9 col-12 input-row-black  px-0 px-md-3 px-lg-3 align-content-center mb-0 mt-2">
                        <label asp-for="DayTo"
                               class="profile-form-title col-12 col-lg-4 col-md-4 p-0 d-flex align-items-center mb-0 ">DayTo</label>
                        <span id="input-day-to" class="col-12 col-lg-8 col-md-8 p-0">
                            <input asp-for="DayTo" min="0"
                                   style="font-family: Open-Sans, sans-serif;">
                            <div class="child-amount-control"
                                 onclick="this.previousElementSibling.stepUp()">+</div>
                            <div class="child-amount-control"
                                 onclick="this.previousElementSibling.previousElementSibling.stepDown()">-</div>
                        </span>
                        <div id="schedule-selector"></div>
                        <span asp-validation-for="DayTo" class="text-danger"></span>
                    </div>
                    <div class="form-group d-flex flex-lg-row flex-md-row flex-column col-lg-9 col-md-9 col-12 input-row-black  px-0 px-md-3 px-lg-3 align-content-center mb-0 mt-2">
                        <label asp-for="TemplateName"
                               class="profile-form-title col-12 col-lg-4 col-md-4 p-0 d-flex align-items-center mb-1 ">TemplateName</label>
                        <select class="form-control col-12 col-lg-8 col-md-8 pl-1 "
                                asp-for="TemplateName" asp-items="@templates"
                                style="height: 34px; border: 1px solid #ced4da; border-radius: 4px">
                            @*<option selected>Value</option>
            <option>Value</option>
            <option>
                Value
            </option>*@
                        </select>
                        <span asp-validation-for="TemplateName" class="text-danger"></span>
                    </div>
                    <div class="form-group d-flex flex-lg-row flex-md-row flex-column col-lg-9 col-md-9 col-12 input-row-black px-0 px-md-3 px-lg-3 align-content-center mb-0 mt-2">
                        <label asp-for="Subject"
                               class="profile-form-title col-12 col-lg-4 col-md-4 d-flex align-items-center mb-1 p-0">Subject</label>
                        <input class="form-control col-12 col-lg-8 col-md-8 pl-9"
                               asp-for="Subject"
                               style="height: 34px">
                        <span asp-validation-for="Subject" class="text-danger"></span>
                    </div>
                    <div class="form-group d-flex flex-lg-row flex-md-row flex-column col-lg-9 col-md-9 col-12 input-row-black px-0 px-md-3 px-lg-3 align-content-center mb-0 mt-2">
                        <label asp-for="Greetings"
                               class="profile-form-title col-12 col-lg-4 col-md-4 d-flex align-items-center mb-1 p-0">Greetings</label>
                        <input class="form-control col-12 col-lg-8 col-md-8 pl-9"
                               asp-for="Greetings"
                               style="height: 34px">
                        <span asp-validation-for="Greetings" class="text-danger"></span>
                    </div>
                    <div class="form-group d-flex flex-lg-row flex-md-row flex-column col-lg-9 col-md-9 col-12 input-row-black px-0 px-md-3 px-lg-3 align-content-center mb-0 mt-2">
                        <label asp-for="Text"
                               class="profile-form-title col-12 col-lg-4 col-md-4 d-flex align-items-start  mb-1 p-0">Text</label>
                        <textarea class="form-control col-12 col-lg-8 col-md-8 pl-9"
                                  asp-for="Text"
                                  style="min-height: 34px">Text</textarea>
                        <span asp-validation-for="Text" class="text-danger"></span>
                    </div>

                </div>
            </form>


        </div>
        <div class="modal-footer justify-content-center border-0"
             style="font-size: 14px; font-weight: bold; line-height: 16px; padding: 40px 0 58px">
            <button type="button" class="btn btn-primary m-2 col-sm-3 col-xl-3 col-12"
                    style="background: #36C233; border: 1px solid #36C233; height: 48px" data-save="modal">
                @Localizer["Save"]
                </button>
            <button type="button" class="btn btn-secondary m-2 col-sm-3 col-xl-3 col-12 "
                    style="background: #ffffff; border: 1px solid #F15E25; height: 48px; color: #f15e25"
                    data-dismiss="modal">
                @Localizer["Cancel"]
                </button><button type="button" class="btn btn-secondary m-2 col-sm-3 col-xl-3 col-12 "
        style="background: #ffffff; border: 1px solid #F15E25; height: 48px; color: #f15e25"
        action="@Url.Content("~/MassEmail/SendTest")" data-action="modal">
    @Localizer["SendTestEmail"]
</button>
        </div>
    </div>
}
else
{
    <style>
        form dt {
            float: left;
            display: block;
            width: 30%;
        }

        dd select {
            width: 50%;
        }

        dd textarea {
            width: 100%;
        }
    </style>
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title">@Localizer["MassEmail"]</h5>
            <button class="close" data-dismiss="modal" area-hidden="true">
                <span aria-hidden="true">&times;</span>
            </button>

        </div>
        <div class="modal-body">
            <form asp-action="EditModal">
                <dl class="">


                    <dt>  <label asp-for="Name" class="control-label"></label></dt>

                    <dd>
                        <input asp-for="Name" class="form-control" />
                        <span asp-validation-for="Name" class="text-danger"></span>
                    </dd>
                    <dt>  <label asp-for="OnePerUser" class="control-label"></label></dt>
                    <dd>
                        <input type="checkbox" asp-for="OnePerUser" class="form-control" />
                        <span asp-validation-for="OnePerUser" class="text-danger"></span>
                    </dd>

                    <dt>  <label asp-for="DistributionType" class="control-label"></label></dt>
                    <dd>
                        <select asp-for="DistributionType" asp-items="Html.GetEnumSelectList<DistributionEnum>()" class="form-control"></select>
                        <span asp-validation-for="DistributionType" class="text-danger"></span>
                    </dd>

                    <dt>  <label asp-for="Schedule" class="control-label"></label></dt>
                    <dd>
                        <input asp-for="Schedule" class="form-control" type="hidden" />
                        <div id="schedule-selector"></div>
                        <span asp-validation-for="Schedule" class="text-danger"></span>
                    </dd>
                    <dt>  <label asp-for="DayFrom" class="control-label"></label></dt>
                    <dd>
                        <input asp-for="DayFrom" class="form-control" />
                        <div id="schedule-selector"></div>
                        <span asp-validation-for="DayFrom" class="text-danger"></span>
                    </dd>
                    <dt>  <label asp-for="DayTo" class="control-label"></label></dt>
                    <dd>
                        <input asp-for="DayTo" class="form-control" />
                        <div id="schedule-selector"></div>
                        <span asp-validation-for="DayTo" class="text-danger"></span>
                    </dd>
                    <dt>  <label asp-for="TemplateName" class="control-label"></label></dt>
                    <dd>
                        <select asp-for="TemplateName" asp-items="@templates" class="form-control"></select>

                        <span asp-validation-for="TemplateName" class="text-danger"></span>
                    </dd>
                    <dt>  <label asp-for="Subject" class="control-label"></label></dt>
                    <dd>
                        <input asp-for="Subject" class="form-control" />

                        <span asp-validation-for="Subject" class="text-danger"></span>
                    </dd>
                    <dt>  <label asp-for="Greetings" class="control-label"></label></dt>
                    <dd>
                        <input asp-for="Greetings" class="form-control" />
                        <span asp-validation-for="Greetings" class="text-danger"></span>
                    </dd>


                    <dt>  <label asp-for="Text" class="control-label"></label></dt>
                    <dd>
                        <textarea asp-for="Text" class="form-control" />
                        <span asp-validation-for="Text" class="text-danger"></span>
                    </dd>
                </dl>
            </form>
            <div class="row">
                <div class="col-sm-1">
                </div>
                <div class="col-sm-2">
                    <button type="button" button class="btn btn-primary" data-save="modal">@Localizer["Save"]</button>
                </div>
                <div class="col-sm-1">
                </div>
                <div class="col-sm-2">
                    <button type="button" button class="btn btn-primary" data-dismiss="modal">@Localizer["Cancel"]</button>
                </div>

                <div class="col-sm-1">
                </div>

                <div class="col-sm-2">
                    <button type="button" action="@Url.Content("~/MassEmail/SendTest")" button class="btn btn-primary" data-action="modal">@Localizer["SendTestEmail"]</button>
                </div>
            </div>
        </div>
    </div>

}

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
