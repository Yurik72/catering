@model RegisterViewModel
@inject CateringPro.Core.SharedViewLocalizer Localizer
@{
    ViewData["Title"] = "Register";
}


@if (true)
{
    <div class="container-xl container-md container-sm container">
        <div class="col-12 p-0 d-flex flex-column">

            <h2 class="mt-3" style="font-weight: 600; font-size: 32px; color: #232323;">
                &#x417;&#x430;&#x440;&#x435;&#x454;&#x441;&#x442;&#x440;&#x443;&#x439;&#x442;&#x435;&#x441;&#x44C;
                &#x431;&#x435;&#x437;&#x43A;&#x43E;&#x448;&#x442;&#x43E;&#x432;&#x43D;&#x43E;!
            </h2>
            <form asp-controller="Account" asp-action="Register" method="post" class="form-horizontal" role="form" id="register-form-styles">
                <ul>
                    @if (Model.Errors != null && Model.Errors.Count() > 0)
                    {
                        @foreach (var error in Model.Errors)
                        {
                            <li><div asp-validation-summary="All" class="text-danger"> @error</div> </li>
                        }
                    }
                </ul>
                <div asp-validation-summary="All" id="errr" class="text-danger"></div>
                <div class="col-12 d-flex flex-wrap p-0">
                    <div class="form-group col-12 col-lg-6 col-md-6 p-0 d-flex flex-lg-row flex-md-row flex-column">
                        <label class="col-md-4 control-label float-left p-0 font-weight-bold" asp-for="UserName"
                               style="font-size: 18px">
                            &#x41A;&#x43E;&#x440;&#x438;&#x441;&#x442;&#x443;&#x432;&#x430;&#x447;<span style="color: red;">&nbsp;*</span>
                        </label>
                        <div class="col-md-8 col-12 col-lg-8 float-left d-flex justify-content-start p-0">
                            <input asp-for="UserName" class="form-control col-12 col-md-10 col-lg-10 py-0" autocomplete="off" type="text"
                                   data-val="true"
                                   data-val-required="The &#x41A;&#x43E;&#x440;&#x438;&#x441;&#x442;&#x443;&#x432;&#x430;&#x447; field is required."
                                   value="" minlength="1" required />
                            <span asp-validation-for="UserName" class="text-danger field-validation-valid"></span>
                            <span class="invisible-validation">@Localizer["LoginRules"]</span>

                        </div>
                    </div>
                    <div class="form-group col-12 col-lg-6 col-md-6 p-0 d-flex flex-lg-row flex-md-row flex-column">
                        <label class="col-md-4 control-label float-left p-0 font-weight-bold" asp-for="Email">
                            @Localizer["Email"]<span style="color: red;">&nbsp;*</span>
                        </label>
                        <div class="col-md-8 col-12 col-lg-8 float-left d-flex justify-content-start p-0">
                            <input asp-for="Email" class="form-control col-12 col-md-10 col-lg-10 py-0" autocomplete="off" type="email"
                                   data-val="true"
                                   data-val-required="The Email field is required." id="Email" name="Email" value=""
                                   required />
                            <span class="text-danger field-validation-valid" data-valmsg-for="Email"
                                  data-valmsg-replace="true"></span>
                        </div>
                    </div>
                    <div class="form-group col-12 col-lg-6 col-md-6 p-0 d-flex flex-lg-row flex-md-row flex-column">
                        <label class="col-md-4 control-label float-left p-0 font-weight-bold" asp-for="Password">
                            &#x41F;&#x430;&#x440;&#x43E;&#x43B;&#x44C;<span style="color: red;">&nbsp;*</span>
                        </label>
                        <div class="col-md-8 col-12 col-lg-8 float-left d-flex justify-content-start p-0">
                            <input asp-for="Password" class="form-control col-12 col-md-10 col-lg-10 py-0" autocomplete="off"
                                   type="password" data-val="true"
                                   data-val-required="The Password field is required." id="Password" name="Password"
                                   minlength="8" maxlength="30" required />
                            <span class="text-danger field-validation-valid" data-valmsg-for="Password"
                                  data-valmsg-replace="true"></span>
                            <span class="invisible-validation">@Localizer["PasswordRequirements"]</span>

                        </div>
                    </div>
                    <div class="form-group col-12 col-lg-6 col-md-6 p-0 d-flex flex-lg-row flex-md-row flex-column">
                        <label class="col-md-4 control-label float-left p-0 font-weight-bold" asp-for="ConfirmPassword">
                            @Localizer["ConfirmPassword"]<span style="color: red;">&nbsp;*</span>
                        </label>
                        <div class="col-md-8 col-12 col-lg-8 float-left d-flex justify-content-start p-0">
                            <input asp-for="ConfirmPassword" class="form-control col-12 col-md-10 col-lg-10 py-0" autocomplete="off"
                                   type="password" data-val="true"
                                   data-val-required="The Password field is required." id="ConfirmPassword" name="ConfirmPassword"
                                   minlength="8" maxlength="30" required />
                            <span class="text-danger field-validation-valid" data-valmsg-for="ConfirmPassword"
                                  data-valmsg-replace="true"></span>
                            <span class="invisible-validation"></span>

                        </div>
                    </div>
                    <div class="form-group col-12 col-lg-6 col-md-6 p-0 d-flex flex-lg-row flex-md-row flex-column">
                        <label class="col-md-4 control-label float-left p-0 font-weight-bold" asp-for="PhoneNumber">
                            &#x422;&#x435;&#x43B;&#x435;&#x444;&#x43E;&#x43D;<span style="color: red;">&nbsp;*</span>
                        </label>
                        <div class="col-md-8 col-12 col-lg-8 float-left d-flex justify-content-start p-0">
                            <input asp-for="PhoneNumber" class="form-control col-12 col-md-10 col-lg-10 py-0" type="tel" data-val="true"
                                   data-val-required="The &#x422;&#x435;&#x43B;&#x435;&#x444;&#x43E;&#x43D; field is required."
                                   id="PhoneNumber" name="PhoneNumber" value="" pattern="^[ 0-9]+$" required />
                            <span class="text-danger field-validation-valid" data-valmsg-for="PhoneNumber"
                                  data-valmsg-replace="true"></span>
                        </div>
                    </div>
                    <div class="form-group col-12 col-lg-6 col-md-6 p-0 d-flex flex-lg-row flex-md-row flex-column">
                        <label class="col-md-4 control-label float-left p-0 font-weight-bold" asp-for="NameSurname">
                            &#x406;&#x43C;&#x27;&#x44F;,&#x41F;&#x440;&#x456;&#x437;&#x432;&#x438;&#x449;&#x435;<span style="color: red;">&nbsp;*</span>
                        </label>
                        <div class="col-md-8 col-12 col-lg-8 float-left d-flex justify-content-start p-0">
                            <input asp-for="NameSurname" class="form-control col-12 col-md-10 col-lg-10 py-0" type="text" data-val="true"
                                   data-val-required="The &#x406;&#x43C;&#x27;&#x44F;,&#x41F;&#x440;&#x456;&#x437;&#x432;&#x438;&#x449;&#x435; field is required."
                                   id="NameSurname" name="NameSurname" value="" required />
                            <span class="text-danger field-validation-valid" data-valmsg-for="NameSurname"
                                  data-valmsg-replace="true"></span>
                            <span class="invisible-validation" style="z-index: 100">@Localizer["NameSurnameRules"]</span>

                        </div>
                    </div>
                    <div class="form-group col-12 col-lg-6 col-md-6 p-0 d-flex flex-lg-row flex-md-row flex-column">
                        <label asp-for="City" class="col-md-4 control-label float-left p-0 change-weight"
                               for="City">&#x41C;&#x456;&#x441;&#x442;&#x43E;</label>
                        <div class="col-md-8 col-12 col-lg-8 float-left d-flex justify-content-start p-0">
                            <input asp-for="City" class="form-control col-12 col-md-10 col-lg-10 py-0" type="text" id="City"
                                   name="City" value="" />
                            <span class="text-danger field-validation-valid" data-valmsg-for="City"
                                  data-valmsg-replace="true"></span>
                        </div>
                    </div>
                    <div class="form-group col-12 col-lg-6 col-md-6 p-0 d-flex flex-lg-row flex-md-row flex-column">
                        <label asp-for="ZipCode" class="col-md-4 control-label float-left p-0 change-weight" for="ZipCode">
                            &#x41F;&#x43E;&#x448;&#x442;.
                            &#x406;&#x43D;&#x434;&#x435;&#x43A;&#x441;
                        </label>
                        <div class="col-md-8 col-12 col-lg-8 float-left d-flex justify-content-start p-0">
                            <input asp-for="ZipCode" class="form-control col-12 col-md-10 col-lg-10 py-0" type="text" id="ZipCode"
                                   name="ZipCode" value="" />
                            <span class="text-danger field-validation-valid" data-valmsg-for="ZipCode"
                                  data-valmsg-replace="true"></span>
                        </div>
                    </div>
                    <div class="form-group col-12 col-lg-6 col-md-6 p-0 d-flex flex-lg-row flex-md-row flex-column">
                        <label asp-for="Address1" class="col-md-4 control-label float-left p-0 change-weight">
                            &#x410;&#x434;&#x440;&#x435;&#x441;&#x430;
                            1
                        </label>
                        <div class="col-md-8 col-12 col-lg-8 float-left d-flex justify-content-start p-0">
                            <input asp-for="Address1" class="form-control col-12 col-md-10 col-lg-10 py-0" type="text" id="Address1"
                                   name="Address1" value="" />
                            <span class="text-danger field-validation-valid" data-valmsg-for="Address1"
                                  data-valmsg-replace="true"></span>
                        </div>
                    </div>
                    <div class="form-group col-12 col-lg-6 col-md-6 p-0 d-flex flex-lg-row flex-md-row flex-column">
                        <label asp-for="Address2" class="col-md-4 control-label float-left p-0 change-weight" for="Address2">
                            &#x410;&#x434;&#x440;&#x435;&#x441;&#x430;
                            2
                        </label>
                        <div class="col-md-8 col-12 col-lg-8 float-left d-flex justify-content-start p-0">
                            <input asp-for="Address2" class="form-control col-12 col-md-10 col-lg-10 py-0" type="text" id="Address2"
                                   name="Address2" value="" />
                            <span class="text-danger field-validation-valid" data-valmsg-for="Address2"
                                  data-valmsg-replace="true"></span>
                        </div>
                    </div>
                    <div class="form-group col-12 col-lg-6 col-md-6 p-0 d-flex flex-lg-row flex-md-row flex-column">
                        <label asp-for="Country" class="col-md-4 control-label float-left p-0 change-weight" for="Country">&#x41A;&#x440;&#x430;&#x457;&#x43D;&#x430;</label>
                        <div class="col-md-8 col-12 col-lg-8 float-left d-flex justify-content-start p-0">
                            <input asp-for="Country" class="form-control col-12 col-md-10 col-lg-10 py-0" type="text" id="Country"
                                   name="Country" value="" />
                            <span class="text-danger field-validation-valid" data-valmsg-for="Country"
                                  data-valmsg-replace="true"></span>
                        </div>
                    </div>

                    <div class="form-group col-12 col-lg-6 col-md-6 p-0 ">
                        <div class="col-md-4 col-lg-4 col-sm-8 col-12 p-0 control-label d-flex justify-content-md-start justify-content-lg-start justify-content-center">
                            <input type="submit"
                                   value=&#x440;&#x435;&#x454;&#x441;&#x442;&#x440;&#x430;&#x446;&#x456;&#x44F;
                                   class="btn btn-xl btn-outline-danger  justify-content-center  font-weight-bold d-flex "
                                   style="width: 228px; background: #F05E25; border-color:  #F05E25; outline: none; height: 48px; color:  #FFFFFF; padding: 0 30px; font-size: 14px; text-transform: uppercase">
                        </div>
                    </div>
                </div>
                @*<input name="__RequestVerificationToken" type="hidden"
        value="CfDJ8MAG9YGL5lFMkoJRb8KUvCBJ2yq_-IKqJ5wd53SI0NQNIlTdTjDf67mPZBQG7ypVEDstN6mJUP4Jf_h0lxOdyra-hjZWFWirCNJYek5l28b3dMRye72hCD9rmTieduED9e7spAsSlZFQFSipeRG6pRI" />*@
            </form>
        </div>
    </div>

}

else
{
    <h2>@Localizer["Register Title"]</h2>
    <form asp-controller="Account" asp-action="Register" method="post" class="form-horizontal col-12" role="form">

        <hr />
        <ul>
            @if (Model.Errors != null && Model.Errors.Count() > 0)
            {
                @foreach (var error in Model.Errors)
                {
                    <li><div asp-validation-summary="All" class="text-danger"> @error</div> </li>
                }
            }
        </ul>
        <div asp-validation-summary="All" id="errr" class="text-danger"></div>
        <div class="form-group">
            <label asp-for="UserName" class="col-md-2 control-label float-left">@Localizer["UserName"]*</label>
            <div class="col-md-10 float-left">
                <input asp-for="UserName" class="form-control float-left" autocomplete="off" />
                <span asp-validation-for="UserName" class="text-danger"></span>
                <label>@Localizer["LoginRules"]</label>
            </div>
        </div>
        <div class="form-group">
            <label asp-for="Email" class="col-md-2 control-label float-left">@Localizer["Email"]*</label>
            <div class="col-md-10 float-left">
                <input asp-for="Email" class="form-control float-left" autocomplete="off" />
                <span asp-validation-for="Email" class="text-danger"></span>
            </div>
        </div>
        <br />
        <div class="form-group">
            <label asp-for="Password" class="col-md-2 control-label float-left">@Localizer["Password"]*</label>
            <div class="col-md-10 float-left">
                <input asp-for="Password" class="form-control float-left" autocomplete="off" />
                <span asp-validation-for="Password" class="text-danger"></span>
                <label>@Localizer["PasswordRequirements"]</label>
            </div>
        </div>
        <div class="form-group">
            <label asp-for="ConfirmPassword" class="col-md-2 control-label float-left">@Localizer["ConfirmPassword"]*</label>
            <div class="col-md-10 float-left">
                <input asp-for="ConfirmPassword" class="form-control float-left" autocomplete="off" />
            </div>
        </div>
        <div class="form-group">
            <label asp-for="PhoneNumber" class="col-md-2 control-label float-left">@Localizer["PhoneNumber"]*</label>
            <div class="col-md-10 float-left">
                <input asp-for="PhoneNumber" class="form-control" />
                <span asp-validation-for="PhoneNumber" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group">
            <label asp-for="NameSurname" class="col-md-2 control-label float-left">@Localizer["NameSurname"]*</label>
            <div class="col-md-10 float-left">
                <input asp-for="NameSurname" class="form-control" />
                <span asp-validation-for="NameSurname" class="text-danger"></span>
                <label>@Localizer["NameSurnameRules"]</label>
            </div>
        </div>
        <br />
        <div class="form-group">
            <label asp-for="City" class="col-md-2 control-label float-left"></label>
            <div class="col-md-10 float-left">
                <input asp-for="City" class="form-control" />
                <span asp-validation-for="City" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group">
            <label asp-for="ZipCode" class="col-md-2 control-label float-left"></label>
            <div class="col-md-10 float-left">
                <input asp-for="ZipCode" class="form-control" />
                <span asp-validation-for="ZipCode" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group">
            <label asp-for="Address1" class="col-md-2 control-label float-left"></label>
            <div class="col-md-10 float-left">
                <input asp-for="Address1" class="form-control" />
                <span asp-validation-for="Address1" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group">
            <label asp-for="Address2" class="col-md-2 control-label float-left"></label>
            <div class="col-md-10 float-left">
                <input asp-for="Address2" class="form-control" />
                <span asp-validation-for="Address2" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group">
            <label asp-for="Country" class="col-md-2 control-label float-left"></label>
            <div class="col-md-10 float-left">
                <input asp-for="Country" class="form-control" />
                <span asp-validation-for="Country" class="text-danger"></span>
            </div>
        </div>
        <label>@Localizer["RequiredFields"]</label>
        <div class="form-group">
            <div class="col-md-2 control-label float-left">
                <input type="submit" value=@Localizer["Register"] class="btn btn-primary" />
            </div>
        </div>
    </form>

}

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}

    <script>

        [...document.querySelectorAll('#PhoneNumber')][0].addEventListener('keydown', function () {
            this.value = this.value.replace(/[^\d]/g, '')
        });
        [...document.querySelectorAll('#UserName')][0].addEventListener('keydown', function () {
            this.value = this.value.replace(/[Р-пр-џЈИ]/g, '')
        });
    </script>
    <script>
        $('#sources').each(function () {
            let classes = $(this).attr("class"),
                id = $(this).attr("id"),
                name = $(this).attr("name");
            let template = '<div class="' + classes + '">';
            template += '<span class="custom-select-trigger">' + $(this).attr("placeholder") + '</span>';
            template += '<div class="custom-options">';
            $(this).find("option").each(function () {
                template += '<span class="custom-option ' + $(this).attr("class") + '" data-value="' + $(this).attr("value") + '">' + $(this).html() + '</span>';
            });
            template += '</div></div>';

            $(this).wrap('<div class="custom-select-wrapper"></div>');
            $(this).hide();
            $(this).after(template);
        });
        $(".custom-option:first-of-type").hover(function () {
            $(this).parents(".custom-options").addClass("option-hover");
        }, function () {
            $(this).parents(".custom-options").removeClass("option-hover");
        });
        $(".custom-select-trigger").on("click", function () {
            $('html').one('click', function () {
                $(".custom-select").removeClass("opened");
            });
            $(this).parents(".custom-select").toggleClass("opened");
            event.stopPropagation();
        });
        $(".custom-option").on("click", function () {
            $(this).parents(".custom-select-wrapper").find("select").val($(this).data("value"));
            $(this).parents(".custom-options").find(".custom-option").removeClass("selection");
            $(this).addClass("selection");
            $(this).parents(".custom-select").removeClass("opened");
            $(this).parents(".custom-select").find(".custom-select-trigger").text($(this).text());
        });

        $('.delete-parent').click(function () {
            $(this).closest('.parent-delete').remove();
        });


    </script>


}