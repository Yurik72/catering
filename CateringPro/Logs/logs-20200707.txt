2020-07-07 10:12:13.455 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:12:13.558 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:12:13.578 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:12:13.578 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:12:13.623 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:12:13.623 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:12:13.625 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:12:13,1
2020-07-07 10:12:13.634 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:12:13.655 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-07 10:12:13.684 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-07 10:12:13.686 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-07 10:12:13.688 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:12:13.706 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (71ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:12:13.706 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:12:13,2
2020-07-07 10:12:13.708 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:13:13.590 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:13:13.590 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:13:13.591 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:13:13.592 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:13:13.594 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:13:13.594 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:13:13.594 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:13:13,1
2020-07-07 10:13:13.598 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:13:13.600 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:13:13.636 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (41ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:13:13.637 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:13:13,2
2020-07-07 10:13:13.639 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:14:13.609 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:14:13.610 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:14:13.612 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:14:13.613 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:14:13.615 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:14:13.615 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:14:13.615 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:14:13,1
2020-07-07 10:14:13.619 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:14:13.620 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:14:13.663 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (48ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:14:13.663 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:14:13,2
2020-07-07 10:14:13.667 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:15:13.624 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:15:13.625 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:15:13.626 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:15:13.626 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:15:13.628 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:15:13.628 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:15:13.628 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:15:13,1
2020-07-07 10:15:13.631 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:15:13.632 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:15:13.667 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (39ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:15:13.667 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:15:13,2
2020-07-07 10:15:13.670 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:16:13.641 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:16:13.643 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:16:13.645 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:16:13.646 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:16:13.648 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:16:13.648 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:16:13,1
2020-07-07 10:16:13.648 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:16:13.653 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:16:13.654 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:16:13.705 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (57ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:16:13.706 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:16:13,2
2020-07-07 10:16:13.709 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:17:25.906 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:17:26.266 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 10:17:26.329 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (50ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 10:17:26.350 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 10:17:26.513 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 10:17:26.644 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:17:26.646 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:17:26.683 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 10:17:26.683 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 10:17:26.683 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-07 10:17:26.700 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 10:17:26.713 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 10:17:26.714 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:17:26.716 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:17:26.730 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:17:26,1
2020-07-07 10:17:26.756 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:17:26.769 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:17:26.775 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:17:26.840 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address1], [a].[Address2], [a].[City], [a].[CompanyId], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MenuType], [a].[NameSurname], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[ZipCode]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2020-07-07 10:17:26.852 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (110ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:17:26.855 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:17:26,2
2020-07-07 10:17:26.858 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:17:26.863 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:17:26.911 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2020-07-07 10:17:26.963 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2020-07-07 10:17:26.974 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2020-07-07 10:17:26.987 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2020-07-07 10:17:26.996 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 10:17:27.010 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-07 10:17:27.018 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 10:17:27.033 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 10:17:27.039 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:17:27.188 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 155.2823ms.
2020-07-07 10:17:27.189 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 171.3002ms
2020-07-07 10:17:27.189 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 10:17:27.195 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 495.2856ms 200 text/html; charset=utf-8
2020-07-07 10:17:27.205 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css  
2020-07-07 10:17:27.205 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/carousel.css  
2020-07-07 10:17:27.205 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/font-awesome/css/font-awesome.css  
2020-07-07 10:17:27.211 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /lib/font-awesome/css/font-awesome.css was not modified
2020-07-07 10:17:27.211 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/carousel.css was not modified
2020-07-07 10:17:27.211 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/bootstrap.min.css was not modified
2020-07-07 10:17:27.213 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 8.2218ms 304 text/css
2020-07-07 10:17:27.213 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 7.3375ms 304 text/css
2020-07-07 10:17:27.213 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 8.2218ms 304 text/css
2020-07-07 10:17:27.229 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css  
2020-07-07 10:17:27.233 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap-duallistbox.css  
2020-07-07 10:17:27.233 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/bootstrap-duallistbox.css was not modified
2020-07-07 10:17:27.233 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.3398ms 304 text/css
2020-07-07 10:17:27.250 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/jquery-ui.css  
2020-07-07 10:17:27.250 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/jquery-ui.css was not modified
2020-07-07 10:17:27.251 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.4322ms 304 text/css
2020-07-07 10:17:27.251 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/site.css  
2020-07-07 10:17:27.251 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/site.css was not modified
2020-07-07 10:17:27.251 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.4422ms 304 text/css
2020-07-07 10:17:27.260 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/jquery.min.js  
2020-07-07 10:17:27.260 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/jquery.min.js was not modified
2020-07-07 10:17:27.260 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.7114ms 304 application/javascript
2020-07-07 10:17:27.265 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/jquery-ui.js  
2020-07-07 10:17:27.266 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/jquery-ui.js was not modified
2020-07-07 10:17:27.266 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.7705ms 304 application/javascript
2020-07-07 10:17:27.270 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 10:17:27.283 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:17:27.284 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 10:17:27.295 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js  
2020-07-07 10:17:27.296 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:17:27.297 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/bootstrap.min.js was not modified
2020-07-07 10:17:27.297 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.8073ms 304 application/javascript
2020-07-07 10:17:27.298 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/lib/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css'. Physical path: 'D:\work\catering\CateringPro\wwwroot\lib\awesome-bootstrap-checkbox\awesome-bootstrap-checkbox.css'
2020-07-07 10:17:27.299 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 69.978ms 200 text/css
2020-07-07 10:17:27.301 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:17:27.309 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/jquery.bootstrap-duallistbox.js  
2020-07-07 10:17:27.310 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/jquery.bootstrap-duallistbox.js was not modified
2020-07-07 10:17:27.310 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.3826ms 304 application/javascript
2020-07-07 10:17:27.312 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 10:17:27.332 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/site.js?v=WvUmlE8e_VDlPeR0g6h9Y5zTmjvT0eIH_AR_uNfWDd4  
2020-07-07 10:17:27.332 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/site.js was not modified
2020-07-07 10:17:27.332 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.4133ms 304 application/javascript
2020-07-07 10:17:27.343 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 10:17:27.351 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 8.5703ms.
2020-07-07 10:17:27.353 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 55.9364ms
2020-07-07 10:17:27.354 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 10:17:27.355 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 85.1663ms 200 text/html; charset=utf-8
2020-07-07 10:17:27.366 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/slide10.jpg  
2020-07-07 10:17:27.367 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/slide10.jpg was not modified
2020-07-07 10:17:27.367 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.467ms 304 image/jpeg
2020-07-07 10:17:27.381 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/slide11.jpg  
2020-07-07 10:17:27.381 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/slide11.jpg was not modified
2020-07-07 10:17:27.381 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/slide12.jpg  
2020-07-07 10:17:27.382 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.7429ms 304 image/jpeg
2020-07-07 10:17:27.382 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/slide12.jpg was not modified
2020-07-07 10:17:27.382 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.5307ms 304 image/jpeg
2020-07-07 10:17:27.401 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/jquery.min.js  
2020-07-07 10:17:27.401 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/jquery.min.js was not modified
2020-07-07 10:17:27.401 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.5003ms 304 application/javascript
2020-07-07 10:17:27.402 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/jquery-ui.js  
2020-07-07 10:17:27.402 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js  
2020-07-07 10:17:27.402 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/jquery-ui.js was not modified
2020-07-07 10:17:27.402 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/bootstrap.min.js was not modified
2020-07-07 10:17:27.402 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.3697ms 304 application/javascript
2020-07-07 10:17:27.402 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.408ms 304 application/javascript
2020-07-07 10:17:27.407 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/jquery.bootstrap-duallistbox.js  
2020-07-07 10:17:27.407 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/site.js?v=WvUmlE8e_VDlPeR0g6h9Y5zTmjvT0eIH_AR_uNfWDd4  
2020-07-07 10:17:27.407 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/site.js was not modified
2020-07-07 10:17:27.407 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/jquery.bootstrap-duallistbox.js was not modified
2020-07-07 10:17:27.407 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.3076ms 304 application/javascript
2020-07-07 10:17:27.407 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.3545ms 304 application/javascript
2020-07-07 10:17:27.456 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/circle2.jpg  
2020-07-07 10:17:27.457 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/circle1.jpg  
2020-07-07 10:17:27.457 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/circle2.jpg was not modified
2020-07-07 10:17:27.457 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/circle1.jpg was not modified
2020-07-07 10:17:27.458 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.6793ms 304 image/jpeg
2020-07-07 10:17:27.458 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.739ms 304 image/jpeg
2020-07-07 10:17:27.458 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/circle3.jpg  
2020-07-07 10:17:27.459 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/circle3.jpg was not modified
2020-07-07 10:17:27.459 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.4727ms 304 image/jpeg
2020-07-07 10:17:27.466 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/pict1_500x500.jpg  
2020-07-07 10:17:27.466 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/pict1_500x500.jpg was not modified
2020-07-07 10:17:27.467 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.1337ms 304 image/jpeg
2020-07-07 10:17:27.468 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/pict2_500x500.jpg  
2020-07-07 10:17:27.468 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/pict3_500x500.jpg  
2020-07-07 10:17:27.468 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/pict2_500x500.jpg was not modified
2020-07-07 10:17:27.468 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/pict3_500x500.jpg was not modified
2020-07-07 10:17:27.468 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.6566ms 304 image/jpeg
2020-07-07 10:17:27.468 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.745ms 304 image/jpeg
2020-07-07 10:17:27.532 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 10:17:27.563 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 30.8082ms 404 
2020-07-07 10:17:27.564 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/font-awesome/fonts/fontawesome-webfont.woff2?v=4.3.0  
2020-07-07 10:17:27.565 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /lib/font-awesome/fonts/fontawesome-webfont.woff2 was not modified
2020-07-07 10:17:27.565 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.114ms 304 font/woff2
2020-07-07 10:17:27.589 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 10:17:27.591 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 2.1199ms 404 
2020-07-07 10:17:27.602 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594106247450  
2020-07-07 10:17:27.606 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:17:27.607 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:17:27.616 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 10:17:27.630 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:17:27.633 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 10:17:27.633 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 17.2611ms 200 image/x-icon
2020-07-07 10:17:27.645 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:17:27.648 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 10:17:27.651 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 10:17:27.745 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 94.3858ms.
2020-07-07 10:17:27.745 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 114.6138ms
2020-07-07 10:17:27.745 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:17:27.745 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 142.6156ms 200 text/html; charset=utf-8
2020-07-07 10:17:28.754 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594106247451  
2020-07-07 10:17:28.759 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:17:28.759 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:17:28.763 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:17:28.766 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:17:28.773 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 10:17:28.774 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 10:17:28.801 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 27.7123ms.
2020-07-07 10:17:28.801 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 38.0778ms
2020-07-07 10:17:28.801 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:17:28.802 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 47.712ms 200 text/html; charset=utf-8
2020-07-07 10:17:28.816 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594106247452  
2020-07-07 10:17:28.817 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:17:28.817 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:17:28.822 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:17:28.827 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:17:28.839 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:17:28.852 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:17:28.857 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:17:28.866 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 11.0515ms.
2020-07-07 10:17:28.866 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 44.5072ms
2020-07-07 10:17:28.866 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:17:28.866 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 50.6545ms 200 text/html; charset=utf-8
2020-07-07 10:17:30.575 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594106247453  
2020-07-07 10:17:30.581 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:17:30.582 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:17:30.584 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:17:30.586 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:17:30.590 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:17:30.593 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:17:30.594 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:17:30.597 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 3.4529ms.
2020-07-07 10:17:30.597 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 13.4635ms
2020-07-07 10:17:30.597 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:17:30.598 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 22.6982ms 200 text/html; charset=utf-8
2020-07-07 10:17:37.899 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594106247454  
2020-07-07 10:17:37.902 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:17:37.902 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:17:37.903 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:17:37.905 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:17:37.912 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:17:37.917 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:17:37.920 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:17:37.923 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 3.2352ms.
2020-07-07 10:17:37.923 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 20.4221ms
2020-07-07 10:17:37.924 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:17:37.924 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 25.0728ms 200 text/html; charset=utf-8
2020-07-07 10:17:39.355 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594106247455  
2020-07-07 10:17:39.360 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:17:39.361 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:17:39.361 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:17:39.363 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:17:39.367 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:17:39.369 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:17:39.370 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:17:39.373 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 3.4454ms.
2020-07-07 10:17:39.374 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 12.6692ms
2020-07-07 10:17:39.374 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:17:39.374 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 18.9789ms 200 text/html; charset=utf-8
2020-07-07 10:17:44.938 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=2&_=1594106247456  
2020-07-07 10:17:44.940 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:17:44.940 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:17:44.940 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:17:44.943 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:17:44.945 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:17:44.946 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:17:44.947 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:17:44.950 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 3.1505ms.
2020-07-07 10:17:44.951 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 10.0138ms
2020-07-07 10:17:44.951 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:17:44.951 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.9771ms 200 text/html; charset=utf-8
2020-07-07 10:17:54.520 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 437
2020-07-07 10:17:54.522 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:17:54.522 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:17:54.547 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:17:54.576 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:17:54.591 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 10:17:54.627 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__8__locals1_complex_Id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[CompanyId], [d].[DishCourse]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__8__locals1_complex_Id_1)
2020-07-07 10:17:54.669 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [DishComplex] SET [CompanyId] = @p0, [DishCourse] = @p1
WHERE [DishId] = @p2 AND [ComplexId] = @p3;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p4, [DishCourse] = @p5
WHERE [DishId] = @p6 AND [ComplexId] = @p7;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p8, [DishCourse] = @p9
WHERE [DishId] = @p10 AND [ComplexId] = @p11;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p12, [DishCourse] = @p13
WHERE [DishId] = @p14 AND [ComplexId] = @p15;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p16, [DishCourse] = @p17
WHERE [DishId] = @p18 AND [ComplexId] = @p19;
SELECT @@ROWCOUNT;
2020-07-07 10:17:54.675 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-07-07 10:17:54.680 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 133.5032ms
2020-07-07 10:17:54.680 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:17:54.680 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 160.5601ms 200 application/json; charset=utf-8
2020-07-07 10:17:54.690 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594106247457  
2020-07-07 10:17:54.691 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:17:54.691 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:17:54.691 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:17:54.692 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:17:54.695 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 10:17:54.695 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 10:17:54.705 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 9.4779ms.
2020-07-07 10:17:54.705 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 13.2669ms
2020-07-07 10:17:54.705 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:17:54.705 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14.3809ms 200 text/html; charset=utf-8
2020-07-07 10:17:56.792 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594106247458  
2020-07-07 10:17:56.794 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:17:56.794 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:17:56.794 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:17:56.795 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:17:56.798 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 10:17:56.799 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 10:17:56.801 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 2.7011ms.
2020-07-07 10:17:56.802 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 7.3775ms
2020-07-07 10:17:56.802 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:17:56.802 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.0965ms 200 text/html; charset=utf-8
2020-07-07 10:17:56.814 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594106247459  
2020-07-07 10:17:56.815 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:17:56.815 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:17:56.815 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:17:56.816 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:17:56.817 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:17:56.818 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:17:56.819 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:17:56.820 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 1.6075ms.
2020-07-07 10:17:56.820 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 5.053ms
2020-07-07 10:17:56.820 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:17:56.821 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 6.4032ms 200 text/html; charset=utf-8
2020-07-07 10:17:58.287 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594106247460  
2020-07-07 10:17:58.291 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:17:58.291 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594106247461  
2020-07-07 10:17:58.291 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:17:58.292 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:17:58.295 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:17:58.295 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:17:58.296 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:17:58.296 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:17:58.298 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:17:58.300 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:17:58.302 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:17:58.305 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:17:58.306 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:17:58.306 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:17:58.307 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:17:58.311 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 5.2434ms.
2020-07-07 10:17:58.311 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 4.2341ms.
2020-07-07 10:17:58.311 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 19.0974ms
2020-07-07 10:17:58.311 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 15.5516ms
2020-07-07 10:17:58.311 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:17:58.311 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:17:58.312 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 20.8024ms 200 text/html; charset=utf-8
2020-07-07 10:17:58.312 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 24.9681ms 200 text/html; charset=utf-8
2020-07-07 10:18:23.793 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594106247462  
2020-07-07 10:18:23.795 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594106247463  
2020-07-07 10:18:23.796 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:18:23.796 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:18:23.796 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:18:23.797 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:18:23.797 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:18:23.797 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:18:23.798 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:18:23.798 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:18:23.801 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:18:23.801 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:18:23.803 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:18:23.803 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:18:23.804 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:18:23.804 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:18:23.806 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.0749ms.
2020-07-07 10:18:23.806 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.073ms.
2020-07-07 10:18:23.806 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 8.3135ms
2020-07-07 10:18:23.806 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 9.5691ms
2020-07-07 10:18:23.806 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:18:23.806 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:18:23.806 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.8084ms 200 text/html; charset=utf-8
2020-07-07 10:18:23.806 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.9376ms 200 text/html; charset=utf-8
2020-07-07 10:19:01.776 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=3&_=1594106247464  
2020-07-07 10:19:01.778 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:19:01.778 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:19:01.778 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:19:01.779 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=3&_=1594106247465  
2020-07-07 10:19:01.781 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:19:01.781 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:19:01.781 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:19:01.781 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:19:01.783 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:19:01.786 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:19:01.786 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:19:01.790 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:19:01.790 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:19:01.791 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:19:01.791 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:19:01.793 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.2479ms.
2020-07-07 10:19:01.793 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.2436ms.
2020-07-07 10:19:01.793 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 11.7033ms
2020-07-07 10:19:01.793 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 14.6721ms
2020-07-07 10:19:01.793 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:19:01.793 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:19:01.795 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 19.0131ms 200 text/html; charset=utf-8
2020-07-07 10:19:01.795 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 15.91ms 200 text/html; charset=utf-8
2020-07-07 10:20:25.992 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:20:26.655 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 10:20:26.691 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 10:20:26.712 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 10:20:26.884 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 10:20:27.083 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:20:27.086 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:20:27.114 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 10:20:27.114 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 10:20:27.114 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-07 10:20:27.129 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 10:20:27.139 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 10:20:27.142 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:20:27.146 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:20:27.159 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:20:27,1
2020-07-07 10:20:27.183 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:20:27.195 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 10:20:27.200 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:20:27.225 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 10:20:27.240 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 10:20:27.276 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (101ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:20:27.278 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:20:27,2
2020-07-07 10:20:27.281 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:20:27.312 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:20:27.318 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:20:27.401 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 161.3231ms.
2020-07-07 10:20:27.401 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 175.5548ms
2020-07-07 10:20:27.401 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 10:20:27.404 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 275.8414ms 200 text/html; charset=utf-8
2020-07-07 10:20:29.435 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 10:20:29.448 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:20:29.448 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 10:20:29.453 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:20:29.456 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:20:29.464 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 10:20:29.486 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 10:20:29.498 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 13.1856ms.
2020-07-07 10:20:29.499 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 46.308ms
2020-07-07 10:20:29.500 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 10:20:29.504 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 69.4723ms 200 text/html; charset=utf-8
2020-07-07 10:20:29.652 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 10:20:29.673 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 20.3131ms 404 
2020-07-07 10:20:29.710 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 10:20:29.713 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 3.6774ms 404 
2020-07-07 10:20:29.717 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594106429598  
2020-07-07 10:20:29.721 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:20:29.721 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:20:29.732 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:20:29.734 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 10:20:29.742 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:20:29.745 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 10:20:29.749 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 10:20:29.756 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 10:20:29.756 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 22.0929ms 200 image/x-icon
2020-07-07 10:20:29.817 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 68.9493ms.
2020-07-07 10:20:29.817 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 85.4076ms
2020-07-07 10:20:29.817 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:20:29.818 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 100.7496ms 200 text/html; charset=utf-8
2020-07-07 10:20:31.174 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594106429599  
2020-07-07 10:20:31.181 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:20:31.181 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:20:31.187 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:20:31.190 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:20:31.220 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 10:20:31.223 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 10:20:31.253 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 31.1919ms.
2020-07-07 10:20:31.253 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 65.6225ms
2020-07-07 10:20:31.253 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:20:31.253 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 79.6607ms 200 text/html; charset=utf-8
2020-07-07 10:20:31.267 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594106429600  
2020-07-07 10:20:31.268 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:20:31.268 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:20:31.273 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:20:31.278 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:20:31.300 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:20:31.321 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:20:31.323 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:20:31.334 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 11.6808ms.
2020-07-07 10:20:31.334 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 60.942ms
2020-07-07 10:20:31.334 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:20:31.334 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 67.1079ms 200 text/html; charset=utf-8
2020-07-07 10:20:32.612 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594106429601  
2020-07-07 10:20:32.616 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:20:32.616 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:20:32.618 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:20:32.620 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:20:32.622 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:20:32.624 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:20:32.625 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:20:32.627 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.7011ms.
2020-07-07 10:20:32.628 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 9.6701ms
2020-07-07 10:20:32.628 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:20:32.628 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 16.0905ms 200 text/html; charset=utf-8
2020-07-07 10:20:35.848 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594106429602  
2020-07-07 10:20:35.851 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:20:35.851 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:20:35.852 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:20:35.854 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:20:35.860 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:20:35.867 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:20:35.869 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:20:35.875 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 5.6151ms.
2020-07-07 10:20:35.875 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 23.3754ms
2020-07-07 10:20:35.875 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:20:35.876 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 27.5696ms 200 text/html; charset=utf-8
2020-07-07 10:20:39.784 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594106429603  
2020-07-07 10:20:39.786 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:20:39.786 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:20:39.786 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:20:39.788 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:20:39.790 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:20:39.792 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:20:39.793 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:20:39.795 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.374ms.
2020-07-07 10:20:39.795 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 8.7013ms
2020-07-07 10:20:39.795 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:20:39.795 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 11.165ms 200 text/html; charset=utf-8
2020-07-07 10:21:45.754 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:21:45.994 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 10:21:46.026 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 10:21:46.041 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 10:21:46.206 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 10:21:46.312 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:21:46.315 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:21:46.345 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 10:21:46.345 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 10:21:46.345 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-07 10:21:46.359 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 10:21:46.370 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 10:21:46.371 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:21:46.373 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:21:46.386 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:21:46,1
2020-07-07 10:21:46.407 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:21:46.421 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:21:46.426 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:21:46.427 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 10:21:46.451 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:21:46.455 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:21:46.496 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 10:21:46.511 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:21:46.519 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (123ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:21:46.521 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:21:46.522 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:21:46,2
2020-07-07 10:21:46.525 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:21:46.528 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 10:21:46.640 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 114.3153ms.
2020-07-07 10:21:46.642 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 190.7806ms
2020-07-07 10:21:46.643 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 10:21:46.651 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 291.8867ms 200 text/html; charset=utf-8
2020-07-07 10:21:46.822 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 10:21:46.832 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.3589ms 404 
2020-07-07 10:21:46.869 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 10:21:46.880 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594106506733  
2020-07-07 10:21:46.890 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 20.8194ms 404 
2020-07-07 10:21:46.890 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 10:21:46.890 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:21:46.892 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:21:46.906 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 10:21:46.907 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 17.016ms 200 image/x-icon
2020-07-07 10:21:46.913 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:21:46.929 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:21:46.930 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 10:21:46.932 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 10:21:47.009 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 77.6669ms.
2020-07-07 10:21:47.009 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 96.1267ms
2020-07-07 10:21:47.009 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:21:47.009 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 128.707ms 200 text/html; charset=utf-8
2020-07-07 10:21:48.187 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594106506734  
2020-07-07 10:21:48.191 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:21:48.191 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:21:48.195 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:21:48.198 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:21:48.220 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 10:21:48.222 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 10:21:48.251 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 29.0643ms.
2020-07-07 10:21:48.251 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 55.5331ms
2020-07-07 10:21:48.251 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:21:48.251 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 64.6298ms 200 text/html; charset=utf-8
2020-07-07 10:21:48.265 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594106506735  
2020-07-07 10:21:48.265 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:21:48.266 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:21:48.271 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:21:48.274 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:21:48.297 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:21:48.348 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (31ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:21:48.355 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:21:48.375 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 21.2296ms.
2020-07-07 10:21:48.375 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 104.5644ms
2020-07-07 10:21:48.375 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:21:48.375 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 110.8554ms 200 text/html; charset=utf-8
2020-07-07 10:21:49.675 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594106506736  
2020-07-07 10:21:49.677 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:21:49.677 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:21:49.677 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:21:49.679 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:21:49.681 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:21:49.684 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:21:49.685 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:21:49.687 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.5515ms.
2020-07-07 10:21:49.687 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 9.7796ms
2020-07-07 10:21:49.687 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:21:49.688 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.9309ms 200 text/html; charset=utf-8
2020-07-07 10:21:52.999 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 437
2020-07-07 10:21:53.002 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:21:53.003 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:21:53.036 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:21:53.066 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:21:53.168 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 10:21:53.231 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__8__locals1_complex_Id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[CompanyId], [d].[DishCourse]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__8__locals1_complex_Id_1)
2020-07-07 10:21:53.281 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [DishComplex] SET [CompanyId] = @p0, [DishCourse] = @p1
WHERE [DishId] = @p2 AND [ComplexId] = @p3;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p4, [DishCourse] = @p5
WHERE [DishId] = @p6 AND [ComplexId] = @p7;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p8, [DishCourse] = @p9
WHERE [DishId] = @p10 AND [ComplexId] = @p11;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p12, [DishCourse] = @p13
WHERE [DishId] = @p14 AND [ComplexId] = @p15;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p16, [DishCourse] = @p17
WHERE [DishId] = @p18 AND [ComplexId] = @p19;
SELECT @@ROWCOUNT;
2020-07-07 10:21:53.286 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-07-07 10:21:53.291 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 255.7332ms
2020-07-07 10:21:53.291 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:21:53.292 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 292.8591ms 200 application/json; charset=utf-8
2020-07-07 10:21:53.302 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594106506737  
2020-07-07 10:21:53.303 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:21:53.303 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:21:53.303 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:21:53.303 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:21:53.306 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 10:21:53.307 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 10:21:53.316 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 9.1598ms.
2020-07-07 10:21:53.316 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 12.7863ms
2020-07-07 10:21:53.316 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:21:53.316 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 13.5987ms 200 text/html; charset=utf-8
2020-07-07 10:21:55.005 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594106506738  
2020-07-07 10:21:55.009 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:21:55.009 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:21:55.010 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:21:55.012 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:21:55.019 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 10:21:55.022 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 10:21:55.026 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 4.84ms.
2020-07-07 10:21:55.027 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 16.5715ms
2020-07-07 10:21:55.027 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:21:55.027 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 21.8094ms 200 text/html; charset=utf-8
2020-07-07 10:21:55.039 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594106506739  
2020-07-07 10:21:55.041 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:21:55.041 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:21:55.041 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:21:55.042 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:21:55.045 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:21:55.050 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:21:55.052 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:21:55.054 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.9662ms.
2020-07-07 10:21:55.054 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 13.5765ms
2020-07-07 10:21:55.054 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:21:55.055 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 15.5018ms 200 text/html; charset=utf-8
2020-07-07 10:21:56.960 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594106506740  
2020-07-07 10:21:56.963 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:21:56.963 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:21:56.964 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:21:56.965 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:21:56.969 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:21:56.972 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:21:56.973 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:21:56.976 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.4798ms.
2020-07-07 10:21:56.976 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 12.2258ms
2020-07-07 10:21:56.976 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:21:56.976 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 16.0649ms 200 text/html; charset=utf-8
2020-07-07 10:21:56.989 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594106506741  
2020-07-07 10:21:56.992 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:21:56.992 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:21:56.992 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:21:56.993 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:21:56.995 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:21:56.998 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:21:56.999 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:21:57.000 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 1.859ms.
2020-07-07 10:21:57.001 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 8.4043ms
2020-07-07 10:21:57.001 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:21:57.001 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 11.5329ms 200 text/html; charset=utf-8
2020-07-07 10:25:46.458 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:25:46.460 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:25:46.461 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:25:46.462 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:25:46.463 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:25:46.463 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:25:46.464 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:25:46,1
2020-07-07 10:25:46.467 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:25:46.468 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:25:46.514 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (43ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:25:46.515 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:25:46,2
2020-07-07 10:25:46.518 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:26:01.828 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/2?_=1594106506742  
2020-07-07 10:26:01.831 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:26:01.831 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:26:01.831 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:26:01.832 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:26:01.837 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 10:26:01.838 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 10:26:01.841 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 3.3569ms.
2020-07-07 10:26:01.841 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 10.1024ms
2020-07-07 10:26:01.841 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:26:01.841 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 13.8489ms 200 text/html; charset=utf-8
2020-07-07 10:26:01.855 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=2&course=0&_=1594106506743  
2020-07-07 10:26:01.856 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:26:01.856 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:26:01.856 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:26:01.857 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:26:01.860 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:26:01.863 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:26:01.863 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:26:01.864 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 1.2072ms.
2020-07-07 10:26:01.865 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 8.2042ms
2020-07-07 10:26:01.865 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:26:01.865 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.7001ms 200 text/html; charset=utf-8
2020-07-07 10:26:04.353 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=2&course=1&_=1594106506744  
2020-07-07 10:26:04.356 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=2&course=1&_=1594106506745  
2020-07-07 10:26:04.356 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:26:04.356 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:26:04.357 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:26:04.357 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:26:04.357 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=2&course=1&_=1594106506746  
2020-07-07 10:26:04.357 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:26:04.357 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:26:04.358 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:26:04.358 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:26:04.358 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:26:04.358 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:26:04.358 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:26:04.358 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:26:04.361 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:26:04.361 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:26:04.361 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:26:04.363 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:26:04.363 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:26:04.363 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:26:04.364 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:26:04.364 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:26:04.364 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:26:04.366 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.4107ms.
2020-07-07 10:26:04.366 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.4063ms.
2020-07-07 10:26:04.366 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.0302ms.
2020-07-07 10:26:04.366 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 9.4915ms
2020-07-07 10:26:04.366 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 8.3652ms
2020-07-07 10:26:04.366 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 8.7878ms
2020-07-07 10:26:04.366 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:26:04.366 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:26:04.366 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:26:04.366 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.9064ms 200 text/html; charset=utf-8
2020-07-07 10:26:04.366 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 13.4414ms 200 text/html; charset=utf-8
2020-07-07 10:26:04.367 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.2837ms 200 text/html; charset=utf-8
2020-07-07 10:26:16.885 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 10:26:16.888 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:26:16.888 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 10:26:16.889 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:26:16.889 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:26:16.895 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 10:26:16.897 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 10:26:16.900 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 3.3826ms.
2020-07-07 10:26:16.900 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 11.5972ms
2020-07-07 10:26:16.900 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 10:26:16.901 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 15.2742ms 200 text/html; charset=utf-8
2020-07-07 10:26:17.044 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 10:26:17.046 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.7118ms 404 
2020-07-07 10:26:17.078 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594106776970  
2020-07-07 10:26:17.080 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:26:17.081 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:26:17.081 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:26:17.082 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:26:17.083 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 10:26:17.084 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 10:26:17.086 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 10:26:17.086 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 10:26:17.086 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.9907ms 404 
2020-07-07 10:26:17.088 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 10:26:17.088 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 2.3214ms 200 image/x-icon
2020-07-07 10:26:17.096 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 12.1921ms.
2020-07-07 10:26:17.096 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 15.1473ms
2020-07-07 10:26:17.096 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:26:17.096 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 17.7911ms 200 text/html; charset=utf-8
2020-07-07 10:26:18.255 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594106776971  
2020-07-07 10:26:18.258 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:26:18.258 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:26:18.258 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:26:18.260 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:26:18.266 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 10:26:18.267 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 10:26:18.276 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 8.588ms.
2020-07-07 10:26:18.276 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 17.6672ms
2020-07-07 10:26:18.276 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:26:18.276 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 21.0102ms 200 text/html; charset=utf-8
2020-07-07 10:26:18.295 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594106776972  
2020-07-07 10:26:18.297 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:26:18.297 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:26:18.298 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:26:18.299 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:26:18.304 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:26:18.312 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:26:18.313 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:26:18.316 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 3.5608ms.
2020-07-07 10:26:18.317 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 18.6821ms
2020-07-07 10:26:18.317 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:26:18.317 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 22.3949ms 200 text/html; charset=utf-8
2020-07-07 10:26:19.682 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594106776973  
2020-07-07 10:26:19.684 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:26:19.684 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:26:19.684 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:26:19.686 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:26:19.689 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:26:19.693 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:26:19.694 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:26:19.696 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.0033ms.
2020-07-07 10:26:19.696 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 11.232ms
2020-07-07 10:26:19.696 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:26:19.696 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 13.5882ms 200 text/html; charset=utf-8
2020-07-07 10:28:35.787 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:28:36.030 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 10:28:36.062 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 10:28:36.078 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 10:28:36.240 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 10:28:36.348 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:28:36.351 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:28:36.383 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 10:28:36.383 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 10:28:36.383 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-07 10:28:36.398 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 10:28:36.408 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 10:28:36.409 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:28:36.411 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:28:36.424 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:28:36,1
2020-07-07 10:28:36.445 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:28:36.461 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:28:36.466 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:28:36.467 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 10:28:36.488 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:28:36.493 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:28:36.529 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 10:28:36.531 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (97ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:28:36.534 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:28:36,2
2020-07-07 10:28:36.537 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:28:36.551 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:28:36.557 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:28:36.561 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 10:28:36.686 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 126.2072ms.
2020-07-07 10:28:36.688 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 199.4147ms
2020-07-07 10:28:36.688 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 10:28:36.696 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 298.191ms 200 text/html; charset=utf-8
2020-07-07 10:28:36.817 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 10:28:36.831 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 13.9923ms 404 
2020-07-07 10:28:36.869 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 10:28:36.882 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594106916765  
2020-07-07 10:28:36.888 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 10:28:36.891 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 22.8418ms 404 
2020-07-07 10:28:36.891 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:28:36.893 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:28:36.902 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 10:28:36.903 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14.3268ms 200 image/x-icon
2020-07-07 10:28:36.915 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:28:36.927 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:28:36.929 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 10:28:36.931 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 10:28:36.998 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 67.1572ms.
2020-07-07 10:28:36.998 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 83.3615ms
2020-07-07 10:28:36.998 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:28:36.998 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 116.0872ms 200 text/html; charset=utf-8
2020-07-07 10:28:39.235 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594106916766  
2020-07-07 10:28:39.238 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:28:39.239 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:28:39.242 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:28:39.246 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:28:39.264 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 10:28:39.266 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 10:28:39.296 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 30.8688ms.
2020-07-07 10:28:39.296 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 53.6171ms
2020-07-07 10:28:39.296 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:28:39.297 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 62.1543ms 200 text/html; charset=utf-8
2020-07-07 10:28:39.310 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594106916767  
2020-07-07 10:28:39.310 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:28:39.310 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:28:39.314 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:28:39.317 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:28:39.335 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:28:39.354 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:28:39.355 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:28:39.368 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 13.1858ms.
2020-07-07 10:28:39.368 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 53.9779ms
2020-07-07 10:28:39.368 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:28:39.369 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 58.8318ms 200 text/html; charset=utf-8
2020-07-07 10:28:40.883 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594106916768  
2020-07-07 10:28:40.884 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:28:40.885 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:28:40.885 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:28:40.886 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:28:40.889 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:28:40.891 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:28:40.892 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:28:40.895 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.7037ms.
2020-07-07 10:28:40.895 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 10.0262ms
2020-07-07 10:28:40.895 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:28:40.895 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 13.0883ms 200 text/html; charset=utf-8
2020-07-07 10:28:42.567 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 580
2020-07-07 10:28:42.571 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:28:42.572 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:28:42.597 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:28:42.624 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:28:42.717 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 10:28:42.772 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__8__locals1_complex_Id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[CompanyId], [d].[DishCourse]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__8__locals1_complex_Id_1)
2020-07-07 10:28:42.821 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [DishComplex] SET [CompanyId] = @p0, [DishCourse] = @p1
WHERE [DishId] = @p2 AND [ComplexId] = @p3;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p4, [DishCourse] = @p5
WHERE [DishId] = @p6 AND [ComplexId] = @p7;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p8, [DishCourse] = @p9
WHERE [DishId] = @p10 AND [ComplexId] = @p11;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p12, [DishCourse] = @p13
WHERE [DishId] = @p14 AND [ComplexId] = @p15;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p16, [DishCourse] = @p17
WHERE [DishId] = @p18 AND [ComplexId] = @p19;
SELECT @@ROWCOUNT;
2020-07-07 10:28:42.827 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [DishComplex] SET [CompanyId] = @p0, [DishCourse] = @p1
WHERE [DishId] = @p2 AND [ComplexId] = @p3;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p4, [DishCourse] = @p5
WHERE [DishId] = @p6 AND [ComplexId] = @p7;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p8, [DishCourse] = @p9
WHERE [DishId] = @p10 AND [ComplexId] = @p11;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p12, [DishCourse] = @p13
WHERE [DishId] = @p14 AND [ComplexId] = @p15;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p16, [DishCourse] = @p17
WHERE [DishId] = @p18 AND [ComplexId] = @p19;
SELECT @@ROWCOUNT;
2020-07-07 10:28:42.829 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-07-07 10:28:42.835 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 237.4369ms
2020-07-07 10:28:42.835 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:28:42.835 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 268.4037ms 200 application/json; charset=utf-8
2020-07-07 10:28:42.845 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594106916769  
2020-07-07 10:28:42.845 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:28:42.845 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:28:42.846 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:28:42.846 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:28:42.847 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 10:28:42.848 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 10:28:42.855 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 6.8345ms.
2020-07-07 10:28:42.855 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 9.3251ms
2020-07-07 10:28:42.855 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:28:42.855 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.5151ms 200 text/html; charset=utf-8
2020-07-07 10:28:44.406 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594106916770  
2020-07-07 10:28:44.409 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:28:44.410 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:28:44.410 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:28:44.412 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:28:44.417 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 10:28:44.420 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 10:28:44.425 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 5.5222ms.
2020-07-07 10:28:44.425 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 14.7655ms
2020-07-07 10:28:44.425 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:28:44.425 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 19.8415ms 200 text/html; charset=utf-8
2020-07-07 10:28:44.437 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594106916771  
2020-07-07 10:28:44.439 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:28:44.439 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:28:44.440 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:28:44.442 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:28:44.444 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:28:44.446 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:28:44.447 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:28:44.449 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.2252ms.
2020-07-07 10:28:44.449 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 9.3551ms
2020-07-07 10:28:44.449 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:28:44.449 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.3546ms 200 text/html; charset=utf-8
2020-07-07 10:28:46.446 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594106916772  
2020-07-07 10:28:46.449 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594106916773  
2020-07-07 10:28:46.449 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:28:46.450 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:28:46.450 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:28:46.451 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:28:46.451 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:28:46.451 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:28:46.452 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:28:46.452 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:28:46.455 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:28:46.455 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:28:46.456 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:28:46.456 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:28:46.457 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:28:46.457 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:28:46.460 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.8982ms.
2020-07-07 10:28:46.460 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.8977ms.
2020-07-07 10:28:46.460 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 8.8899ms
2020-07-07 10:28:46.460 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:28:46.460 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 10.002ms
2020-07-07 10:28:46.460 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:28:46.461 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14.208ms 200 text/html; charset=utf-8
2020-07-07 10:28:46.461 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 11.784ms 200 text/html; charset=utf-8
2020-07-07 10:28:50.323 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=3&_=1594106916774  
2020-07-07 10:28:50.325 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:28:50.325 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:28:50.325 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:28:50.327 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:28:50.329 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:28:50.331 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:28:50.332 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:28:50.334 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.5491ms.
2020-07-07 10:28:50.334 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 8.9027ms
2020-07-07 10:28:50.334 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:28:50.335 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.3094ms 200 text/html; charset=utf-8
2020-07-07 10:28:50.352 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=3&_=1594106916775  
2020-07-07 10:28:50.353 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:28:50.353 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:28:50.353 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:28:50.354 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:28:50.355 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:28:50.356 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:28:50.357 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:28:50.359 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 1.6731ms.
2020-07-07 10:28:50.359 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 5.5692ms
2020-07-07 10:28:50.359 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:28:50.359 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 7.5037ms 200 text/html; charset=utf-8
2020-07-07 10:30:09.170 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:30:09.416 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 10:30:09.449 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 10:30:09.465 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 10:30:09.626 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 10:30:09.739 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:30:09.741 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:30:09.773 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 10:30:09.773 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 10:30:09.773 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-07 10:30:09.788 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 10:30:09.800 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 10:30:09.804 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:30:09.807 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:30:09.823 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:30:09,1
2020-07-07 10:30:09.846 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:30:09.853 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 10:30:09.862 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:30:09.886 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 10:30:09.901 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 10:30:09.935 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (99ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:30:09.938 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:30:09,2
2020-07-07 10:30:09.940 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:30:09.974 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:30:09.982 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:30:10.029 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 128.8231ms.
2020-07-07 10:30:10.030 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 144.2086ms
2020-07-07 10:30:10.030 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 10:30:10.035 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 247.1455ms 200 text/html; charset=utf-8
2020-07-07 10:30:46.705 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594106916776  
2020-07-07 10:30:46.713 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:30:46.714 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:30:46.720 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:30:46.723 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:30:46.742 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 10:30:46.763 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 10:30:46.798 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 36.3413ms.
2020-07-07 10:30:46.800 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 80.2625ms
2020-07-07 10:30:46.801 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:30:46.804 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 98.7832ms 200 text/html; charset=utf-8
2020-07-07 10:30:46.842 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594106916777  
2020-07-07 10:30:46.857 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:30:46.857 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:30:46.861 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:30:46.865 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:30:46.886 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:30:46.906 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:30:46.908 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:30:46.917 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 9.5267ms.
2020-07-07 10:30:46.918 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 57.1176ms
2020-07-07 10:30:46.918 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:30:46.919 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 76.3187ms 200 text/html; charset=utf-8
2020-07-07 10:30:48.138 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594106916778  
2020-07-07 10:30:48.145 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:30:48.146 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:30:48.146 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:30:48.149 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594106916779  
2020-07-07 10:30:48.150 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:30:48.151 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:30:48.151 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:30:48.151 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594106916780  
2020-07-07 10:30:48.152 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:30:48.152 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:30:48.152 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:30:48.152 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:30:48.152 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:30:48.153 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:30:48.154 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:30:48.154 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:30:48.156 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:30:48.158 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:30:48.159 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:30:48.159 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:30:48.159 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:30:48.160 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:30:48.161 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:30:48.163 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 3.4656ms.
2020-07-07 10:30:48.163 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 3.5425ms.
2020-07-07 10:30:48.163 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 16.2442ms
2020-07-07 10:30:48.163 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 11.2269ms
2020-07-07 10:30:48.163 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:30:48.163 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:30:48.163 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14.4036ms 200 text/html; charset=utf-8
2020-07-07 10:30:48.163 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 25.5942ms 200 text/html; charset=utf-8
2020-07-07 10:30:48.163 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.5519ms.
2020-07-07 10:30:48.166 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 13.6347ms
2020-07-07 10:30:48.166 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:30:48.166 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14.6102ms 200 text/html; charset=utf-8
2020-07-07 10:30:52.234 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 10:30:52.239 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:30:52.239 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 10:30:52.251 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:30:52.254 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:30:52.262 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 10:30:52.266 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 10:30:52.274 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 9.7997ms.
2020-07-07 10:30:52.274 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 22.3263ms
2020-07-07 10:30:52.274 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 10:30:52.274 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 40.3969ms 200 text/html; charset=utf-8
2020-07-07 10:30:52.395 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 10:30:52.405 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.2705ms 404 
2020-07-07 10:30:52.446 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 10:30:52.448 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.4454ms 404 
2020-07-07 10:30:52.459 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594107052344  
2020-07-07 10:30:52.460 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:30:52.460 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:30:52.470 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 10:30:52.475 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:30:52.482 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:30:52.485 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 10:30:52.486 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 10:30:52.486 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 10:30:52.487 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 17.4443ms 200 image/x-icon
2020-07-07 10:30:52.541 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 55.5776ms.
2020-07-07 10:30:52.541 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 65.6853ms
2020-07-07 10:30:52.541 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:30:52.541 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 82.6753ms 200 text/html; charset=utf-8
2020-07-07 10:30:53.576 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594107052345  
2020-07-07 10:30:53.577 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:30:53.578 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:30:53.578 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:30:53.580 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:30:53.584 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 10:30:53.585 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 10:30:53.588 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 3.0509ms.
2020-07-07 10:30:53.588 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 9.3898ms
2020-07-07 10:30:53.588 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:30:53.588 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.2053ms 200 text/html; charset=utf-8
2020-07-07 10:30:53.601 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594107052346  
2020-07-07 10:30:53.603 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:30:53.603 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:30:53.603 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:30:53.604 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:30:53.604 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:30:53.606 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:30:53.606 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:30:53.607 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 1.1485ms.
2020-07-07 10:30:53.607 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 4.3753ms
2020-07-07 10:30:53.607 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:30:53.608 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 6.46ms 200 text/html; charset=utf-8
2020-07-07 10:30:54.874 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594107052347  
2020-07-07 10:30:54.878 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:30:54.879 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:30:54.879 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:30:54.882 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:30:54.886 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:30:54.888 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:30:54.890 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:30:54.893 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 3.1211ms.
2020-07-07 10:30:54.893 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 13.7862ms
2020-07-07 10:30:54.893 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:30:54.893 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 19.1579ms 200 text/html; charset=utf-8
2020-07-07 10:30:56.801 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 580
2020-07-07 10:30:56.804 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:30:56.804 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:30:56.825 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:30:56.852 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:30:56.947 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 10:30:57.016 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__8__locals1_complex_Id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[CompanyId], [d].[DishCourse]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__8__locals1_complex_Id_1)
2020-07-07 10:30:57.067 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [DishComplex] SET [CompanyId] = @p0, [DishCourse] = @p1
WHERE [DishId] = @p2 AND [ComplexId] = @p3;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p4, [DishCourse] = @p5
WHERE [DishId] = @p6 AND [ComplexId] = @p7;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p8, [DishCourse] = @p9
WHERE [DishId] = @p10 AND [ComplexId] = @p11;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p12, [DishCourse] = @p13
WHERE [DishId] = @p14 AND [ComplexId] = @p15;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p16, [DishCourse] = @p17
WHERE [DishId] = @p18 AND [ComplexId] = @p19;
SELECT @@ROWCOUNT;
2020-07-07 10:30:57.073 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [DishComplex] SET [CompanyId] = @p0, [DishCourse] = @p1
WHERE [DishId] = @p2 AND [ComplexId] = @p3;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p4, [DishCourse] = @p5
WHERE [DishId] = @p6 AND [ComplexId] = @p7;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p8, [DishCourse] = @p9
WHERE [DishId] = @p10 AND [ComplexId] = @p11;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p12, [DishCourse] = @p13
WHERE [DishId] = @p14 AND [ComplexId] = @p15;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p16, [DishCourse] = @p17
WHERE [DishId] = @p18 AND [ComplexId] = @p19;
SELECT @@ROWCOUNT;
2020-07-07 10:30:57.074 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-07-07 10:30:57.082 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 256.7992ms
2020-07-07 10:30:57.082 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:30:57.082 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 281.1112ms 200 application/json; charset=utf-8
2020-07-07 10:30:57.092 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594107052348  
2020-07-07 10:30:57.092 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:30:57.092 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:30:57.093 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:30:57.093 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:30:57.094 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 10:30:57.095 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 10:30:57.101 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 6.0306ms.
2020-07-07 10:30:57.101 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 8.3816ms
2020-07-07 10:30:57.101 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:30:57.101 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.3987ms 200 text/html; charset=utf-8
2020-07-07 10:30:58.113 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594107052349  
2020-07-07 10:30:58.116 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:30:58.117 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:30:58.117 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:30:58.118 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:30:58.123 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 10:30:58.124 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 10:30:58.129 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 4.7238ms.
2020-07-07 10:30:58.129 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 12.0485ms
2020-07-07 10:30:58.129 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:30:58.130 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 16.4424ms 200 text/html; charset=utf-8
2020-07-07 10:30:58.141 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594107052350  
2020-07-07 10:30:58.141 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:30:58.141 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:30:58.141 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:30:58.142 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:30:58.142 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:30:58.144 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:30:58.144 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:30:58.146 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 1.472ms.
2020-07-07 10:30:58.146 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 4.4854ms
2020-07-07 10:30:58.146 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:30:58.146 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 5.4831ms 200 text/html; charset=utf-8
2020-07-07 10:30:59.882 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594107052351  
2020-07-07 10:30:59.885 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:30:59.885 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:30:59.886 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:30:59.889 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:30:59.894 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:30:59.899 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:30:59.899 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:30:59.902 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.6143ms.
2020-07-07 10:30:59.902 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 16.3798ms
2020-07-07 10:30:59.902 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:30:59.903 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 21.0348ms 200 text/html; charset=utf-8
2020-07-07 10:31:08.022 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594107052352  
2020-07-07 10:31:08.024 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:31:08.024 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:31:08.025 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:31:08.027 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:31:08.030 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:31:08.034 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:31:08.036 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:31:08.040 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 4.0817ms.
2020-07-07 10:31:08.040 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 15.274ms
2020-07-07 10:31:08.040 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:31:08.040 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 18.2452ms 200 text/html; charset=utf-8
2020-07-07 10:31:11.658 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 437
2020-07-07 10:31:11.661 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:31:11.661 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:31:11.662 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:31:11.666 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:31:11.670 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 10:31:11.672 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__8__locals1_complex_Id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[CompanyId], [d].[DishCourse]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__8__locals1_complex_Id_1)
2020-07-07 10:31:11.674 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [DishComplex] SET [CompanyId] = @p0, [DishCourse] = @p1
WHERE [DishId] = @p2 AND [ComplexId] = @p3;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p4, [DishCourse] = @p5
WHERE [DishId] = @p6 AND [ComplexId] = @p7;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p8, [DishCourse] = @p9
WHERE [DishId] = @p10 AND [ComplexId] = @p11;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p12, [DishCourse] = @p13
WHERE [DishId] = @p14 AND [ComplexId] = @p15;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p16, [DishCourse] = @p17
WHERE [DishId] = @p18 AND [ComplexId] = @p19;
SELECT @@ROWCOUNT;
2020-07-07 10:31:11.675 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-07-07 10:31:11.676 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 14.0721ms
2020-07-07 10:31:11.676 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:31:11.676 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 18.3908ms 200 application/json; charset=utf-8
2020-07-07 10:31:11.687 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594107052353  
2020-07-07 10:31:11.689 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:31:11.689 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:31:11.689 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:31:11.690 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:31:11.691 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 10:31:11.691 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 10:31:11.696 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 4.861ms.
2020-07-07 10:31:11.696 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 7.1685ms
2020-07-07 10:31:11.696 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:31:11.696 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 8.8522ms 200 text/html; charset=utf-8
2020-07-07 10:31:12.719 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594107052354  
2020-07-07 10:31:12.720 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:31:12.720 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:31:12.720 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:31:12.721 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:31:12.724 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 10:31:12.725 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 10:31:12.729 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 3.353ms.
2020-07-07 10:31:12.729 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 8.3108ms
2020-07-07 10:31:12.729 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:31:12.729 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.2393ms 200 text/html; charset=utf-8
2020-07-07 10:31:12.740 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594107052355  
2020-07-07 10:31:12.743 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:31:12.743 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:31:12.743 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:31:12.745 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:31:12.747 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:31:12.750 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:31:12.750 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:31:12.751 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 1.4715ms.
2020-07-07 10:31:12.752 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 8.6201ms
2020-07-07 10:31:12.752 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:31:12.752 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 11.5244ms 200 text/html; charset=utf-8
2020-07-07 10:31:13.869 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594107052356  
2020-07-07 10:31:13.871 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:31:13.871 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:31:13.871 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:31:13.872 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:31:13.875 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:31:13.877 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:31:13.878 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:31:13.880 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.031ms.
2020-07-07 10:31:13.880 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 9.0861ms
2020-07-07 10:31:13.880 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:31:13.881 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 11.2093ms 200 text/html; charset=utf-8
2020-07-07 10:37:46.647 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:37:47.033 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 10:37:47.068 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 10:37:47.109 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 10:37:47.298 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 10:37:47.552 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:37:47.579 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:37:47.638 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 10:37:47.640 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 10:37:47.643 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-07 10:37:47.674 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:37:47.682 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:37:47.686 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 10:37:47.702 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:37:47,1
2020-07-07 10:37:47.706 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 10:37:47.736 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:37:47.765 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:37:47.819 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 10:37:47.875 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (145ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:37:47.900 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 10:37:47.905 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:37:47,2
2020-07-07 10:37:47.914 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:37:47.938 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 10:37:47.997 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:37:48.017 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:37:48.172 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 236.7434ms.
2020-07-07 10:37:48.177 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 272.9457ms
2020-07-07 10:37:48.179 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 10:37:48.187 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 501.2228ms 200 text/html; charset=utf-8
2020-07-07 10:38:02.320 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594107052357  
2020-07-07 10:38:02.341 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:38:02.344 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:38:02.352 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:38:02.359 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:38:02.383 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 10:38:02.515 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 10:38:02.581 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 168.2475ms.
2020-07-07 10:38:02.585 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 230.1002ms
2020-07-07 10:38:02.588 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:38:02.593 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 275.3455ms 200 text/html; charset=utf-8
2020-07-07 10:38:02.606 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594107052358  
2020-07-07 10:38:02.624 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:38:02.626 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:38:02.632 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:38:02.641 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:38:02.665 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:38:02.716 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:38:02.723 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:38:02.737 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 16.4084ms.
2020-07-07 10:38:02.745 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 106.0026ms
2020-07-07 10:38:02.747 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:38:02.749 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 143.6383ms 200 text/html; charset=utf-8
2020-07-07 10:38:04.853 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 437
2020-07-07 10:38:04.863 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:38:04.865 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:40:37.977 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:40:38.420 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 10:40:38.471 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 10:40:38.520 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 10:40:38.810 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 10:40:39.138 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:40:39.162 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:40:39.259 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 10:40:39.261 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 10:40:39.263 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-07 10:40:39.288 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (58ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:40:39.293 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:40:39.314 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 10:40:39.324 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:40:39,1
2020-07-07 10:40:39.337 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 10:40:39.354 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:40:39.404 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:40:39.479 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 10:40:39.523 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (174ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:40:39.530 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:40:39,2
2020-07-07 10:40:39.543 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:40:39.548 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 10:40:39.610 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 10:40:39.661 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:40:39.687 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:40:39.951 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 355.0301ms.
2020-07-07 10:40:39.955 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 403.9129ms
2020-07-07 10:40:39.959 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 10:40:39.970 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 654.5695ms 200 text/html; charset=utf-8
2020-07-07 10:40:48.564 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 437
2020-07-07 10:40:48.580 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:40:48.583 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:40:48.633 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:40:48.789 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:40:48.911 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 10:40:48.951 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__8__locals1_complex_Id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[CompanyId], [d].[DishCourse]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__8__locals1_complex_Id_1)
2020-07-07 10:40:49.003 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [DishComplex] SET [CompanyId] = @p0, [DishCourse] = @p1
WHERE [DishId] = @p2 AND [ComplexId] = @p3;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p4, [DishCourse] = @p5
WHERE [DishId] = @p6 AND [ComplexId] = @p7;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p8, [DishCourse] = @p9
WHERE [DishId] = @p10 AND [ComplexId] = @p11;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p12, [DishCourse] = @p13
WHERE [DishId] = @p14 AND [ComplexId] = @p15;
SELECT @@ROWCOUNT;

UPDATE [DishComplex] SET [CompanyId] = @p16, [DishCourse] = @p17
WHERE [DishId] = @p18 AND [ComplexId] = @p19;
SELECT @@ROWCOUNT;
2020-07-07 10:40:49.013 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-07-07 10:40:49.024 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 388.1431ms
2020-07-07 10:40:49.027 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:40:49.044 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 469.5129ms 200 application/json; charset=utf-8
2020-07-07 10:40:49.055 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594107052359  
2020-07-07 10:40:49.079 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:40:49.083 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:40:49.089 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:40:49.094 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:40:49.103 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 10:40:49.110 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 10:40:49.174 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 65.4182ms.
2020-07-07 10:40:49.177 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 85.1134ms
2020-07-07 10:40:49.180 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:40:49.182 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 127.3481ms 200 text/html; charset=utf-8
2020-07-07 10:42:07.553 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:42:08.002 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 10:42:08.052 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 10:42:08.109 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 10:42:08.326 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 10:42:08.727 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:42:08.750 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:42:08.861 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 10:42:08.863 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 10:42:08.864 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-07 10:42:08.903 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:42:08.912 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:42:08.920 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594107052360  
2020-07-07 10:42:08.920 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 10:42:08.946 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:42:08,1
2020-07-07 10:42:08.943 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 10:42:08.987 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:42:09.017 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:42:09.077 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 10:42:09.083 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:42:09.087 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:42:09.134 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:42:09.135 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 10:42:09.140 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (158ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:42:09.145 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:42:09,2
2020-07-07 10:42:09.154 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:42:09.165 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:42:09.218 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:42:09.223 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 10:42:09.234 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:42:09.257 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 10:42:09.277 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 10:42:09.479 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 215.0129ms.
2020-07-07 10:42:09.479 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 301.2338ms.
2020-07-07 10:42:09.483 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 345.2865ms
2020-07-07 10:42:09.489 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 10:42:09.492 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 354.9314ms
2020-07-07 10:42:09.497 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:42:09.510 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 588.7431ms 200 text/html; charset=utf-8
2020-07-07 10:42:09.539 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 619.011ms 200 text/html; charset=utf-8
2020-07-07 10:42:09.574 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594107052361  
2020-07-07 10:42:09.616 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:42:09.620 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:42:09.635 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:42:09.646 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:42:09.709 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:42:09.775 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:42:09.793 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:42:09.848 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 43.6305ms.
2020-07-07 10:42:09.856 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 213.6117ms
2020-07-07 10:42:09.860 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:42:09.863 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 293.3717ms 200 text/html; charset=utf-8
2020-07-07 10:42:11.346 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594107052362  
2020-07-07 10:42:11.353 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:42:11.356 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:42:11.360 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:42:11.365 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:42:11.371 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:42:11.376 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:42:11.379 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:42:11.385 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 4.9713ms.
2020-07-07 10:42:11.388 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 26.0194ms
2020-07-07 10:42:11.392 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:42:11.396 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 49.5244ms 200 text/html; charset=utf-8
2020-07-07 10:42:25.893 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 468
2020-07-07 10:42:25.900 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:42:25.904 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:42:25.965 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:42:26.171 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:42:26.316 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 10:42:26.378 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__8__locals1_complex_Id_1='?' (DbType = Int32), @__dl_DishCourse_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[CompanyId], [d].[DishCourse]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND (([d].[ComplexId] = @__8__locals1_complex_Id_1) AND ([d].[DishCourse] = @__dl_DishCourse_2))
2020-07-07 10:42:26.438 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [DishComplex] SET [CompanyId] = @p0, [DishCourse] = @p1
WHERE [DishId] = @p2 AND [ComplexId] = @p3;
SELECT @@ROWCOUNT;
2020-07-07 10:42:26.443 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__8__locals1_complex_Id_1='?' (DbType = Int32), @__dl_DishCourse_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[CompanyId], [d].[DishCourse]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND (([d].[ComplexId] = @__8__locals1_complex_Id_1) AND ([d].[DishCourse] = @__dl_DishCourse_2))
2020-07-07 10:42:26.449 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-07-07 10:42:26.459 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 491.0676ms
2020-07-07 10:42:26.462 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:42:26.465 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 573.1541ms 200 application/json; charset=utf-8
2020-07-07 10:42:26.483 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594107052363  
2020-07-07 10:42:26.487 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:42:26.491 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:42:26.504 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:42:26.510 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:42:26.519 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 10:42:26.523 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 10:42:26.598 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 74.8731ms.
2020-07-07 10:42:26.602 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 93.8978ms
2020-07-07 10:42:26.604 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:42:26.607 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 124.851ms 200 text/html; charset=utf-8
2020-07-07 10:42:44.671 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594107052364  
2020-07-07 10:42:44.676 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:42:44.679 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:42:44.690 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:42:44.694 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:42:44.702 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 10:42:44.706 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 10:42:44.712 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 6.2472ms.
2020-07-07 10:42:44.715 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 22.4557ms
2020-07-07 10:42:44.718 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:42:44.720 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 49.281ms 200 text/html; charset=utf-8
2020-07-07 10:42:44.732 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594107052365  
2020-07-07 10:42:44.735 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:42:44.737 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:42:44.740 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:42:44.744 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:42:44.750 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:42:44.755 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:42:44.758 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:42:44.766 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 6.9769ms.
2020-07-07 10:42:44.769 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 26.3328ms
2020-07-07 10:42:44.771 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:42:44.774 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 41.3429ms 200 text/html; charset=utf-8
2020-07-07 10:42:57.400 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 378
2020-07-07 10:42:57.404 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:42:57.407 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:42:57.409 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:42:57.414 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:42:57.450 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (30ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 10:42:57.456 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__8__locals1_complex_Id_1='?' (DbType = Int32), @__dl_DishCourse_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[CompanyId], [d].[DishCourse]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND (([d].[ComplexId] = @__8__locals1_complex_Id_1) AND ([d].[DishCourse] = @__dl_DishCourse_2))
2020-07-07 10:42:57.459 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-07-07 10:42:57.462 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 50.2979ms
2020-07-07 10:42:57.464 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:42:57.466 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 66.6971ms 200 application/json; charset=utf-8
2020-07-07 10:42:57.475 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594107052366  
2020-07-07 10:42:57.478 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:42:57.481 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:42:57.484 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:42:57.489 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:42:57.495 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 10:42:57.498 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 10:42:57.507 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 9.0361ms.
2020-07-07 10:42:57.510 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 22.5349ms
2020-07-07 10:42:57.512 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:42:57.514 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 39.3881ms 200 text/html; charset=utf-8
2020-07-07 10:43:52.046 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594107052367  
2020-07-07 10:43:52.051 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:43:52.053 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:43:52.056 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:43:52.063 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:43:52.071 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 10:43:52.075 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 10:43:52.081 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 5.5495ms.
2020-07-07 10:43:52.083 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 24.8435ms
2020-07-07 10:43:52.085 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:43:52.088 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 41.8681ms 200 text/html; charset=utf-8
2020-07-07 10:43:52.130 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594107052368  
2020-07-07 10:43:52.134 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:43:52.139 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:43:52.141 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:43:52.144 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:43:52.149 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:43:52.157 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:43:52.160 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:43:52.163 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 3.4031ms.
2020-07-07 10:43:52.166 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 22.1322ms
2020-07-07 10:43:52.171 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:43:52.173 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 43.1049ms 200 text/html; charset=utf-8
2020-07-07 10:43:55.912 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594107052369  
2020-07-07 10:43:55.917 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:43:55.923 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:43:55.926 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:43:55.932 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:43:55.942 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:43:55.947 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:43:55.954 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:43:55.962 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 10.8525ms.
2020-07-07 10:43:55.965 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 36.717ms
2020-07-07 10:43:55.970 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:43:55.975 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 61.1549ms 200 text/html; charset=utf-8
2020-07-07 10:44:05.420 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 493
2020-07-07 10:44:05.423 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:44:05.425 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:44:05.427 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:44:05.436 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:44:05.444 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 10:44:05.476 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__8__locals1_complex_Id_1='?' (DbType = Int32), @__dl_DishCourse_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[CompanyId], [d].[DishCourse]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND (([d].[ComplexId] = @__8__locals1_complex_Id_1) AND ([d].[DishCourse] = @__dl_DishCourse_2))
2020-07-07 10:45:37.235 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:45:37.979 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:45:38.830 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:45:38.834 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (851ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:45:38.836 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:45:38.839 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:45:38,1
2020-07-07 10:45:38.863 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:45:38.866 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [DishComplex] SET [CompanyId] = @p0, [DishCourse] = @p1
WHERE [DishId] = @p2 AND [ComplexId] = @p3;
SELECT @@ROWCOUNT;
2020-07-07 10:45:38.940 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (34ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:45:44.893 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:45:47.237 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1,336ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:45:47.262 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:45:47,2
2020-07-07 10:45:47.272 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:45:47.291 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__8__locals1_complex_Id_1='?' (DbType = Int32), @__dl_DishCourse_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[CompanyId], [d].[DishCourse]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND (([d].[ComplexId] = @__8__locals1_complex_Id_1) AND ([d].[DishCourse] = @__dl_DishCourse_2))
2020-07-07 10:47:19.969 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-07-07 10:47:20.691 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 194687.4098ms
2020-07-07 10:47:21.745 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:47:22.640 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 196516.9992ms 200 application/json; charset=utf-8
2020-07-07 10:47:23.011 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594107052370  
2020-07-07 10:47:23.042 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:47:23.044 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:47:23.047 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:47:23.051 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:47:23.060 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 10:47:23.063 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 10:47:23.070 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 7.2273ms.
2020-07-07 10:47:23.073 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 23.4199ms
2020-07-07 10:47:23.076 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:47:23.078 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 93.492ms 200 text/html; charset=utf-8
2020-07-07 10:48:49.780 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594107052371  
2020-07-07 10:48:49.819 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:48:49.838 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address1], [a].[Address2], [a].[City], [a].[CompanyId], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MenuType], [a].[NameSurname], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[ZipCode]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2020-07-07 10:48:49.898 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2020-07-07 10:48:49.929 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2020-07-07 10:48:49.942 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2020-07-07 10:48:49.956 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2020-07-07 10:48:49.964 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:48:49.966 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:48:49.968 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:48:49.976 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 10:48:49.978 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 10:48:49.988 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 9.0078ms.
2020-07-07 10:48:49.991 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 20.446ms
2020-07-07 10:48:49.993 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:48:49.995 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 216.7739ms 200 text/html; charset=utf-8
2020-07-07 10:48:50.007 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594107052372  
2020-07-07 10:48:50.010 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:48:50.012 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:48:50.015 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:48:50.019 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:48:50.024 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:48:50.029 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:48:50.031 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:48:50.038 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 6.0036ms.
2020-07-07 10:48:50.041 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 24.1581ms
2020-07-07 10:48:50.043 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:48:50.045 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 38.6618ms 200 text/html; charset=utf-8
2020-07-07 10:48:59.544 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 468
2020-07-07 10:48:59.548 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:48:59.551 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:48:59.554 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:48:59.560 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:48:59.569 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 10:48:59.603 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__8__locals1_complex_Id_1='?' (DbType = Int32), @__dl_DishCourse_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[CompanyId], [d].[DishCourse]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND (([d].[ComplexId] = @__8__locals1_complex_Id_1) AND ([d].[DishCourse] = @__dl_DishCourse_2))
2020-07-07 10:49:02.161 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [DishComplex] SET [CompanyId] = @p0, [DishCourse] = @p1
WHERE [DishId] = @p2 AND [ComplexId] = @p3;
SELECT @@ROWCOUNT;
2020-07-07 10:49:02.192 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-07-07 10:49:02.196 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 2639.6597ms
2020-07-07 10:49:02.199 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:49:02.202 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 2658.5489ms 200 application/json; charset=utf-8
2020-07-07 10:49:02.215 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594107052373  
2020-07-07 10:49:02.220 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:49:02.223 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:49:02.227 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:49:02.233 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:49:02.243 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 10:49:02.249 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 10:49:02.260 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 11.2317ms.
2020-07-07 10:49:02.263 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 33.3755ms
2020-07-07 10:49:02.265 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:49:02.268 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 52.1833ms 200 text/html; charset=utf-8
2020-07-07 10:50:59.420 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:50:59.425 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:50:59.452 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:50:59.460 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:50:59.462 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:50:59.464 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:50:59,1
2020-07-07 10:50:59.472 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:50:59.483 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:50:59.493 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:50:59.553 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (83ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:50:59.556 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:50:59,2
2020-07-07 10:50:59.563 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:53:07.726 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:53:08.179 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 10:53:08.250 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (56ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 10:53:08.277 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 10:53:08.598 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 10:53:08.798 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:53:08.802 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:53:08.887 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 10:53:08.887 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 10:53:08.887 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-07 10:53:08.908 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:53:08.913 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:53:08.916 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 10:53:08.933 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 10:53:08.936 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:53:08,1
2020-07-07 10:53:08.972 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:53:08.997 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:53:09.030 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 10:53:09.080 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 10:53:09.114 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 10:53:09.198 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (240ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:53:09.201 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:53:09,2
2020-07-07 10:53:09.206 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:53:09.214 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:53:09.226 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:53:09.355 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 247.7984ms.
2020-07-07 10:53:09.357 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 276.9956ms
2020-07-07 10:53:09.357 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 10:53:09.362 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 448.3884ms 200 text/html; charset=utf-8
2020-07-07 10:53:10.769 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594107052374  
2020-07-07 10:53:10.780 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:53:10.781 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:53:10.790 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:53:10.796 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:53:10.824 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 10:53:10.858 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 10:53:10.915 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 58.6043ms.
2020-07-07 10:53:10.917 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 127.0964ms
2020-07-07 10:53:10.918 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:53:10.923 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 154.7859ms 200 text/html; charset=utf-8
2020-07-07 10:53:10.944 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594107052375  
2020-07-07 10:53:10.971 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:53:10.971 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:53:10.978 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:53:10.988 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:53:11.024 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:53:11.061 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:53:11.068 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:53:11.091 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 23.899ms.
2020-07-07 10:53:11.091 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 113.8276ms
2020-07-07 10:53:11.092 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:53:11.092 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 147.8692ms 200 text/html; charset=utf-8
2020-07-07 10:53:13.480 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594107052376  
2020-07-07 10:53:13.485 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:53:13.486 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:53:13.487 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:53:13.490 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:53:13.496 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:53:13.505 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:53:13.507 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:53:13.513 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 6.464ms.
2020-07-07 10:53:13.513 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 26.3637ms
2020-07-07 10:53:13.515 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:53:13.515 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 35.735ms 200 text/html; charset=utf-8
2020-07-07 10:53:30.858 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 468
2020-07-07 10:53:30.862 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:53:30.862 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:53:30.909 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:53:30.959 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:53:31.110 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 10:53:31.159 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__8__locals1_complex_Id_1='?' (DbType = Int32), @__dl_DishCourse_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[CompanyId], [d].[DishCourse]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND (([d].[ComplexId] = @__8__locals1_complex_Id_1) AND ([d].[DishCourse] = @__dl_DishCourse_2))
2020-07-07 10:53:31.240 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [DishComplex] SET [CompanyId] = @p0, [DishCourse] = @p1
WHERE [DishId] = @p2 AND [ComplexId] = @p3;
SELECT @@ROWCOUNT;
2020-07-07 10:53:31.244 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__8__locals1_complex_Id_1='?' (DbType = Int32), @__dl_DishCourse_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[CompanyId], [d].[DishCourse]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND (([d].[ComplexId] = @__8__locals1_complex_Id_1) AND ([d].[DishCourse] = @__dl_DishCourse_2))
2020-07-07 10:53:31.249 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [DishComplex] SET [CompanyId] = @p0, [DishCourse] = @p1
WHERE [DishId] = @p2 AND [ComplexId] = @p3;
SELECT @@ROWCOUNT;
2020-07-07 10:53:31.253 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-07-07 10:53:31.261 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 351.9127ms
2020-07-07 10:53:31.261 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:53:31.261 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 403.7385ms 200 application/json; charset=utf-8
2020-07-07 10:53:31.280 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594107052377  
2020-07-07 10:53:31.281 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:53:31.281 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:53:31.291 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:53:31.295 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:53:31.304 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 10:53:31.308 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 10:53:31.390 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 83.5231ms.
2020-07-07 10:53:31.390 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 99.73ms
2020-07-07 10:53:31.390 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:53:31.391 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 110.3793ms 200 text/html; charset=utf-8
2020-07-07 10:53:40.519 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594107052378  
2020-07-07 10:53:40.523 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:53:40.523 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:53:40.524 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:53:40.526 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:53:40.536 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 10:53:40.539 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 10:53:40.544 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 5.6817ms.
2020-07-07 10:53:40.545 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 20.5593ms
2020-07-07 10:53:40.545 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:53:40.545 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 26.0402ms 200 text/html; charset=utf-8
2020-07-07 10:53:40.564 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594107052379  
2020-07-07 10:53:40.568 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:53:40.568 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:53:40.569 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:53:40.572 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:53:40.578 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:53:40.584 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:53:40.584 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:53:40.591 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 6.997ms.
2020-07-07 10:53:40.591 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 22.4478ms
2020-07-07 10:53:40.591 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:53:40.591 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 27.1298ms 200 text/html; charset=utf-8
2020-07-07 10:53:53.575 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:53:54.578 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (52ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 10:53:54.653 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (58ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 10:53:54.761 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 10:53:55.156 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 10:53:55.844 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:53:55.918 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:53:56.088 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 10:53:56.091 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 10:53:56.094 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-07 10:53:56.163 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:53:56.163 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 10:53:56.172 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:53:56.193 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 10:53:56.219 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:53:56,1
2020-07-07 10:53:56.257 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:53:56.320 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594107052380  
2020-07-07 10:53:56.332 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:53:56.409 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 10:53:56.424 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:53:56.430 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:53:56.497 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 10:53:56.497 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:53:56.543 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:53:56.586 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (308ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:53:56.594 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:53:56,2
2020-07-07 10:53:56.609 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 10:53:56.687 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (17ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:53:56.723 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (17ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:53:56.743 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:53:56.792 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (191ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:53:56.801 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:53:56.836 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:53:56.914 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 89.2069ms.
2020-07-07 10:53:56.922 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 422.0362ms
2020-07-07 10:53:56.927 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:53:56.946 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 627.5507ms 200 text/html; charset=utf-8
2020-07-07 10:53:57.144 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 604.8366ms.
2020-07-07 10:53:57.339 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 646.308ms
2020-07-07 10:53:57.419 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 10:53:57.426 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1264.7064ms 200 text/html; charset=utf-8
2020-07-07 10:54:19.291 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 468
2020-07-07 10:54:19.319 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:54:19.322 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:54:19.376 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:54:19.462 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:54:19.700 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 10:54:33.799 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__8__locals1_complex_Id_1='?' (DbType = Int32), @__dl_DishCourse_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[CompanyId], [d].[DishCourse]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND (([d].[ComplexId] = @__8__locals1_complex_Id_1) AND ([d].[DishCourse] = @__dl_DishCourse_2))
2020-07-07 10:54:45.577 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [DishComplex] SET [CompanyId] = @p0, [DishCourse] = @p1
WHERE [DishId] = @p2 AND [ComplexId] = @p3;
SELECT @@ROWCOUNT;
2020-07-07 10:54:48.612 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__8__locals1_complex_Id_1='?' (DbType = Int32), @__dl_DishCourse_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[CompanyId], [d].[DishCourse]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND (([d].[ComplexId] = @__8__locals1_complex_Id_1) AND ([d].[DishCourse] = @__dl_DishCourse_2))
2020-07-07 10:56:13.908 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:56:13.921 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:56:13.927 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-07-07 10:56:13.931 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 10:56:13.938 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:56:13.955 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:56:13.958 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 10:56:13.964 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:56:13,1
2020-07-07 10:56:13.984 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (12ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:56:14.002 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 10:56:14.005 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 114616.4774ms
2020-07-07 10:56:14.009 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:56:14.014 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 114723.592ms 200 application/json; charset=utf-8
2020-07-07 10:56:14.089 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594107052381  
2020-07-07 10:56:14.103 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:56:14.109 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:56:14.126 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:56:14.138 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:56:14.148 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (156ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:56:14.152 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 10:56:14,2
2020-07-07 10:56:14.162 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 10:56:14.166 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 10:56:14.178 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 10:56:14.339 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 161.0925ms.
2020-07-07 10:56:14.342 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 212.7602ms
2020-07-07 10:56:14.345 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 10:56:14.349 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 263.8524ms 200 text/html; charset=utf-8
2020-07-07 10:56:16.864 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594107052382  
2020-07-07 10:56:16.870 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:56:16.873 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:56:16.880 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:56:16.886 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:56:16.908 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 10:56:16.916 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 10:56:16.971 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 55.8164ms.
2020-07-07 10:56:16.974 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 91.3758ms
2020-07-07 10:56:16.976 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 10:56:16.979 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 114.8635ms 200 text/html; charset=utf-8
2020-07-07 10:56:16.995 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594107052383  
2020-07-07 10:56:17.000 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:56:17.004 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:56:17.007 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:56:17.011 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:56:17.024 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:56:17.034 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:56:17.040 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:56:17.045 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 5.0943ms.
2020-07-07 10:56:17.050 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 38.2435ms
2020-07-07 10:56:17.056 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:56:17.059 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 63.4186ms 200 text/html; charset=utf-8
2020-07-07 10:56:18.270 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594107052384  
2020-07-07 10:56:18.280 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 10:56:18.289 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:56:18.293 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 10:56:18.305 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:56:18.326 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 10:56:18.347 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 10:56:18.354 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 10:56:18.369 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 12.7084ms.
2020-07-07 10:56:18.372 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 75.4548ms
2020-07-07 10:56:18.375 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 10:56:18.381 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 112.7907ms 200 text/html; charset=utf-8
2020-07-07 10:56:34.058 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 468
2020-07-07 11:00:46.971 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 11:00:48.807 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (72ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 11:00:49.070 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (217ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 11:00:49.231 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 11:00:49.675 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 11:00:50.261 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 11:00:50.277 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 11:00:50.445 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 11:00:50.448 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 11:00:50.451 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 11:00:50.456 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-07 11:00:50.488 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 11:00:50.529 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 11:00:50,1
2020-07-07 11:00:50.536 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 468
2020-07-07 11:00:50.536 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 11:00:50.579 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 11:00:50.593 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 11:00:50.662 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 11:00:50.813 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 11:00:50.822 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 11:00:50.827 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 11:00:50.910 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 11:00:50.979 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 11:00:50.984 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 11:00:51.023 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (444ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 11:00:51.027 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 11:00:51.202 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 11:00:51,2
2020-07-07 11:01:18.701 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (27,490ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 11:01:18.713 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 11:01:19.208 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (29ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 11:01:19.224 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (38ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-07 11:01:21.199 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1,905ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 11:01:21.225 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__8__locals1_complex_Id_1='?' (DbType = Int32), @__dl_DishCourse_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[CompanyId], [d].[DishCourse]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND (([d].[ComplexId] = @__8__locals1_complex_Id_1) AND ([d].[DishCourse] = @__dl_DishCourse_2))
2020-07-07 11:01:22.535 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 31561.5793ms.
2020-07-07 11:01:22.541 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 31626.7832ms
2020-07-07 11:01:22.548 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 11:01:22.561 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 32030.6005ms 200 text/html; charset=utf-8
2020-07-07 11:01:22.587 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [DishComplex] SET [CompanyId] = @p0, [DishCourse] = @p1
WHERE [DishId] = @p2 AND [ComplexId] = @p3;
SELECT @@ROWCOUNT;
2020-07-07 11:01:23.819 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__8__locals1_complex_Id_1='?' (DbType = Int32), @__dl_DishCourse_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[CompanyId], [d].[DishCourse]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND (([d].[ComplexId] = @__8__locals1_complex_Id_1) AND ([d].[DishCourse] = @__dl_DishCourse_2))
2020-07-07 11:01:24.291 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-07-07 11:01:24.317 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 33329.4773ms
2020-07-07 11:01:24.322 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 11:01:24.334 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 33806.8108ms 200 application/json; charset=utf-8
2020-07-07 11:01:24.417 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594107052385  
2020-07-07 11:01:24.456 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 11:01:24.461 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 11:01:24.477 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 11:01:24.488 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 11:01:24.514 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 11:01:24.526 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 11:01:24.670 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 142.462ms.
2020-07-07 11:01:24.674 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 193.6798ms
2020-07-07 11:01:24.681 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 11:01:24.688 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 268.2562ms 200 text/html; charset=utf-8
2020-07-07 11:02:50.186 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 11:02:50.694 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 11:02:50.736 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 11:02:50.775 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 11:02:50.963 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 11:02:51.243 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 11:02:51.255 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 11:02:51.335 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 11:02:51.337 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 11:02:51.339 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-07 11:02:51.373 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 11:02:51.382 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 11:02:51.395 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 11:02:51.394 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594107052386  
2020-07-07 11:02:51.410 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 11:02:51.427 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 11:02:51.439 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 11:02:51.503 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 11:02:51.506 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 11:02:51,1
2020-07-07 11:02:51.511 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 11:02:51.515 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 11:02:51.569 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 11:02:51.568 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 11:02:51.590 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 11:02:51.601 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 11:02:51.653 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 11:02:51.656 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 11:02:51.673 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 11:02:51.704 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 11:02:51.707 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (162ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 11:02:51.713 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 11:02:51,2
2020-07-07 11:02:51.726 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 11:02:51.817 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 107.9992ms.
2020-07-07 11:02:51.817 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 215.3745ms.
2020-07-07 11:02:51.821 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 249.4286ms
2020-07-07 11:02:51.824 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 11:02:51.826 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 254.7226ms
2020-07-07 11:02:51.829 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 11:02:51.842 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 447.1191ms 200 text/html; charset=utf-8
2020-07-07 11:02:51.846 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 452.282ms 200 text/html; charset=utf-8
2020-07-07 11:02:51.896 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594107052387  
2020-07-07 11:02:51.927 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 11:02:51.929 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 11:02:51.942 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 11:02:51.955 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 11:02:51.993 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 11:02:52.025 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 11:02:52.029 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 11:02:52.048 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 18.7053ms.
2020-07-07 11:02:52.053 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 106.2646ms
2020-07-07 11:02:52.056 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 11:02:52.058 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 161.7581ms 200 text/html; charset=utf-8
2020-07-07 11:02:53.512 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594107052388  
2020-07-07 11:02:53.518 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 11:02:53.522 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 11:02:53.525 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 11:02:53.529 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 11:02:53.538 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 11:02:53.542 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 11:02:53.546 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 11:02:53.551 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 5.5181ms.
2020-07-07 11:02:53.554 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 26.7042ms
2020-07-07 11:02:53.556 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 11:02:53.559 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 47.2277ms 200 text/html; charset=utf-8
2020-07-07 11:03:11.210 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 468
2020-07-07 11:03:11.215 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 11:03:11.223 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 11:03:11.254 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 11:03:18.395 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 11:03:18.515 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 11:03:25.885 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__8__locals1_complex_Id_1='?' (DbType = Int32), @__dl_DishCourse_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[CompanyId], [d].[DishCourse]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND (([d].[ComplexId] = @__8__locals1_complex_Id_1) AND ([d].[DishCourse] = @__dl_DishCourse_2))
2020-07-07 11:03:36.381 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [DishComplex] SET [CompanyId] = @p0, [DishCourse] = @p1
WHERE [DishId] = @p2 AND [ComplexId] = @p3;
SELECT @@ROWCOUNT;
2020-07-07 11:03:38.633 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__8__locals1_complex_Id_1='?' (DbType = Int32), @__dl_DishCourse_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[CompanyId], [d].[DishCourse]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND (([d].[ComplexId] = @__8__locals1_complex_Id_1) AND ([d].[DishCourse] = @__dl_DishCourse_2))
2020-07-07 11:04:28.452 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-07-07 11:04:28.464 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 77208.261ms
2020-07-07 11:04:28.467 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 11:04:28.470 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 77261.1501ms 200 application/json; charset=utf-8
2020-07-07 11:04:28.483 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594107052389  
2020-07-07 11:04:28.488 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 11:04:28.491 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 11:04:28.501 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 11:04:28.508 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 11:04:28.519 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 11:04:28.523 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 11:04:28.580 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 57.2558ms.
2020-07-07 11:04:28.583 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 79.9581ms
2020-07-07 11:04:28.585 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 11:04:28.587 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 104.9406ms 200 text/html; charset=utf-8
2020-07-07 11:05:52.395 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 11:05:52.402 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 11:05:52.411 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 11:05:52.413 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 11:05:52.416 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 11:05:52.418 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 11:05:52,1
2020-07-07 11:05:52.430 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 11:05:52.436 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 11:05:52.448 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 11:05:52.619 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (168ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 11:05:52.627 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 11:05:52,2
2020-07-07 11:05:52.633 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 14:43:36.264 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 14:43:36.799 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 14:43:36.947 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (114ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 14:43:37.032 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 14:43:37.421 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 14:43:37.851 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 14:43:37.866 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 14:43:38.232 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 14:43:38.237 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (225ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 14:43:38.246 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 14:43:38.261 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 14:43:38.281 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 14:43:38.319 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 14:43:38,1
2020-07-07 14:43:38.332 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 14:43:38.364 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 14:43:38.369 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 14:43:38.436 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 14:43:38.527 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 14:43:38.606 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 14:43:38.691 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 14:43:38.726 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (369ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 14:43:38.734 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 14:43:38,2
2020-07-07 14:43:38.794 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (16ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 14:43:39.003 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (265ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 14:43:39.195 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (31ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-07 14:43:39.223 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 531.3819ms.
2020-07-07 14:43:39.299 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 618.4611ms
2020-07-07 14:43:39.337 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 14:43:39.367 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1018.4444ms 200 text/html; charset=utf-8
2020-07-07 14:43:39.416 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-07 14:43:39.446 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 14:43:41.373 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Account/LoginModal  
2020-07-07 14:43:41.383 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.AccountController.LoginModal (CateringPro)'
2020-07-07 14:43:41.391 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "LoginModal", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult LoginModal(System.String) on controller CateringPro.Controllers.AccountController (CateringPro).
2020-07-07 14:43:41.405 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view LoginModal.
2020-07-07 14:43:41.489 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view LoginModal executed in 83.3259ms.
2020-07-07 14:43:41.498 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.AccountController.LoginModal (CateringPro) in 98.8995ms
2020-07-07 14:43:41.511 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.AccountController.LoginModal (CateringPro)'
2020-07-07 14:43:41.515 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 141.1742ms 200 text/html; charset=utf-8
2020-07-07 14:43:43.018 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Account/Login application/x-www-form-urlencoded; charset=UTF-8 242
2020-07-07 14:43:43.029 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.AccountController.Login (CateringPro)'
2020-07-07 14:43:43.040 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CateringPro.ViewModels.LoginViewModel) on controller CateringPro.Controllers.AccountController (CateringPro).
2020-07-07 14:43:43.080 +03:00 [Information] CateringPro.Models.CompanyUser: User admin is going to login 
2020-07-07 14:43:43.085 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 14:43:43.114 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address1], [a].[Address2], [a].[City], [a].[CompanyId], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MenuType], [a].[NameSurname], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[ZipCode]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2020-07-07 14:43:43.200 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2020-07-07 14:43:43.241 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2020-07-07 14:43:43.290 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2020-07-07 14:43:43.302 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2020-07-07 14:43:43.320 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2020-07-07 14:43:43.331 +03:00 [Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: AuthenticationScheme: Identity.Application signed in.
2020-07-07 14:43:43.341 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-07-07 14:43:43.355 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.AccountController.Login (CateringPro) in 311.8055ms
2020-07-07 14:43:43.358 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.AccountController.Login (CateringPro)'
2020-07-07 14:43:43.364 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 345.6914ms 200 application/json; charset=utf-8
2020-07-07 14:43:43.387 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 14:43:43.397 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 14:43:43.400 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 14:43:43.404 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 14:43:43.421 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 17.01ms.
2020-07-07 14:43:43.424 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 20.5931ms
2020-07-07 14:43:43.427 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 14:43:43.430 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 43.9497ms 200 text/html; charset=utf-8
2020-07-07 14:43:45.736 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 14:43:45.748 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 14:43:45.751 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 14:43:45.757 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 14:43:45.764 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 14:43:45.774 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 14:43:45.796 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 14:43:45.805 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 10.5168ms.
2020-07-07 14:43:45.808 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 47.8762ms
2020-07-07 14:43:45.810 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 14:43:45.814 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 79.0711ms 200 text/html; charset=utf-8
2020-07-07 14:43:45.880 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594122225833  
2020-07-07 14:43:45.885 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 14:43:45.888 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 14:43:45.900 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 14:43:45.909 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 14:43:45.916 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 14:43:45.924 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 14:43:45.993 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 72.2194ms.
2020-07-07 14:43:45.996 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 93.1258ms
2020-07-07 14:43:45.998 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 14:43:46.000 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 120.5373ms 200 text/html; charset=utf-8
2020-07-07 14:43:49.020 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594122225834  
2020-07-07 14:43:49.027 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 14:43:49.030 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 14:43:49.038 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 14:43:49.044 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 14:43:49.060 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 14:43:49.065 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 14:43:49.086 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 20.9009ms.
2020-07-07 14:43:49.088 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 48.1759ms
2020-07-07 14:43:49.091 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 14:43:49.094 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 73.1222ms 200 text/html; charset=utf-8
2020-07-07 14:43:49.102 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594122225835  
2020-07-07 14:43:49.106 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 14:43:49.109 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 14:43:49.115 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 14:43:49.119 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 14:43:49.133 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 14:43:49.148 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 14:43:49.152 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 14:43:49.165 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 12.9364ms.
2020-07-07 14:43:49.182 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 50.0158ms
2020-07-07 14:43:49.187 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 14:43:49.190 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 87.507ms 200 text/html; charset=utf-8
2020-07-07 14:44:15.251 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 14:44:15.259 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 14:44:15.261 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 14:44:15.264 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 14:44:15.269 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 14:44:15.276 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 14:44:15.281 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 14:44:15.287 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 6.6627ms.
2020-07-07 14:44:15.289 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 22.6597ms
2020-07-07 14:44:15.291 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 14:44:15.294 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 43.1134ms 200 text/html; charset=utf-8
2020-07-07 14:44:15.379 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594122255326  
2020-07-07 14:44:15.386 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 14:44:15.389 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 14:44:15.392 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 14:44:15.395 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 14:44:15.404 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 14:44:15.406 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 14:44:15.411 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 14:44:15.420 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 11.0544ms.
2020-07-07 14:44:15.423 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 28.6293ms
2020-07-07 14:44:15.425 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 14:44:15.427 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 49.5463ms 200 text/html; charset=utf-8
2020-07-07 14:44:15.442 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 14:44:15.444 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 40.7813ms 200 image/x-icon
2020-07-07 14:44:16.888 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594122255327  
2020-07-07 14:44:16.892 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 14:44:16.894 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 14:44:16.896 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 14:44:16.899 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 14:44:16.905 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 14:44:16.908 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 14:44:16.913 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 3.942ms.
2020-07-07 14:44:16.915 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 16.8452ms
2020-07-07 14:44:16.918 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 14:44:16.920 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 32.436ms 200 text/html; charset=utf-8
2020-07-07 14:44:16.929 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594122255328  
2020-07-07 14:44:16.932 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 14:44:16.935 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 14:44:16.937 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 14:44:16.940 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 14:44:16.944 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 14:44:16.949 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 14:44:16.952 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 14:44:16.955 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 3.486ms.
2020-07-07 14:44:16.957 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 17.6057ms
2020-07-07 14:44:16.959 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 14:44:16.961 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 32.0464ms 200 text/html; charset=utf-8
2020-07-07 14:44:18.800 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594122255329  
2020-07-07 14:44:18.803 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 14:44:18.805 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 14:44:18.807 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 14:44:18.811 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 14:44:18.819 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 14:44:18.823 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 14:44:18.826 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 14:44:18.830 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 3.9879ms.
2020-07-07 14:44:18.832 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 22.7221ms
2020-07-07 14:44:18.834 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 14:44:18.836 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 36.6977ms 200 text/html; charset=utf-8
2020-07-07 14:44:35.669 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 580
2020-07-07 14:44:35.673 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 14:44:35.676 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 14:44:35.701 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 14:44:35.725 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 14:44:35.743 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 14:45:00.549 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 14:45:00.554 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 14:45:00.561 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 14:45:00.568 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 14:45:00.571 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 14:45:00.574 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 14:45:00,1
2020-07-07 14:45:00.576 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 14:45:00.583 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 14:45:00.587 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 14:45:00.597 +03:00 [Error] Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (11ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__8__locals1_complex_Id_1='?' (DbType = Int32), @__dl_DishCourse_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[CompanyId], [d].[DishCourse]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND (([d].[ComplexId] = @__8__locals1_complex_Id_1) AND ([d].[DishCourse] = @__dl_DishCourse_2))
2020-07-07 14:45:00.652 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (61ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 14:45:00.654 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 14:45:00,2
2020-07-07 14:45:00.660 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 14:45:00.657 +03:00 [Error] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'CateringPro.Data.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'DishCourse'.
Invalid column name 'DishCourse'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:308f3a14-cb07-48bf-a202-5de50fb655f9
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'DishCourse'.
Invalid column name 'DishCourse'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:308f3a14-cb07-48bf-a202-5de50fb655f9
Error Number:207,State:1,Class:16
2020-07-07 14:45:00.740 +03:00 [Error] CateringPro.Models.CompanyUser: UpdateComplexDishes
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'DishCourse'.
Invalid column name 'DishCourse'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CateringPro.Repositories.ComplexRepository.UpdateComplexDishes(Complex complex, List`1 dishes, Int32 companyid, List`1 dishLine) in C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\Repositories\ComplexRepository.cs:line 34
ClientConnectionId:308f3a14-cb07-48bf-a202-5de50fb655f9
Error Number:207,State:1,Class:16
2020-07-07 14:45:03.284 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-07-07 14:45:03.288 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 27584.3887ms
2020-07-07 14:45:03.291 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 14:45:03.294 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 27624.3155ms 200 application/json; charset=utf-8
2020-07-07 14:45:03.305 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594122255330  
2020-07-07 14:45:03.309 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 14:45:03.315 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 14:45:03.318 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 14:45:03.322 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 14:45:03.330 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 14:45:03.332 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 14:45:03.340 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 7.7803ms.
2020-07-07 14:45:03.344 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 22.1817ms
2020-07-07 14:45:03.347 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 14:45:03.350 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 43.571ms 200 text/html; charset=utf-8
2020-07-07 14:45:05.933 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594122255331  
2020-07-07 14:45:05.937 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 14:45:05.939 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 14:45:05.941 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 14:45:05.944 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 14:45:05.952 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 14:45:05.955 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 14:45:05.960 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 5.1204ms.
2020-07-07 14:45:05.962 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 18.9303ms
2020-07-07 14:45:05.964 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 14:45:05.967 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 34.3483ms 200 text/html; charset=utf-8
2020-07-07 14:45:05.976 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594122255332  
2020-07-07 14:45:05.978 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 14:45:05.980 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 14:45:05.984 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 14:45:05.987 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 14:45:05.994 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 14:45:05.999 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 14:45:06.003 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 14:45:06.006 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 3.5733ms.
2020-07-07 14:45:06.008 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 21.9229ms
2020-07-07 14:45:06.011 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 14:45:06.013 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 38.3599ms 200 text/html; charset=utf-8
2020-07-07 14:45:07.607 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594122255333  
2020-07-07 14:45:07.610 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 14:45:07.612 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 14:45:07.614 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 14:45:07.617 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 14:45:07.623 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 14:45:07.629 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 14:45:07.633 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 14:45:07.637 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 5.3217ms.
2020-07-07 14:45:07.640 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 23.3091ms
2020-07-07 14:45:07.642 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 14:45:07.644 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 37.5843ms 200 text/html; charset=utf-8
2020-07-07 14:45:09.643 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 518
2020-07-07 14:45:09.647 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 14:45:09.651 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 14:45:09.653 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 14:45:09.658 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 14:45:09.667 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 15:01:56.951 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:01:57.537 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 15:01:57.723 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (106ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 15:01:57.815 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 15:01:58.304 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 15:01:58.923 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 15:01:58.986 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:01:59.329 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 15:01:59.331 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 15:01:59.335 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 15:01:59.405 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 15:01:59.420 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 15:01:59.430 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 15:01:59.457 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 15:01:59.483 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 15:01:59,1
2020-07-07 15:01:59.549 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:01:59.674 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 15:01:59.730 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 15:01:59.855 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 15:01:59.987 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 15:02:00.201 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (476ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 15:02:00.299 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 15:02:00,2
2020-07-07 15:02:00.336 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 15:02:00.384 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (43ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 15:02:00.689 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 728.1005ms.
2020-07-07 15:02:00.696 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 830.4586ms
2020-07-07 15:02:00.699 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 15:02:00.716 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1306.2717ms 200 text/html; charset=utf-8
2020-07-07 15:02:00.810 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-07 15:02:00.917 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 15:02:24.028 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 15:02:24.042 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:02:24.045 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 15:02:24.057 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:02:24.062 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:02:24.074 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 15:02:24.102 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 15:02:24.118 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 16.5807ms.
2020-07-07 15:02:24.121 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 62.145ms
2020-07-07 15:02:24.124 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 15:02:24.130 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 104.2371ms 200 text/html; charset=utf-8
2020-07-07 15:02:24.217 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594123344159  
2020-07-07 15:02:24.240 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:02:24.243 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 15:02:24.256 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:02:24.268 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:02:24.271 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 15:02:24.277 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 15:02:24.344 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 67.8424ms.
2020-07-07 15:02:24.347 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 88.3609ms
2020-07-07 15:02:24.349 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 15:02:24.352 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 134.5544ms 200 text/html; charset=utf-8
2020-07-07 15:02:25.862 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594123344160  
2020-07-07 15:02:25.868 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:02:25.871 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:02:25.876 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:02:25.882 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:02:25.903 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 15:02:25.910 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 15:02:25.948 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 37.8214ms.
2020-07-07 15:02:25.951 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 71.7748ms
2020-07-07 15:02:25.954 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:02:25.956 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 94.4045ms 200 text/html; charset=utf-8
2020-07-07 15:02:25.969 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594123344161  
2020-07-07 15:02:25.972 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:02:25.974 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:02:25.980 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:02:25.987 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:02:26.021 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 15:02:26.052 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 15:02:26.056 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 15:02:26.070 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 14.4199ms.
2020-07-07 15:02:26.072 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 90.2065ms
2020-07-07 15:02:26.074 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:02:26.076 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 107.7861ms 200 text/html; charset=utf-8
2020-07-07 15:02:29.588 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594123344162  
2020-07-07 15:02:29.597 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:02:29.602 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:02:29.606 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:02:29.612 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:02:29.619 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 15:02:29.624 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 15:02:29.626 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 15:02:29.631 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 4.5114ms.
2020-07-07 15:02:29.633 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 24.9742ms
2020-07-07 15:02:29.635 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:02:29.638 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 51.8218ms 200 text/html; charset=utf-8
2020-07-07 15:02:30.994 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 518
2020-07-07 15:02:30.999 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:02:31.001 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:02:31.027 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:02:31.066 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:02:31.086 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 15:13:44.792 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:13:45.406 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 15:13:45.482 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (51ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 15:13:45.562 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 15:13:45.910 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 15:13:46.405 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 15:13:46.437 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:13:46.598 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 15:13:46.639 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 15:13:46.643 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 15:13:46.684 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (48ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 15:13:46.688 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 15:13:46.699 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 15:13:46.727 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 15:13:46.736 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 15:13:46,1
2020-07-07 15:13:46.767 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:13:46.822 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 15:13:47.054 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:13:47.068 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (296ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 15:13:47.078 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 15:13:47,2
2020-07-07 15:13:47.115 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 15:13:47.312 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (32ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 15:13:47.321 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (75ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address1], [a].[Address2], [a].[City], [a].[CompanyId], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MenuType], [a].[NameSurname], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[ZipCode]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2020-07-07 15:13:47.341 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 15:13:47.474 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2020-07-07 15:13:47.553 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2020-07-07 15:13:47.574 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2020-07-07 15:13:47.604 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2020-07-07 15:13:47.620 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 15:13:47.666 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 15:13:47.703 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 15:13:48.058 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 359.3354ms.
2020-07-07 15:13:48.065 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 393.7113ms
2020-07-07 15:13:48.071 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 15:13:48.126 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1387.6222ms 200 text/html; charset=utf-8
2020-07-07 15:14:12.834 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 15:14:12.850 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:14:12.853 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 15:14:12.861 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:14:12.866 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:14:12.876 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 15:14:12.906 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 15:14:12.920 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 15.1403ms.
2020-07-07 15:14:12.925 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 60.4502ms
2020-07-07 15:14:12.929 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 15:14:12.933 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 101.6463ms 200 text/html; charset=utf-8
2020-07-07 15:14:13.046 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594124052974  
2020-07-07 15:14:13.064 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:14:13.067 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 15:14:13.077 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:14:13.089 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:14:13.095 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 15:14:13.100 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 15:14:13.162 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 62.0754ms.
2020-07-07 15:14:13.163 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 84.4113ms
2020-07-07 15:14:13.165 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 15:14:13.167 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 120.7858ms 200 text/html; charset=utf-8
2020-07-07 15:14:14.918 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594124052975  
2020-07-07 15:14:14.924 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:14:14.927 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:14:14.934 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:14:14.938 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:14:14.949 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 15:14:14.953 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 15:14:14.988 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 34.7987ms.
2020-07-07 15:14:14.990 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 54.1904ms
2020-07-07 15:14:14.993 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:14:14.995 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 77.8212ms 200 text/html; charset=utf-8
2020-07-07 15:14:15.006 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594124052976  
2020-07-07 15:14:15.009 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:14:15.012 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:14:15.018 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:14:15.023 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:14:15.037 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 15:14:15.052 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 15:14:15.055 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 15:14:15.089 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 26.9744ms.
2020-07-07 15:14:15.094 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 70.619ms
2020-07-07 15:14:15.097 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:14:15.099 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 93.0871ms 200 text/html; charset=utf-8
2020-07-07 15:14:17.252 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594124052977  
2020-07-07 15:14:17.257 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:14:17.260 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:14:17.263 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:14:17.267 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:14:17.274 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 15:14:17.278 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 15:14:17.281 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 15:14:17.284 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 3.4076ms.
2020-07-07 15:14:17.286 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 21.3958ms
2020-07-07 15:14:17.288 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:14:17.291 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 39.0635ms 200 text/html; charset=utf-8
2020-07-07 15:14:19.560 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 518
2020-07-07 15:14:19.572 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:14:19.575 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:14:19.606 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:14:19.646 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:14:19.770 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 15:14:19.819 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complex_Id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complex_Id_1)
2020-07-07 15:14:19.876 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-07-07 15:14:19.884 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 275.5816ms
2020-07-07 15:14:19.886 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:14:19.889 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 330.3493ms 200 application/json; charset=utf-8
2020-07-07 15:14:19.897 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594124052978  
2020-07-07 15:14:19.899 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:14:19.901 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 15:14:19.903 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:14:19.906 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:14:19.914 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 15:14:19.916 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 15:14:19.923 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 6.2874ms.
2020-07-07 15:14:19.926 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 20.5536ms
2020-07-07 15:14:19.929 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 15:14:19.931 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 33.5377ms 200 text/html; charset=utf-8
2020-07-07 15:14:30.264 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594124052979  
2020-07-07 15:14:30.270 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:14:30.273 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:14:30.276 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:14:30.280 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:14:30.292 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 15:14:30.296 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 15:14:30.301 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 5.4786ms.
2020-07-07 15:14:30.304 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 25.6612ms
2020-07-07 15:14:30.306 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:14:30.308 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 45.4375ms 200 text/html; charset=utf-8
2020-07-07 15:14:30.315 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594124052980  
2020-07-07 15:14:30.318 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:14:30.321 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:14:30.323 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:14:30.326 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:14:30.332 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 15:14:30.338 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 15:14:30.341 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 15:14:30.344 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 3.8448ms.
2020-07-07 15:14:30.346 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 20.8741ms
2020-07-07 15:14:30.347 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:14:30.349 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 34.864ms 200 text/html; charset=utf-8
2020-07-07 15:14:32.124 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594124052981  
2020-07-07 15:14:32.129 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:14:32.133 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:14:32.137 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:14:32.142 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:14:32.149 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 15:14:32.155 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 15:14:32.158 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 15:14:32.162 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 4.3236ms.
2020-07-07 15:14:32.164 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 24.5939ms
2020-07-07 15:14:32.166 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:14:32.169 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 45.4865ms 200 text/html; charset=utf-8
2020-07-07 15:14:33.601 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 518
2020-07-07 15:14:33.610 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:14:33.614 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:14:33.618 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:14:33.627 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:14:33.638 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 15:14:37.785 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complex_Id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complex_Id_1)
2020-07-07 15:15:43.944 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:15:44.530 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (52ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 15:15:44.622 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (63ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 15:15:44.701 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 15:15:45.079 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 15:15:45.471 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 15:15:45.499 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:15:45.616 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 15:15:45.619 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 15:15:45.622 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 15:15:45.650 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (50ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 15:15:45.658 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 15:15:45.688 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 15:15:45.702 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 15:15:45,1
2020-07-07 15:15:45.736 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 15:15:45.777 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:15:45.903 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 15:15:45.937 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 15:15:46.057 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 15:15:46.059 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (308ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 15:15:46.067 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 15:15:46,2
2020-07-07 15:15:46.076 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 15:15:46.121 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 15:15:46.312 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 15:15:46.330 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 15:15:46.516 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 388.4224ms.
2020-07-07 15:15:46.523 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 461.179ms
2020-07-07 15:15:46.527 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 15:15:46.550 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 861.1484ms 200 text/html; charset=utf-8
2020-07-07 15:15:52.103 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 15:15:52.120 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:15:52.122 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 15:15:52.133 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:15:52.138 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:15:52.149 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 15:15:52.180 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 15:15:52.194 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 16.3389ms.
2020-07-07 15:15:52.198 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 63.1519ms
2020-07-07 15:15:52.201 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 15:15:52.208 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 104.5301ms 200 text/html; charset=utf-8
2020-07-07 15:15:52.282 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594124152230  
2020-07-07 15:15:52.304 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:15:52.307 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 15:15:52.320 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:15:52.330 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:15:52.333 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 15:15:52.339 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 15:15:52.402 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 63.7492ms.
2020-07-07 15:15:52.404 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 82.5902ms
2020-07-07 15:15:52.406 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 15:15:52.409 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 127.3428ms 200 text/html; charset=utf-8
2020-07-07 15:15:54.002 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594124152231  
2020-07-07 15:15:54.008 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:15:54.011 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:15:54.017 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:15:54.022 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:15:54.046 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 15:15:54.052 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 15:15:54.097 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 45.4383ms.
2020-07-07 15:15:54.100 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 80.7571ms
2020-07-07 15:15:54.102 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:15:54.104 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 103.0652ms 200 text/html; charset=utf-8
2020-07-07 15:15:54.116 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594124152232  
2020-07-07 15:15:54.119 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:15:54.122 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:15:54.131 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:15:54.137 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:15:54.165 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 15:15:54.187 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 15:15:54.191 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 15:15:54.204 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 13.1735ms.
2020-07-07 15:15:54.205 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 72.4119ms
2020-07-07 15:15:54.208 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:15:54.211 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 93.6628ms 200 text/html; charset=utf-8
2020-07-07 15:15:56.500 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594124152233  
2020-07-07 15:15:56.506 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:15:56.509 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:15:56.512 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:15:56.515 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:15:56.522 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 15:15:56.528 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 15:15:56.531 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 15:15:56.535 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 4.3173ms.
2020-07-07 15:15:56.538 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 23.7164ms
2020-07-07 15:15:56.540 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:15:56.543 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 42.3056ms 200 text/html; charset=utf-8
2020-07-07 15:15:57.862 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 518
2020-07-07 15:15:57.866 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:15:57.869 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:15:57.917 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:15:57.952 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:15:58.052 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 15:16:00.955 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complex_Id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complex_Id_1)
2020-07-07 15:16:04.376 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DishComplex] ([DishId], [ComplexId], [DishCourse], [CompanyId])
VALUES (@p0, @p1, @p2, @p3),
(@p4, @p5, @p6, @p7),
(@p8, @p9, @p10, @p11),
(@p12, @p13, @p14, @p15),
(@p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23),
(@p24, @p25, @p26, @p27),
(@p28, @p29, @p30, @p31);
2020-07-07 15:16:04.426 +03:00 [Error] Microsoft.EntityFrameworkCore.Update: An exception occurred in the database while saving changes for context type 'CateringPro.Data.AppDbContext'.
System.InvalidOperationException: The property 'ComplexId' on entity type 'DishComplex' has a temporary value while attempting to change the entity's state to 'Unchanged'. Either set a permanent value explicitly or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.AcceptChanges()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.AcceptAllChanges(IReadOnlyList`1 changedEntries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The property 'ComplexId' on entity type 'DishComplex' has a temporary value while attempting to change the entity's state to 'Unchanged'. Either set a permanent value explicitly or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.AcceptChanges()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.AcceptAllChanges(IReadOnlyList`1 changedEntries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-07-07 15:17:01.483 +03:00 [Error] CateringPro.Models.CompanyUser: UpdateComplexDishes
System.InvalidOperationException: The property 'ComplexId' on entity type 'DishComplex' has a temporary value while attempting to change the entity's state to 'Unchanged'. Either set a permanent value explicitly or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.AcceptChanges()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.AcceptAllChanges(IReadOnlyList`1 changedEntries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CateringPro.Repositories.ComplexRepository.UpdateComplexDishes(Complex complex, List`1 dishes, Int32 companyid, List`1 dishLine) in C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\Repositories\ComplexRepository.cs:line 53
2020-07-07 15:17:01.488 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-07-07 15:17:01.499 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 63579.5651ms
2020-07-07 15:17:01.503 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:17:01.505 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 63644.1907ms 200 application/json; charset=utf-8
2020-07-07 15:17:01.515 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594124152234  
2020-07-07 15:17:01.520 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:17:01.523 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 15:17:01.526 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:17:01.529 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:17:01.537 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 15:17:01.541 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 15:17:01.549 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 7.9845ms.
2020-07-07 15:17:01.551 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 22.9061ms
2020-07-07 15:17:01.554 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 15:17:01.556 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 40.8466ms 200 text/html; charset=utf-8
2020-07-07 15:17:03.621 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594124152235  
2020-07-07 15:17:03.625 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:17:03.629 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:17:03.631 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:17:03.636 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:17:03.645 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 15:17:03.649 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 15:17:03.654 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 5.5825ms.
2020-07-07 15:17:03.656 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 22.8768ms
2020-07-07 15:17:03.658 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:17:03.660 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 39.8658ms 200 text/html; charset=utf-8
2020-07-07 15:17:03.668 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594124152236  
2020-07-07 15:17:03.671 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:17:03.674 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:17:03.676 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:17:03.679 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:17:03.686 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 15:17:03.691 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 15:17:03.693 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 15:17:03.697 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 3.751ms.
2020-07-07 15:17:03.699 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 21.117ms
2020-07-07 15:17:03.701 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:17:03.705 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 35.9942ms 200 text/html; charset=utf-8
2020-07-07 15:17:05.537 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594124152237  
2020-07-07 15:17:05.542 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:17:05.544 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:17:05.546 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:17:05.550 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:17:05.556 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 15:17:05.560 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 15:17:05.563 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 15:17:05.568 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 4.3861ms.
2020-07-07 15:17:05.571 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 21.895ms
2020-07-07 15:17:05.573 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:17:05.575 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 38.7257ms 200 text/html; charset=utf-8
2020-07-07 15:17:07.367 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 518
2020-07-07 15:17:07.372 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:17:07.374 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:17:07.376 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:17:07.381 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:17:07.399 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (12ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 15:17:14.990 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complex_Id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complex_Id_1)
2020-07-07 15:18:48.492 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:18:49.087 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 15:18:49.160 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (49ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 15:18:49.226 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 15:18:49.629 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 15:18:50.072 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 15:18:50.087 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:18:50.208 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 15:18:50.211 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 15:18:50.216 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 15:18:50.258 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (51ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 15:18:50.270 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 15:18:50.278 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 15:18:50.309 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 15:18:50,1
2020-07-07 15:18:50.312 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 15:18:50.348 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:18:50.390 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 15:18:50.578 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 15:18:50.618 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (276ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 15:18:50.659 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 15:18:50,2
2020-07-07 15:18:50.677 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 15:18:50.705 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 15:18:50.751 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 15:18:50.807 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 15:18:51.148 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-07 15:18:51.157 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 401.91ms.
2020-07-07 15:18:51.167 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 453.248ms
2020-07-07 15:18:51.171 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 15:18:51.215 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 903.6649ms 200 text/html; charset=utf-8
2020-07-07 15:18:51.286 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 15:18:53.940 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 15:18:53.961 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:18:53.966 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 15:18:53.983 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:18:53.991 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:18:54.009 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 15:18:54.055 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 15:18:54.073 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 18.6312ms.
2020-07-07 15:18:54.078 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 91.4302ms
2020-07-07 15:18:54.084 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 15:18:54.091 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 151.8769ms 200 text/html; charset=utf-8
2020-07-07 15:18:54.219 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594124334118  
2020-07-07 15:18:54.255 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:18:54.260 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 15:18:54.276 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:18:54.296 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:18:54.305 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 15:18:54.312 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 15:18:54.426 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 114.6841ms.
2020-07-07 15:18:54.429 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 150.7401ms
2020-07-07 15:18:54.433 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 15:18:54.436 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 218.9052ms 200 text/html; charset=utf-8
2020-07-07 15:18:55.877 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594124334119  
2020-07-07 15:18:55.884 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:18:55.892 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:18:55.898 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:18:55.903 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:18:55.923 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 15:18:55.930 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 15:18:55.965 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 35.1061ms.
2020-07-07 15:18:55.968 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 66.6194ms
2020-07-07 15:18:55.970 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:18:55.972 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 95.4337ms 200 text/html; charset=utf-8
2020-07-07 15:18:55.982 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594124334120  
2020-07-07 15:18:55.985 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:18:55.987 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:18:55.993 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:18:55.998 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:18:56.021 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 15:18:56.041 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 15:18:56.045 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 15:18:56.058 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 13.5418ms.
2020-07-07 15:18:56.061 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 65.7839ms
2020-07-07 15:18:56.063 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:18:56.067 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 84.059ms 200 text/html; charset=utf-8
2020-07-07 15:18:57.679 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594124334121  
2020-07-07 15:18:57.684 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:18:57.686 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:18:57.690 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:18:57.694 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:18:57.702 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 15:18:57.707 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 15:18:57.710 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 15:18:57.714 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 4.2512ms.
2020-07-07 15:18:57.716 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 24.9137ms
2020-07-07 15:18:57.718 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:18:57.721 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 42.6525ms 200 text/html; charset=utf-8
2020-07-07 15:18:59.532 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 518
2020-07-07 15:18:59.536 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:18:59.539 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:18:59.572 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:18:59.616 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:18:59.639 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 15:19:04.252 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complex_Id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complex_Id_1)
2020-07-07 15:19:28.406 +03:00 [Error] Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (30ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DishComplex] ([DishId], [ComplexId], [DishCourse], [CompanyId])
VALUES (@p0, @p1, @p2, @p3),
(@p4, @p5, @p6, @p7),
(@p8, @p9, @p10, @p11),
(@p12, @p13, @p14, @p15),
(@p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23),
(@p24, @p25, @p26, @p27),
(@p28, @p29, @p30, @p31);
2020-07-07 15:19:28.467 +03:00 [Error] Microsoft.EntityFrameworkCore.Update: An exception occurred in the database while saving changes for context type 'CateringPro.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_DishComplex'. Cannot insert duplicate key in object 'dbo.DishComplex'. The duplicate key value is (2, -2147482647, 0).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:bc9ece5f-6bb5-4d0d-b87d-04eba0aeaa66
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_DishComplex'. Cannot insert duplicate key in object 'dbo.DishComplex'. The duplicate key value is (2, -2147482647, 0).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:bc9ece5f-6bb5-4d0d-b87d-04eba0aeaa66
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-07-07 15:20:07.184 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 15:20:07.188 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:20:07.194 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 15:20:07.197 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 15:20:07.199 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:20:07.202 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 15:20:07.207 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 15:20:07,1
2020-07-07 15:20:07.219 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 15:20:07.224 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 15:20:07.237 +03:00 [Error] CateringPro.Models.CompanyUser: UpdateComplexDishes
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_DishComplex'. Cannot insert duplicate key in object 'dbo.DishComplex'. The duplicate key value is (2, -2147482647, 0).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:bc9ece5f-6bb5-4d0d-b87d-04eba0aeaa66
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CateringPro.Repositories.ComplexRepository.UpdateComplexDishes(Complex complex, List`1 dishes, Int32 companyid, List`1 dishLine) in C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\Repositories\ComplexRepository.cs:line 53
2020-07-07 15:20:07.244 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-07-07 15:20:07.257 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 67682.3193ms
2020-07-07 15:20:07.259 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:20:07.262 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 67730.9774ms 200 application/json; charset=utf-8
2020-07-07 15:20:07.271 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594124334122  
2020-07-07 15:20:07.276 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:20:07.279 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 15:20:07.282 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:20:07.286 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:20:07.295 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 15:20:07.298 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 15:20:07.307 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 8.0192ms.
2020-07-07 15:20:07.309 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (79ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 15:20:07.311 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 26.2166ms
2020-07-07 15:20:07.313 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 15:20:07,2
2020-07-07 15:20:07.315 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 15:20:07.317 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 46.1915ms 200 text/html; charset=utf-8
2020-07-07 15:20:07.320 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 15:20:16.694 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594124334123  
2020-07-07 15:20:16.698 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:20:16.700 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:20:16.702 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:20:16.707 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:20:16.716 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 15:20:16.720 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 15:20:16.725 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 5.9544ms.
2020-07-07 15:20:16.728 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 22.8844ms
2020-07-07 15:20:16.730 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:20:16.732 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 38.1643ms 200 text/html; charset=utf-8
2020-07-07 15:20:16.740 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594124334124  
2020-07-07 15:20:16.743 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:20:16.745 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:20:16.747 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:20:16.750 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:20:16.757 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 15:20:16.761 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 15:20:16.764 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 15:20:16.767 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 3.3838ms.
2020-07-07 15:20:16.769 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 19.8207ms
2020-07-07 15:20:16.773 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:20:16.775 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 35.7308ms 200 text/html; charset=utf-8
2020-07-07 15:20:18.624 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594124334125  
2020-07-07 15:20:18.629 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:20:18.632 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:20:18.634 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:20:18.638 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:20:18.643 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 15:20:18.647 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 15:20:18.650 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 15:20:18.653 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 3.7456ms.
2020-07-07 15:20:18.655 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 19.0299ms
2020-07-07 15:20:18.657 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:20:18.660 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 37.0646ms 200 text/html; charset=utf-8
2020-07-07 15:20:19.956 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 518
2020-07-07 15:20:19.962 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:20:19.966 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:20:19.970 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:20:19.976 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:20:19.984 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 15:20:23.981 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complex_Id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complex_Id_1)
2020-07-07 15:20:51.594 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DishComplex] ([DishId], [ComplexId], [DishCourse], [CompanyId])
VALUES (@p0, @p1, @p2, @p3),
(@p4, @p5, @p6, @p7),
(@p8, @p9, @p10, @p11),
(@p12, @p13, @p14, @p15),
(@p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23),
(@p24, @p25, @p26, @p27),
(@p28, @p29, @p30, @p31);
2020-07-07 15:20:51.612 +03:00 [Error] Microsoft.EntityFrameworkCore.Update: An exception occurred in the database while saving changes for context type 'CateringPro.Data.AppDbContext'.
System.InvalidOperationException: The property 'ComplexId' on entity type 'DishComplex' has a temporary value while attempting to change the entity's state to 'Unchanged'. Either set a permanent value explicitly or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.AcceptChanges()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.AcceptAllChanges(IReadOnlyList`1 changedEntries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The property 'ComplexId' on entity type 'DishComplex' has a temporary value while attempting to change the entity's state to 'Unchanged'. Either set a permanent value explicitly or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.AcceptChanges()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.AcceptAllChanges(IReadOnlyList`1 changedEntries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-07-07 15:23:56.314 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:23:56.987 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (56ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 15:23:57.066 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (54ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 15:23:57.139 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 15:23:57.473 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 15:23:57.896 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 15:23:57.905 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:23:58.148 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 15:23:58.151 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (128ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 15:23:58.171 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 15:23:58.174 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 15:23:58.204 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 15:23:58.246 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 15:23:58,1
2020-07-07 15:23:58.263 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 15:23:58.270 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:23:58.294 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 15:23:58.317 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 15:23:58.451 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 15:23:58.512 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (217ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 15:23:58.524 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 15:23:58,2
2020-07-07 15:23:58.550 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 15:23:58.552 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 15:23:58.622 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 15:23:58.636 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 15:23:58.654 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 15:23:59.081 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 471.641ms.
2020-07-07 15:23:59.086 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 532.0025ms
2020-07-07 15:23:59.093 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 15:23:59.104 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 844.5114ms 200 text/html; charset=utf-8
2020-07-07 15:24:01.953 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 15:24:01.970 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:24:01.973 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 15:24:01.986 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:24:01.993 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:24:02.010 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 15:24:02.072 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 15:24:02.101 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 31.916ms.
2020-07-07 15:24:02.107 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 117.8997ms
2020-07-07 15:24:02.116 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 15:24:02.130 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 173.7807ms 200 text/html; charset=utf-8
2020-07-07 15:24:02.289 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594124642168  
2020-07-07 15:24:02.323 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:24:02.329 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 15:24:02.344 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:24:02.360 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:24:02.366 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 15:24:02.374 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 15:24:02.481 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 106.8151ms.
2020-07-07 15:24:02.484 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 136.7388ms
2020-07-07 15:24:02.488 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 15:24:02.491 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 206.7169ms 200 text/html; charset=utf-8
2020-07-07 15:24:03.881 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594124642169  
2020-07-07 15:24:03.887 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:24:03.889 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:24:03.900 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:24:03.906 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:24:03.933 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 15:24:03.940 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 15:24:03.984 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 44.749ms.
2020-07-07 15:24:03.986 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 83.6286ms
2020-07-07 15:24:03.989 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:24:03.991 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 110.9537ms 200 text/html; charset=utf-8
2020-07-07 15:24:04.002 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594124642170  
2020-07-07 15:24:04.005 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:24:04.008 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:24:04.015 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:24:04.020 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:24:04.047 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 15:24:04.068 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 15:24:04.073 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 15:24:04.087 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 14.1101ms.
2020-07-07 15:24:04.089 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 71.5621ms
2020-07-07 15:24:04.093 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:24:04.097 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 93.525ms 200 text/html; charset=utf-8
2020-07-07 15:24:05.734 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594124642171  
2020-07-07 15:24:05.738 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:24:05.742 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:24:05.745 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:24:05.749 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:24:05.755 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 15:24:05.760 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 15:24:05.763 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 15:24:05.767 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 4.2276ms.
2020-07-07 15:24:05.769 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 21.9951ms
2020-07-07 15:24:05.771 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:24:05.774 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 40.3721ms 200 text/html; charset=utf-8
2020-07-07 15:24:06.883 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 518
2020-07-07 15:24:06.890 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:24:06.893 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:24:06.919 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:24:06.958 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:24:07.064 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 15:24:10.504 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complex_Id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complex_Id_1)
2020-07-07 15:27:55.732 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:27:56.546 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (72ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 15:27:56.673 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (95ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 15:27:56.754 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 15:27:57.088 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 15:27:57.546 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 15:27:57.558 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:27:57.742 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 15:27:57.753 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 15:27:57.804 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 15:27:57.873 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 15:27:57.911 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (196ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 15:27:57.956 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 15:27:57.970 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 15:27:57,1
2020-07-07 15:27:57.992 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 15:27:58.007 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:27:58.082 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 15:27:58.222 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 15:27:58.357 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 15:27:58.361 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (351ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 15:27:58.387 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 15:27:58,2
2020-07-07 15:27:58.397 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 15:27:58.456 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 15:27:58.471 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 15:27:58.501 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 15:27:58.793 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 363.531ms.
2020-07-07 15:27:58.802 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 438.3828ms
2020-07-07 15:27:58.805 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 15:27:58.818 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 870.146ms 200 text/html; charset=utf-8
2020-07-07 15:28:04.041 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 15:28:04.063 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:28:04.067 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 15:28:04.075 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:28:04.082 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:28:04.093 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 15:28:04.125 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 15:28:04.138 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 13.8316ms.
2020-07-07 15:28:04.142 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 64.2292ms
2020-07-07 15:28:04.146 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 15:28:04.152 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 112.5198ms 200 text/html; charset=utf-8
2020-07-07 15:28:04.291 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594124884196  
2020-07-07 15:28:04.322 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:28:04.326 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 15:28:04.341 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:28:04.354 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:28:04.359 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 15:28:04.367 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 15:28:04.453 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 86.6198ms.
2020-07-07 15:28:04.456 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 111.5138ms
2020-07-07 15:28:04.458 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 15:28:04.463 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 175.7037ms 200 text/html; charset=utf-8
2020-07-07 15:28:06.488 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594124884197  
2020-07-07 15:28:06.495 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:28:06.497 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:28:06.504 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:28:06.508 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:28:06.530 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 15:28:06.537 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 15:28:06.578 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 41.2741ms.
2020-07-07 15:28:06.581 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 73.9501ms
2020-07-07 15:28:06.583 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:28:06.586 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 97.9641ms 200 text/html; charset=utf-8
2020-07-07 15:28:06.599 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594124884198  
2020-07-07 15:28:06.602 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:28:06.604 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:28:06.613 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:28:06.619 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:28:06.654 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 15:28:06.681 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 15:28:06.686 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 15:28:06.709 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 23.0733ms.
2020-07-07 15:28:06.712 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 95.6132ms
2020-07-07 15:28:06.715 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:28:06.717 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 118.7878ms 200 text/html; charset=utf-8
2020-07-07 15:28:08.236 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594124884199  
2020-07-07 15:28:08.264 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:28:08.282 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:28:08.291 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:28:08.300 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:28:08.312 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 15:28:08.321 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 15:28:08.327 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 15:28:08.340 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 8.0278ms.
2020-07-07 15:28:08.344 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 48.3503ms
2020-07-07 15:28:08.348 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:28:08.351 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 116.5798ms 200 text/html; charset=utf-8
2020-07-07 15:28:09.481 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 518
2020-07-07 15:28:09.486 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:28:09.488 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:28:09.519 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:28:09.555 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:28:09.679 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 15:28:13.139 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complex_Id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complex_Id_1)
2020-07-07 15:30:01.743 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:30:02.510 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 15:30:02.576 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 15:30:02.636 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 15:30:02.922 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 15:30:03.482 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 15:30:03.493 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:30:03.618 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 15:30:03.622 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 15:30:03.626 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 15:30:03.673 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (68ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 15:30:03.678 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 15:30:03.697 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 15:30:03.723 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 15:30:03,1
2020-07-07 15:30:03.744 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 15:30:03.763 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:30:03.803 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 15:30:03.889 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 15:30:03.977 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (207ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 15:30:03.982 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 15:30:03.988 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 15:30:03,2
2020-07-07 15:30:03.996 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 15:30:04.049 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 15:30:04.151 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (12ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 15:30:04.223 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 15:30:04.646 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 604.6036ms.
2020-07-07 15:30:04.651 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 665.4586ms
2020-07-07 15:30:04.654 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 15:30:04.663 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 966.8306ms 200 text/html; charset=utf-8
2020-07-07 15:30:14.318 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 15:30:14.333 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:30:14.337 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 15:30:14.345 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:30:14.351 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:30:14.362 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 15:30:14.394 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 15:30:14.412 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 18.1175ms.
2020-07-07 15:30:14.416 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 68.3445ms
2020-07-07 15:30:14.421 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 15:30:14.434 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 111.0951ms 200 text/html; charset=utf-8
2020-07-07 15:30:14.588 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594125014481  
2020-07-07 15:30:14.623 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:30:14.627 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 15:30:14.642 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:30:14.658 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:30:14.664 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 15:30:14.672 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 15:30:14.773 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 101.887ms.
2020-07-07 15:30:14.776 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 131.5276ms
2020-07-07 15:30:14.778 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 15:30:14.781 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 193.3442ms 200 text/html; charset=utf-8
2020-07-07 15:30:16.111 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594125014482  
2020-07-07 15:30:16.123 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:30:16.126 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:30:16.134 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:30:16.140 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:30:16.164 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 15:30:16.171 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 15:30:16.208 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 38.4981ms.
2020-07-07 15:30:16.211 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 74.8979ms
2020-07-07 15:30:16.213 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:30:16.216 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 104.8544ms 200 text/html; charset=utf-8
2020-07-07 15:30:16.226 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594125014483  
2020-07-07 15:30:16.229 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:30:16.231 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:30:16.239 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:30:16.243 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:30:16.267 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 15:30:16.292 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 15:30:16.296 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 15:30:16.310 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 14.0862ms.
2020-07-07 15:30:16.312 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 71.0233ms
2020-07-07 15:30:16.314 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:30:16.316 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 89.9828ms 200 text/html; charset=utf-8
2020-07-07 15:30:17.975 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594125014484  
2020-07-07 15:30:17.981 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:30:17.984 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:30:17.988 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:30:17.992 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:30:18.000 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 15:30:18.006 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 15:30:18.009 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 15:30:18.013 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 4.0485ms.
2020-07-07 15:30:18.015 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 24.9292ms
2020-07-07 15:30:18.020 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 15:30:18.022 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 47.8806ms 200 text/html; charset=utf-8
2020-07-07 15:30:19.289 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 518
2020-07-07 15:30:19.297 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:30:19.303 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:30:19.338 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:30:19.374 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:30:19.483 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Complex] SET [CompanyId] = @p0, [DishesQuantity] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2020-07-07 15:30:23.896 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complex_Id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complex_Id_1)
2020-07-07 15:30:29.622 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-07-07 15:30:29.632 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 10290.8428ms
2020-07-07 15:30:29.634 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 15:30:29.637 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10353.8773ms 200 application/json; charset=utf-8
2020-07-07 15:30:29.650 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594125014485  
2020-07-07 15:30:29.654 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 15:30:29.656 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 15:30:29.659 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 15:30:29.663 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:30:29.670 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 15:30:29.674 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 15:30:29.682 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 7.9142ms.
2020-07-07 15:30:29.684 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 23.2145ms
2020-07-07 15:30:29.686 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 15:30:29.689 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 38.6182ms 200 text/html; charset=utf-8
2020-07-07 18:26:50.623 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:26:51.001 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 18:26:51.046 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 18:26:51.092 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 18:26:51.270 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 18:26:51.523 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 18:26:51.534 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:26:51.620 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 18:26:51.624 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 18:26:51.626 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 18:26:51.652 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 18:26:51.659 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 18:26:51.664 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 18:26:51.681 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 18:26:51,1
2020-07-07 18:26:51.682 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 18:26:51.713 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:26:51.742 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 18:26:51.784 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:26:51.827 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (126ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 18:26:51.831 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 18:26:51,2
2020-07-07 18:26:51.837 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 18:26:51.859 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address1], [a].[Address2], [a].[City], [a].[CompanyId], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MenuType], [a].[NameSurname], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[ZipCode]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2020-07-07 18:26:51.870 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 18:26:51.954 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2020-07-07 18:26:51.996 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2020-07-07 18:26:52.010 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2020-07-07 18:26:52.027 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2020-07-07 18:26:52.040 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 18:26:52.050 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-07 18:26:52.075 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 18:26:52.086 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-07 18:26:52.093 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 18:26:52.103 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 18:26:52.314 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 212.2914ms.
2020-07-07 18:26:52.317 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 240.1661ms
2020-07-07 18:26:52.321 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 18:26:52.331 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 667.7756ms 200 text/html; charset=utf-8
2020-07-07 18:26:55.443 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 18:26:55.463 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:26:55.465 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 18:26:55.475 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:26:55.480 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:26:55.489 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 18:26:55.514 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 18:26:55.525 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 11.9368ms.
2020-07-07 18:26:55.529 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 51.694ms
2020-07-07 18:26:55.531 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 18:26:55.535 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 94.2549ms 200 text/html; charset=utf-8
2020-07-07 18:26:55.606 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594135615557  
2020-07-07 18:26:55.627 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:26:55.630 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 18:26:55.647 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:26:55.658 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:26:55.662 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 18:26:55.667 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 18:26:55.744 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 77.6119ms.
2020-07-07 18:26:55.746 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 97.4359ms
2020-07-07 18:26:55.749 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 18:26:55.752 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 146.1334ms 200 text/html; charset=utf-8
2020-07-07 18:26:58.879 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594135615558  
2020-07-07 18:26:58.886 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:26:58.888 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:26:58.895 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:26:58.899 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:26:58.910 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 18:26:58.914 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 18:26:58.956 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 41.6214ms.
2020-07-07 18:26:58.958 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 61.9461ms
2020-07-07 18:26:58.961 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:26:58.963 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 83.9701ms 200 text/html; charset=utf-8
2020-07-07 18:26:58.977 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594135615559  
2020-07-07 18:26:58.980 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:26:58.982 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:26:58.989 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:26:58.996 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:26:59.012 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 18:26:59.028 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 18:26:59.032 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 18:26:59.048 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 16.23ms.
2020-07-07 18:26:59.051 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 58.8028ms
2020-07-07 18:26:59.054 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:26:59.057 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 80.5942ms 200 text/html; charset=utf-8
2020-07-07 18:30:34.393 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 18:30:34.428 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 18:30:34.434 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 62.5707ms 404 
2020-07-07 18:30:34.438 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 30.4795ms 404 
2020-07-07 18:30:55.364 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 18:30:55.368 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:30:55.372 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 18:30:55.377 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:30:55.378 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 18:30:55.384 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 18:30:55.386 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 18:30:55,1
2020-07-07 18:30:55.393 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 18:30:55.398 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 18:30:55.446 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (45ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 18:30:55.448 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 18:30:55,2
2020-07-07 18:30:55.454 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 18:32:51.190 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:32:51.677 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 18:32:51.728 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 18:32:51.777 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 18:32:52.023 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 18:32:52.358 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 18:32:52.371 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:32:52.447 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 18:32:52.452 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 18:32:52.455 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 18:32:52.482 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 18:32:52.493 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 18:32:52.502 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 18:32:52.531 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 18:32:52,1
2020-07-07 18:32:52.539 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 18:32:52.574 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:32:52.626 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 18:32:52.694 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 18:32:52.751 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 18:32:52.760 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (192ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 18:32:52.767 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 18:32:52,2
2020-07-07 18:32:52.774 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 18:32:52.797 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 18:32:52.857 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 18:32:52.872 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 18:32:53.162 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 367.7568ms.
2020-07-07 18:32:53.170 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 412.1015ms
2020-07-07 18:32:53.176 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 18:32:53.263 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 691.2236ms 200 text/html; charset=utf-8
2020-07-07 18:32:55.730 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 18:32:55.744 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:32:55.746 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 18:32:55.757 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:32:55.762 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:32:55.772 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 18:32:55.801 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 18:32:55.812 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 12.4439ms.
2020-07-07 18:32:55.817 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 56.0777ms
2020-07-07 18:32:55.821 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 18:32:55.826 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 96.8271ms 200 text/html; charset=utf-8
2020-07-07 18:32:55.923 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594135975844  
2020-07-07 18:32:55.959 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:32:55.962 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 18:32:55.973 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:32:55.988 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:32:55.992 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 18:32:55.997 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 18:32:56.074 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 76.9696ms.
2020-07-07 18:32:56.076 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 100.7026ms
2020-07-07 18:32:56.079 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 18:32:56.081 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 159.1786ms 200 text/html; charset=utf-8
2020-07-07 18:32:57.895 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594135975845  
2020-07-07 18:32:57.911 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:32:57.917 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:32:57.929 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:32:57.937 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:32:57.958 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 18:32:57.965 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 18:32:58.002 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 36.8029ms.
2020-07-07 18:32:58.004 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 72.5557ms
2020-07-07 18:32:58.007 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:32:58.009 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 115.867ms 200 text/html; charset=utf-8
2020-07-07 18:32:58.023 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594135975846  
2020-07-07 18:32:58.026 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:32:58.029 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:32:58.038 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:32:58.043 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:32:58.068 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 18:32:58.093 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 18:32:58.097 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 18:32:58.112 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 15.7575ms.
2020-07-07 18:32:58.116 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 74.9354ms
2020-07-07 18:32:58.120 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:32:58.123 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 99.6453ms 200 text/html; charset=utf-8
2020-07-07 18:33:26.136 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:33:26.616 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 18:33:26.652 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 18:33:26.707 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 18:33:26.945 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 18:33:27.302 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 18:33:27.314 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:33:27.443 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 18:33:27.453 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 18:33:27.456 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 18:33:27.484 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 18:33:27.490 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 18:33:27.494 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 18:33:27.516 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 18:33:27.521 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 18:33:27,1
2020-07-07 18:33:27.559 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:33:27.599 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 18:33:27.665 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (114ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 18:33:27.673 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 18:33:27.677 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 18:33:27,2
2020-07-07 18:33:27.684 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 18:33:27.730 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 18:33:27.768 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 18:33:27.831 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 18:33:27.844 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 18:33:28.110 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 345.3277ms.
2020-07-07 18:33:28.116 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 381.339ms
2020-07-07 18:33:28.119 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 18:33:28.133 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 648.1564ms 200 text/html; charset=utf-8
2020-07-07 18:34:04.635 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 18:34:04.662 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:34:04.664 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 18:34:04.672 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:34:04.680 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:34:04.690 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 18:34:04.719 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 18:34:04.737 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 19.0359ms.
2020-07-07 18:34:04.740 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 65.6206ms
2020-07-07 18:34:04.744 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 18:34:04.749 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 117.5575ms 200 text/html; charset=utf-8
2020-07-07 18:34:04.833 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594136044780  
2020-07-07 18:34:04.859 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:34:04.864 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 18:34:04.875 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:34:04.886 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:34:04.889 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 18:34:04.896 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 18:34:04.960 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 64.1144ms.
2020-07-07 18:34:04.962 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 84.3185ms
2020-07-07 18:34:04.965 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 18:34:04.967 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 134.3999ms 200 text/html; charset=utf-8
2020-07-07 18:34:06.338 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594136044781  
2020-07-07 18:34:06.347 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:34:06.360 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:34:06.369 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:34:06.375 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:34:06.401 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 18:34:06.408 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 18:34:06.447 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 39.1246ms.
2020-07-07 18:34:06.449 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 77.7888ms
2020-07-07 18:34:06.451 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:34:06.453 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 116.433ms 200 text/html; charset=utf-8
2020-07-07 18:34:06.463 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594136044782  
2020-07-07 18:34:06.466 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:34:06.469 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:34:06.475 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:34:06.481 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:34:06.504 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 18:34:06.527 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 18:34:06.532 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 18:34:06.546 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 13.5313ms.
2020-07-07 18:34:06.548 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 70.5798ms
2020-07-07 18:34:06.550 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:34:06.552 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 89.3436ms 200 text/html; charset=utf-8
2020-07-07 18:34:22.039 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594136044783  
2020-07-07 18:34:22.045 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:34:22.047 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:34:22.050 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:34:22.053 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:34:22.060 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 18:34:22.063 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 18:36:04.475 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 102405.8271ms.
2020-07-07 18:36:04.477 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 18:36:04.483 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 102426.0383ms
2020-07-07 18:36:04.485 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:36:04.488 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:36:04.490 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 102449.7114ms 200 text/html; charset=utf-8
2020-07-07 18:36:04.498 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 18:36:04.500 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 18:36:04.502 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 18:36:04,1
2020-07-07 18:36:04.505 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594136044784  
2020-07-07 18:36:04.508 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:36:04.513 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 18:36:04.516 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:36:04.520 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:36:04.523 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:36:04.525 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 18:36:04.528 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:36:04.538 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 18:36:04.549 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 18:36:04.557 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 18:36:04.560 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 18:36:04.563 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 3.4666ms.
2020-07-07 18:36:04.565 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 39.5477ms
2020-07-07 18:36:04.567 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:36:04.570 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 66.6717ms 200 text/html; charset=utf-8
2020-07-07 18:36:04.588 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (60ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 18:36:04.590 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 18:36:04,2
2020-07-07 18:36:04.594 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 18:36:08.201 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594136044785  
2020-07-07 18:36:08.212 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:36:08.215 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:36:08.220 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:36:08.225 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:36:08.237 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 18:36:08.241 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 18:36:15.951 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 7709.7346ms.
2020-07-07 18:36:15.953 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 7731.0364ms
2020-07-07 18:36:15.956 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:36:15.958 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 7760.0413ms 200 text/html; charset=utf-8
2020-07-07 18:36:15.969 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594136044786  
2020-07-07 18:36:15.972 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:36:15.974 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:36:15.976 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:36:15.979 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:36:15.985 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 18:36:15.990 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 18:36:15.994 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 18:36:16.001 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 6.4084ms.
2020-07-07 18:36:16.004 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 24.4051ms
2020-07-07 18:36:16.006 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:36:16.009 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 41.7813ms 200 text/html; charset=utf-8
2020-07-07 18:38:23.930 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:38:24.481 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 18:38:24.533 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 18:38:24.588 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 18:38:24.840 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 18:38:25.166 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 18:38:25.178 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:38:25.295 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 18:38:25.302 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 18:38:25.318 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 18:38:25.366 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 18:38:25.377 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (87ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 18:38:25.407 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 18:38:25.418 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 18:38:25,1
2020-07-07 18:38:25.444 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 18:38:25.448 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:38:25.489 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 18:38:25.590 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 18:38:25.668 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 18:38:25.676 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (199ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 18:38:25.684 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 18:38:25,2
2020-07-07 18:38:25.698 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 18:38:25.732 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 18:38:25.789 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 18:38:25.813 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 18:38:26.063 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 337.2841ms.
2020-07-07 18:38:26.067 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 395.6799ms
2020-07-07 18:38:26.071 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 18:38:26.081 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 678.5941ms 200 text/html; charset=utf-8
2020-07-07 18:38:29.609 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 18:38:29.622 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:38:29.625 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 18:38:29.632 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:38:29.637 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:38:29.647 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 18:38:29.673 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 18:38:29.683 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 12.161ms.
2020-07-07 18:38:29.688 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 53.3321ms
2020-07-07 18:38:29.692 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 18:38:29.697 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 92.153ms 200 text/html; charset=utf-8
2020-07-07 18:38:29.775 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594136309716  
2020-07-07 18:38:29.806 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:38:29.809 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 18:38:29.831 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:38:29.848 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:38:29.868 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 18:38:29.877 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 18:38:29.981 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 108.3787ms.
2020-07-07 18:38:29.983 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 149.7552ms
2020-07-07 18:38:29.984 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 18:38:29.988 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 213.1044ms 200 text/html; charset=utf-8
2020-07-07 18:38:31.147 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594136309717  
2020-07-07 18:38:31.153 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:38:31.156 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:38:31.165 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:38:31.170 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:38:31.192 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 18:38:31.199 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 18:38:33.147 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 1947.362ms.
2020-07-07 18:38:33.149 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 1982.3167ms
2020-07-07 18:38:33.152 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:38:33.155 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 2007.8668ms 200 text/html; charset=utf-8
2020-07-07 18:38:33.169 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594136309718  
2020-07-07 18:38:33.177 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:38:33.180 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:38:33.191 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:38:33.199 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:38:33.238 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 18:38:33.274 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 18:38:33.278 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 18:38:33.295 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 16.8524ms.
2020-07-07 18:38:33.297 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 103.1328ms
2020-07-07 18:38:33.298 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:38:33.302 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 133.4238ms 200 text/html; charset=utf-8
2020-07-07 18:44:24.678 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:44:25.129 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 18:44:25.180 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 18:44:25.232 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 18:44:25.504 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 18:44:25.849 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 18:44:25.868 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:44:25.974 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 18:44:25.977 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 18:44:25.980 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 18:44:26.017 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 18:44:26.021 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 18:44:26.030 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 18:44:26.055 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 18:44:26,1
2020-07-07 18:44:26.056 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 18:44:26.113 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:44:26.158 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 18:44:26.214 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 18:44:26.279 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 18:44:26.322 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (222ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 18:44:26.329 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 18:44:26,2
2020-07-07 18:44:26.340 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 18:44:26.347 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 18:44:26.450 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 18:44:26.467 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 18:44:26.706 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 379.9913ms.
2020-07-07 18:44:26.712 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 429.1545ms
2020-07-07 18:44:26.722 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 18:44:26.731 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 701.6227ms 200 text/html; charset=utf-8
2020-07-07 18:44:30.160 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 18:44:30.180 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:44:30.184 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 18:44:30.193 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:44:30.198 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:44:30.209 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 18:44:30.237 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 18:44:30.248 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 11.4924ms.
2020-07-07 18:44:30.252 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 56.7033ms
2020-07-07 18:44:30.254 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 18:44:30.259 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 102.7214ms 200 text/html; charset=utf-8
2020-07-07 18:44:30.356 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594136670279  
2020-07-07 18:44:30.392 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:44:30.396 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 18:44:30.408 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:44:30.419 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:44:30.422 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 18:44:30.428 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 18:44:30.504 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 76.2153ms.
2020-07-07 18:44:30.506 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 96.5027ms
2020-07-07 18:44:30.508 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 18:44:30.511 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 155.2418ms 200 text/html; charset=utf-8
2020-07-07 18:44:32.044 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594136670280  
2020-07-07 18:44:32.052 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:44:32.064 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:44:32.071 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:44:32.076 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:44:32.098 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 18:44:32.105 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 18:44:38.448 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 6343.1253ms.
2020-07-07 18:44:38.451 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 6377.5892ms
2020-07-07 18:44:38.453 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:44:38.456 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 6411.737ms 200 text/html; charset=utf-8
2020-07-07 18:44:38.469 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594136670281  
2020-07-07 18:44:38.472 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:44:38.474 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:44:38.481 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:44:38.487 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:44:38.522 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 18:44:38.548 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 18:44:38.554 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 18:44:38.567 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 14.1036ms.
2020-07-07 18:44:38.569 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 85.9286ms
2020-07-07 18:44:38.571 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:44:38.573 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 104.8258ms 200 text/html; charset=utf-8
2020-07-07 18:45:09.114 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594136670282  
2020-07-07 18:45:09.124 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:45:09.130 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:45:09.135 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:45:09.142 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:45:09.154 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 18:45:09.158 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 18:45:28.677 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 18:45:28.683 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 19523.5268ms.
2020-07-07 18:45:28.686 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 19547.9238ms
2020-07-07 18:45:28.687 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:45:28.689 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:45:28.692 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 19579.7777ms 200 text/html; charset=utf-8
2020-07-07 18:45:28.697 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 18:45:28.700 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 18:45:28.702 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:45:28.705 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 18:45:28.708 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594136670283  
2020-07-07 18:45:28.711 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 18:45:28,1
2020-07-07 18:45:28.716 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:45:28.718 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:45:28.720 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 18:45:28.723 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:45:28.726 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 18:45:28.730 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:45:28.737 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 18:45:28.748 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 18:45:28.753 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 18:45:28.761 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 9.2137ms.
2020-07-07 18:45:28.765 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 38.7042ms
2020-07-07 18:45:28.767 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:45:28.770 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 62.3049ms 200 text/html; charset=utf-8
2020-07-07 18:45:28.838 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (95ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 18:45:28.841 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 18:45:28,2
2020-07-07 18:45:28.846 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 18:45:32.449 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/2?_=1594136670284  
2020-07-07 18:45:32.452 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:45:32.454 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:45:32.457 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:45:32.461 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:45:32.469 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[Id] = @__p_0
2020-07-07 18:45:32.474 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 18:50:47.050 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:50:48.073 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (50ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 18:50:48.172 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (67ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 18:50:48.267 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 18:50:48.800 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 18:50:49.315 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 18:50:49.348 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:50:49.493 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 18:50:49.497 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 18:50:49.510 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 18:50:49.565 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 18:50:49.578 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 18:50:49.583 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 18:50:49.612 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 18:50:49.624 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 18:50:49,1
2020-07-07 18:50:49.701 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:50:49.818 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 18:50:49.848 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 18:50:49.995 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 18:50:50.026 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (340ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 18:50:50.051 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 18:50:50,2
2020-07-07 18:50:50.096 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 18:50:50.111 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (46ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 18:50:50.363 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 18:50:50.434 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 18:50:50.596 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 520.5795ms.
2020-07-07 18:50:50.613 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 603.7118ms
2020-07-07 18:50:50.619 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 18:50:50.679 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1062.7455ms 200 text/html; charset=utf-8
2020-07-07 18:50:59.342 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 18:50:59.355 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:50:59.357 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 18:50:59.364 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:50:59.370 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:50:59.379 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 18:50:59.407 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 18:50:59.418 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 11.2655ms.
2020-07-07 18:50:59.421 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 55.097ms
2020-07-07 18:50:59.425 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 18:50:59.430 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 90.0607ms 200 text/html; charset=utf-8
2020-07-07 18:50:59.537 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594137059462  
2020-07-07 18:50:59.563 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:50:59.571 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 18:50:59.584 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:50:59.594 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:50:59.601 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 18:50:59.606 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 18:50:59.670 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 62.6887ms.
2020-07-07 18:50:59.672 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 85.5566ms
2020-07-07 18:50:59.674 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 18:50:59.676 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 145.974ms 200 text/html; charset=utf-8
2020-07-07 18:51:00.846 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594137059463  
2020-07-07 18:51:00.855 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:51:00.858 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:51:00.866 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:51:00.875 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:51:00.955 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN [DishComplex] AS [d] ON [t].[Id] = [d].[ComplexId]
ORDER BY [t].[Id], [d].[DishId], [d].[ComplexId], [d].[DishCourse]
2020-07-07 18:51:00.996 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 18:51:10.121 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 9125.3452ms.
2020-07-07 18:51:10.123 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 9254.7893ms
2020-07-07 18:51:10.125 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:51:10.128 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9282.3249ms 200 text/html; charset=utf-8
2020-07-07 18:51:10.142 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594137059464  
2020-07-07 18:51:10.145 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:51:10.148 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:51:10.155 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:51:10.161 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:51:10.188 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 18:51:10.213 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 18:51:10.219 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 18:51:10.231 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 12.0042ms.
2020-07-07 18:51:10.234 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 75.8762ms
2020-07-07 18:51:10.236 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:51:10.238 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 96.7044ms 200 text/html; charset=utf-8
2020-07-07 18:51:26.696 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 18:51:26.703 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 7.9769ms 404 
2020-07-07 18:51:26.706 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 18:51:26.710 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 3.6188ms 404 
2020-07-07 18:54:20.656 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:54:21.282 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 18:54:21.378 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (73ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 18:54:21.473 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 18:54:21.824 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 18:54:22.256 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 18:54:22.273 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:54:22.392 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 18:54:22.412 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 18:54:22.419 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 18:54:22.472 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 18:54:22.486 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 18:54:22.506 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 18:54:22.512 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 18:54:22.540 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 18:54:22,1
2020-07-07 18:54:22.609 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:54:22.777 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 18:54:22.811 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 18:54:22.873 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (295ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 18:54:22.883 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 18:54:22,2
2020-07-07 18:54:22.910 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 18:54:22.919 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 18:54:22.979 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 18:54:23.104 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 18:54:23.125 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 18:54:23.337 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 373.5893ms.
2020-07-07 18:54:23.344 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 419.3991ms
2020-07-07 18:54:23.348 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 18:54:23.375 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 893.5348ms 200 text/html; charset=utf-8
2020-07-07 18:54:26.071 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 18:54:26.086 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:54:26.089 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 18:54:26.097 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:54:26.103 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:54:26.114 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 18:54:26.148 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 18:54:26.161 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 15.5243ms.
2020-07-07 18:54:26.167 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 65.9111ms
2020-07-07 18:54:26.171 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 18:54:26.178 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 106.6775ms 200 text/html; charset=utf-8
2020-07-07 18:54:26.270 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594137266200  
2020-07-07 18:54:26.293 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:54:26.297 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 18:54:26.307 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:54:26.322 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:54:26.326 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 18:54:26.336 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 18:54:26.425 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 90.3703ms.
2020-07-07 18:54:26.427 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 117.6373ms
2020-07-07 18:54:26.431 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 18:54:26.434 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 165.7003ms 200 text/html; charset=utf-8
2020-07-07 18:54:27.708 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594137266201  
2020-07-07 18:54:27.717 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:54:27.720 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:54:27.727 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:54:27.735 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:54:27.819 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 18:54:27.873 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 18:54:42.130 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 14256.8754ms.
2020-07-07 18:54:42.133 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 14402.871ms
2020-07-07 18:54:42.135 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:54:42.138 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14430.1167ms 200 text/html; charset=utf-8
2020-07-07 18:54:42.149 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594137266202  
2020-07-07 18:54:42.152 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:54:42.156 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:54:42.163 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:54:42.169 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:54:42.192 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 18:54:42.214 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 18:54:42.219 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 18:54:42.232 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 13.4109ms.
2020-07-07 18:54:42.234 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 68.2105ms
2020-07-07 18:54:42.236 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:54:42.238 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 89.8467ms 200 text/html; charset=utf-8
2020-07-07 18:55:22.742 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 18:55:22.747 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:55:22.752 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 18:55:22.755 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 18:55:22.757 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:55:22.761 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 18:55:22.764 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 18:55:22,1
2020-07-07 18:55:22.769 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 18:55:22.773 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 18:55:22.825 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (46ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 18:55:22.827 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 18:55:22,2
2020-07-07 18:55:22.832 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 18:56:17.618 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594137266203  
2020-07-07 18:56:17.624 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:56:17.627 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:56:17.630 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:56:17.635 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:56:17.646 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 18:56:17.650 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 18:56:17.657 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 7.0536ms.
2020-07-07 18:56:17.660 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 26.9962ms
2020-07-07 18:56:17.663 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:56:17.666 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 47.3452ms 200 text/html; charset=utf-8
2020-07-07 18:56:17.677 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594137266204  
2020-07-07 18:56:17.681 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:56:17.683 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:56:17.686 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:56:17.689 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:56:17.697 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 18:56:17.706 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 18:56:17.710 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 18:56:17.714 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 4.5107ms.
2020-07-07 18:56:17.716 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 28.0136ms
2020-07-07 18:56:17.718 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:56:17.720 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 44.3417ms 200 text/html; charset=utf-8
2020-07-07 18:56:21.098 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 18:56:21.104 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:56:21.108 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 18:56:21.112 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:56:21.116 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:56:21.126 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 18:56:21.132 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 18:56:21.139 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 6.9358ms.
2020-07-07 18:56:21.144 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 27.1097ms
2020-07-07 18:56:21.146 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 18:56:21.149 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 52.3772ms 200 text/html; charset=utf-8
2020-07-07 18:56:21.217 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594137381172  
2020-07-07 18:56:21.220 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 18:56:21.223 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:56:21.228 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 18:56:21.231 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:56:21.234 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:56:21.239 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 18:56:21.244 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 18:56:21.253 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 9.4111ms.
2020-07-07 18:56:21.255 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 22.0392ms
2020-07-07 18:56:21.257 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 18:56:21.261 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 42.612ms 200 text/html; charset=utf-8
2020-07-07 18:56:21.274 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 18:56:21.277 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 57.3658ms 200 image/x-icon
2020-07-07 18:56:22.767 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594137381173  
2020-07-07 18:56:22.771 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:56:22.773 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:56:22.776 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:56:22.780 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:56:22.784 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 18:56:22.789 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 18:56:22.796 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 7.2691ms.
2020-07-07 18:56:22.798 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 19.9212ms
2020-07-07 18:56:22.800 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:56:22.803 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 35.794ms 200 text/html; charset=utf-8
2020-07-07 18:56:22.811 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594137381174  
2020-07-07 18:56:22.814 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:56:22.816 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:56:22.818 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:56:22.820 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:56:22.823 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 18:56:22.829 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 18:56:22.832 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 18:56:22.836 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 3.9446ms.
2020-07-07 18:56:22.838 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 18.5396ms
2020-07-07 18:56:22.840 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:56:22.844 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 31.0651ms 200 text/html; charset=utf-8
2020-07-07 18:56:32.728 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:56:33.035 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 18:56:33.081 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 18:56:33.100 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 18:56:33.269 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 18:56:33.418 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 18:56:33.420 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:56:33.444 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 18:56:33.444 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 18:56:33.444 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 18:56:33.460 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-07 18:56:33.469 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 18:56:33.484 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 18:56:33.487 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 18:56:33.502 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 18:56:33,1
2020-07-07 18:56:33.526 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:56:33.528 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 18:56:33.543 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 18:56:33.557 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-07 18:56:33.574 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 18:56:33.623 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (106ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 18:56:33.625 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 18:56:33,2
2020-07-07 18:56:33.630 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 18:56:33.662 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 18:56:33.668 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 18:56:33.706 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 133.5167ms.
2020-07-07 18:56:33.707 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 149.7167ms
2020-07-07 18:56:33.707 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-07 18:56:33.711 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 251.9049ms 200 text/html; charset=utf-8
2020-07-07 18:56:36.617 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 18:56:36.636 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:56:36.637 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 18:56:36.646 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:56:36.649 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:56:36.656 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 18:56:36.678 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 18:56:36.685 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 7.8833ms.
2020-07-07 18:56:36.687 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 40.6731ms
2020-07-07 18:56:36.688 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 18:56:36.691 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 73.9971ms 200 text/html; charset=utf-8
2020-07-07 18:56:36.770 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594137396718  
2020-07-07 18:56:36.788 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:56:36.789 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 18:56:36.797 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:56:36.809 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:56:36.811 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 18:56:36.814 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 18:56:36.870 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 57.2546ms.
2020-07-07 18:56:36.870 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 72.6818ms
2020-07-07 18:56:36.870 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 18:56:36.871 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 101.5448ms 200 text/html; charset=utf-8
2020-07-07 18:56:38.477 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594137396719  
2020-07-07 18:56:38.485 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:56:38.486 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:56:38.494 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:56:38.497 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:56:38.579 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 18:56:38.625 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 18:56:38.662 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 37.4914ms.
2020-07-07 18:56:38.662 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 168.4966ms
2020-07-07 18:56:38.662 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:56:38.662 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 185.9687ms 200 text/html; charset=utf-8
2020-07-07 18:56:38.671 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594137396720  
2020-07-07 18:56:38.672 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:56:38.672 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:56:38.676 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:56:38.678 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:56:38.694 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 18:56:38.711 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 18:56:38.713 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 18:56:38.736 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 23.4635ms.
2020-07-07 18:56:38.736 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 60.2456ms
2020-07-07 18:56:38.736 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:56:38.736 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 65.1206ms 200 text/html; charset=utf-8
2020-07-07 18:56:43.045 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 18:56:43.051 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 6.4271ms 404 
2020-07-07 18:56:43.054 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 18:56:43.055 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.7689ms 404 
2020-07-07 18:57:23.289 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 18:57:23.294 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:57:23.325 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address1], [a].[Address2], [a].[City], [a].[CompanyId], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MenuType], [a].[NameSurname], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[ZipCode]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2020-07-07 18:57:23.373 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2020-07-07 18:57:23.393 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2020-07-07 18:57:23.401 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2020-07-07 18:57:23.412 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2020-07-07 18:57:23.416 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:57:23.417 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 18:57:23.417 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:57:23.419 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 18:57:23.420 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 18:57:23.426 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 6.2947ms.
2020-07-07 18:57:23.426 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 9.1945ms
2020-07-07 18:57:23.426 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 18:57:23.426 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 137.1795ms 200 text/html; charset=utf-8
2020-07-07 18:57:23.531 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 18:57:23.533 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.5939ms 404 
2020-07-07 18:57:23.545 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 18:57:23.546 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.8449ms 404 
2020-07-07 18:57:23.577 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594137443487  
2020-07-07 18:57:23.578 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:57:23.578 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 18:57:23.578 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:57:23.580 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:57:23.581 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 18:57:23.581 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 18:57:23.588 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 7.5258ms.
2020-07-07 18:57:23.589 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 10.0803ms
2020-07-07 18:57:23.589 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 18:57:23.589 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 11.3924ms 200 text/html; charset=utf-8
2020-07-07 18:57:23.644 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 18:57:23.657 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 18:57:23.660 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 16.1156ms 200 image/x-icon
2020-07-07 18:57:24.931 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594137443488  
2020-07-07 18:57:24.933 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:57:24.934 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:57:24.934 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:57:24.937 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:57:24.946 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 18:57:24.957 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 18:57:24.966 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 9.793ms.
2020-07-07 18:57:24.967 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 32.4444ms
2020-07-07 18:57:24.967 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:57:24.967 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 35.5744ms 200 text/html; charset=utf-8
2020-07-07 18:57:24.983 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594137443489  
2020-07-07 18:57:24.985 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:57:24.985 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:57:24.985 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:57:24.991 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:57:24.997 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 18:57:25.002 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 18:57:25.005 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 18:57:25.008 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 3.1381ms.
2020-07-07 18:57:25.008 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 22.4441ms
2020-07-07 18:57:25.008 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:57:25.008 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 25.2855ms 200 text/html; charset=utf-8
2020-07-07 18:57:52.022 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 18:57:52.029 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:57:52.030 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 18:57:52.030 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:57:52.033 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:57:52.038 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 18:57:52.040 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 18:57:52.044 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 3.8654ms.
2020-07-07 18:57:52.044 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 13.6847ms
2020-07-07 18:57:52.044 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 18:57:52.045 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 23.1947ms 200 text/html; charset=utf-8
2020-07-07 18:57:52.069 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css  
2020-07-07 18:57:52.070 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/carousel.css  
2020-07-07 18:57:52.073 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/font-awesome/css/font-awesome.css  
2020-07-07 18:57:52.074 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css  
2020-07-07 18:57:52.075 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap-duallistbox.css  
2020-07-07 18:57:52.077 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/jquery-ui.css  
2020-07-07 18:57:52.083 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/css/carousel.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\css\carousel.css'
2020-07-07 18:57:52.083 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 13.6743ms 200 text/css
2020-07-07 18:57:52.086 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/css/bootstrap.min.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\css\bootstrap.min.css'
2020-07-07 18:57:52.086 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 16.8755ms 200 text/css
2020-07-07 18:57:52.088 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/site.css  
2020-07-07 18:57:52.089 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/css/bootstrap-duallistbox.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\css\bootstrap-duallistbox.css'
2020-07-07 18:57:52.089 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 13.9174ms 200 text/css
2020-07-07 18:57:52.088 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/jquery.min.js  
2020-07-07 18:57:52.089 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/lib/font-awesome/css/font-awesome.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\lib\font-awesome\css\font-awesome.css'
2020-07-07 18:57:52.089 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 15.7726ms 200 text/css
2020-07-07 18:57:52.095 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/jquery-ui.js  
2020-07-07 18:57:52.098 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js  
2020-07-07 18:57:52.099 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/css/jquery-ui.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\css\jquery-ui.css'
2020-07-07 18:57:52.099 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 21.9832ms 200 text/css
2020-07-07 18:57:52.102 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/lib/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\lib\awesome-bootstrap-checkbox\awesome-bootstrap-checkbox.css'
2020-07-07 18:57:52.102 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 28.3127ms 200 text/css
2020-07-07 18:57:52.109 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\css\site.css'
2020-07-07 18:57:52.109 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 21.1518ms 200 text/css
2020-07-07 18:57:52.111 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/jquery.bootstrap-duallistbox.js  
2020-07-07 18:57:52.114 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/site.js?v=WvUmlE8e_VDlPeR0g6h9Y5zTmjvT0eIH_AR_uNfWDd4  
2020-07-07 18:57:52.114 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\js\site.js'
2020-07-07 18:57:52.114 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.7839ms 200 application/javascript
2020-07-07 18:57:52.147 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/js/jquery.bootstrap-duallistbox.js'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\js\jquery.bootstrap-duallistbox.js'
2020-07-07 18:57:52.147 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 35.9854ms 200 application/javascript
2020-07-07 18:57:52.168 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/js/bootstrap.min.js'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\js\bootstrap.min.js'
2020-07-07 18:57:52.168 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 70.3224ms 200 application/javascript
2020-07-07 18:57:52.268 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/js/jquery.min.js'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\js\jquery.min.js'
2020-07-07 18:57:52.268 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 179.7488ms 200 application/javascript
2020-07-07 18:57:52.285 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 18:57:52.288 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 2.552ms 404 
2020-07-07 18:57:52.482 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/js/jquery-ui.js'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\js\jquery-ui.js'
2020-07-07 18:57:52.482 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 387.1677ms 200 application/javascript
2020-07-07 18:57:52.548 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 18:57:52.549 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/font-awesome/fonts/fontawesome-webfont.woff2?v=4.3.0  
2020-07-07 18:57:52.551 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 2.9464ms 404 
2020-07-07 18:57:52.559 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/lib/font-awesome/fonts/fontawesome-webfont.woff2'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\lib\font-awesome\fonts\fontawesome-webfont.woff2'
2020-07-07 18:57:52.559 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.3878ms 200 font/woff2
2020-07-07 18:57:52.588 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594137472302  
2020-07-07 18:57:52.588 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:57:52.588 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 18:57:52.589 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:57:52.590 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:57:52.593 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 18:57:52.596 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 18:57:52.603 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 7.7994ms.
2020-07-07 18:57:52.603 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 14.25ms
2020-07-07 18:57:52.603 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 18:57:52.603 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 15.6115ms 200 text/html; charset=utf-8
2020-07-07 18:57:52.629 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 18:57:52.631 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 18:57:52.631 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.5009ms 200 image/x-icon
2020-07-07 18:57:54.297 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594137472303  
2020-07-07 18:57:54.299 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:57:54.299 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:57:54.299 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:57:54.301 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:57:54.309 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 18:57:54.314 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 18:57:54.321 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 7.5719ms.
2020-07-07 18:57:54.321 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 21.8771ms
2020-07-07 18:57:54.321 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 18:57:54.322 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 24.5996ms 200 text/html; charset=utf-8
2020-07-07 18:57:54.333 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594137472304  
2020-07-07 18:57:54.334 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 18:57:54.334 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:57:54.335 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 18:57:54.336 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 18:57:54.348 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 18:57:54.354 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 18:57:54.355 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 18:57:54.358 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 3.095ms.
2020-07-07 18:57:54.358 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 23.5805ms
2020-07-07 18:57:54.358 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 18:57:54.359 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 25.5291ms 200 text/html; charset=utf-8
2020-07-07 19:00:19.033 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:00:19.325 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 19:00:19.364 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 19:00:19.383 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 19:00:19.569 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 19:00:19.720 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:00:19.723 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:00:19.805 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 19:00:19.805 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 19:00:19.805 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 19:00:19.842 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594137472305  
2020-07-07 19:00:19.854 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:00:19.861 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:00:19.877 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 19:00:19.891 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:00:19,1
2020-07-07 19:00:19.915 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:00:19.933 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:00:19.970 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:00:19.973 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:00:20.019 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:00:20.037 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:00:20.071 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (156ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:00:20.074 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:00:20,2
2020-07-07 19:00:20.080 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:00:20.099 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:00:20.181 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:00:20.278 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:00:20.322 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-07 19:00:20.370 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:00:20.427 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 149.8933ms.
2020-07-07 19:00:20.430 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 410.4569ms
2020-07-07 19:00:20.430 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:00:20.438 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 596.8493ms 200 text/html; charset=utf-8
2020-07-07 19:00:20.456 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594137472306  
2020-07-07 19:00:20.463 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:00:20.463 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:00:20.470 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:00:20.476 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:00:20.500 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:00:20.522 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:00:20.525 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:00:20.538 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 13.786ms.
2020-07-07 19:00:20.538 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 67.7566ms
2020-07-07 19:00:20.538 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:00:20.539 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 82.9798ms 200 text/html; charset=utf-8
2020-07-07 19:02:52.940 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:02:53.265 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (29ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 19:02:53.327 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 19:02:53.358 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 19:02:53.557 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 19:02:53.697 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:02:53.700 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:02:53.738 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 19:02:53.738 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 19:02:53.738 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 19:02:53.757 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594137472307  
2020-07-07 19:02:53.757 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 19:02:53.770 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:02:53.771 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 19:02:53.772 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:02:53.789 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:02:53,1
2020-07-07 19:02:53.820 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:02:53.840 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:02:53.850 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:02:53.850 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:02:53.853 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:02:53.853 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:02:53.888 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:02:53.895 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:02:53.899 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:02:53.916 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:02:53.955 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:02:53.961 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (157ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:02:53.965 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:02:53,2
2020-07-07 19:02:53.970 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:02:53.985 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:02:53.996 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:02:54.004 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 19:02:54.051 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:02:54.138 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:02:54.210 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 208.5807ms.
2020-07-07 19:02:54.213 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 325.0574ms
2020-07-07 19:02:54.214 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:02:54.227 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 471.016ms 200 text/html; charset=utf-8
2020-07-07 19:02:54.231 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 94.416ms.
2020-07-07 19:02:54.231 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 332.7878ms
2020-07-07 19:02:54.231 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:02:54.232 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 476.3267ms 200 text/html; charset=utf-8
2020-07-07 19:02:54.256 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/site.css  
2020-07-07 19:02:54.266 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/site.css was not modified
2020-07-07 19:02:54.268 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.4757ms 304 text/css
2020-07-07 19:02:54.472 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 19:02:54.501 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 28.8458ms 404 
2020-07-07 19:02:54.529 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 19:02:54.531 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 2.5035ms 404 
2020-07-07 19:02:54.605 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594137774352  
2020-07-07 19:02:54.611 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:02:54.611 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:02:54.627 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:02:54.633 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 19:02:54.644 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:02:54.649 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:02:54.648 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 19:02:54.649 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 16.7092ms 200 image/x-icon
2020-07-07 19:02:54.653 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 19:02:54.739 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 87.6818ms.
2020-07-07 19:02:54.739 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 111.712ms
2020-07-07 19:02:54.739 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:02:54.739 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 134.5833ms 200 text/html; charset=utf-8
2020-07-07 19:02:58.508 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594137774353  
2020-07-07 19:02:58.513 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:02:58.514 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:02:58.514 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:02:58.516 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:02:58.521 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:02:58.523 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:02:58.531 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 8.6985ms.
2020-07-07 19:02:58.531 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 17.3025ms
2020-07-07 19:02:58.532 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:02:58.532 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 23.9687ms 200 text/html; charset=utf-8
2020-07-07 19:02:58.552 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594137774354  
2020-07-07 19:02:58.553 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-07 19:02:58.553 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:02:58.553 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:02:58.553 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-07 19:02:58.553 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:02:58.554 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:02:58.554 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-07 19:02:58.556 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:02:58.559 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:02:58.559 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:02:58.562 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:02:58.562 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:02:58.566 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:02:58.589 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:02:58.611 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:02:58.613 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:02:58.638 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 24.779ms.
2020-07-07 19:02:58.638 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 78.4622ms
2020-07-07 19:02:58.638 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:02:58.638 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 86.2236ms 200 text/html; charset=utf-8
2020-07-07 19:02:58.671 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:02:58.671 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:02:58.671 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:02:58.696 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:02:58.696 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:02:58.719 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:02:58.731 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 168.7775ms
2020-07-07 19:02:58.731 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:02:58.731 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 178.2157ms 200 image/jpeg
2020-07-07 19:02:58.736 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:02:58.751 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 191.2516ms
2020-07-07 19:02:58.751 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:02:58.751 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 197.3186ms 200 image/jpeg
2020-07-07 19:02:59.071 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:02:59.071 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 509.1521ms
2020-07-07 19:02:59.071 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:02:59.071 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 517.0615ms 200 image/jpeg
2020-07-07 19:03:28.344 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:03:28.649 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 19:03:28.687 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 19:03:28.705 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 19:03:28.923 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 19:03:29.063 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:03:29.067 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:03:29.108 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 19:03:29.108 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 19:03:29.108 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 19:03:29.129 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594137774355  
2020-07-07 19:03:29.141 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:03:29.145 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:03:29.145 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 19:03:29.166 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:03:29,1
2020-07-07 19:03:29.195 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:03:29.217 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:03:29.229 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:03:29.233 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:03:29.276 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:03:29.292 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:03:29.330 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (146ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:03:29.334 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:03:29,2
2020-07-07 19:03:29.338 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:03:29.362 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:03:29.373 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:03:29.453 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:03:29.565 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:03:29.720 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 157.5351ms.
2020-07-07 19:03:29.722 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 445.3113ms
2020-07-07 19:03:29.722 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:03:29.729 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 600.9012ms 200 text/html; charset=utf-8
2020-07-07 19:03:29.748 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594137774356  
2020-07-07 19:03:29.757 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-07 19:03:29.757 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:03:29.757 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:03:29.759 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-07 19:03:29.759 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-07 19:03:29.765 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:03:29.772 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:03:29.775 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:03:29.775 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:03:29.775 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:03:29.781 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:03:29.781 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:03:29.782 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:03:29.792 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:03:29.792 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:03:29.792 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:03:29.803 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:03:29.812 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:03:29.812 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:03:29.833 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:03:29.835 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:03:29.837 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:03:29.852 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 70.8796ms
2020-07-07 19:03:29.852 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:03:29.853 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:03:29.853 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 96.0119ms 200 image/jpeg
2020-07-07 19:03:29.869 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 86.4877ms
2020-07-07 19:03:29.871 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:03:29.871 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 112.0048ms 200 image/jpeg
2020-07-07 19:03:29.873 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 36.5818ms.
2020-07-07 19:03:29.873 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 108.2127ms
2020-07-07 19:03:29.873 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:03:29.873 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 125.5129ms 200 text/html; charset=utf-8
2020-07-07 19:03:30.292 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:03:30.293 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 511.4844ms
2020-07-07 19:03:30.293 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:03:30.293 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 533.4437ms 200 image/jpeg
2020-07-07 19:05:29.224 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:05:29.235 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:05:29.240 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:05:29.242 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:05:29.244 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:05:29.244 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:05:29.246 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:05:29,1
2020-07-07 19:05:29.252 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:05:29.253 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:05:29.308 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (49ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:05:29.308 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:05:29,2
2020-07-07 19:05:29.311 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:06:46.920 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:06:47.169 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 19:06:47.207 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 19:06:47.225 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 19:06:47.382 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 19:06:47.505 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:06:47.507 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:06:47.545 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 19:06:47.545 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 19:06:47.545 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 19:06:47.560 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594137774357  
2020-07-07 19:06:47.571 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:06:47.571 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 19:06:47.573 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:06:47.586 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:06:47,1
2020-07-07 19:06:47.607 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:06:47.627 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:06:47.637 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:06:47.639 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:06:47.678 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:06:47.693 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:06:47.725 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (125ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:06:47.728 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:06:47,2
2020-07-07 19:06:47.734 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:06:47.752 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:06:47.762 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:06:47.812 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:06:47.878 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:06:47.977 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 99.0334ms.
2020-07-07 19:06:47.979 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 300.6978ms
2020-07-07 19:06:47.979 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:06:47.985 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 425.8342ms 200 text/html; charset=utf-8
2020-07-07 19:06:48.001 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594137774358  
2020-07-07 19:06:48.007 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:06:48.009 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:06:48.015 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:06:48.021 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:06:48.045 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:06:48.061 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:06:48.062 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:06:48.074 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 12.5369ms.
2020-07-07 19:06:48.075 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 59.3712ms
2020-07-07 19:06:48.075 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:06:48.075 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 73.4837ms 200 text/html; charset=utf-8
2020-07-07 19:07:00.601 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/2?_=1594137774359  
2020-07-07 19:07:00.624 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:07:00.624 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:07:00.625 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:07:00.629 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:07:00.633 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:07:00.634 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:07:00.639 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 4.9409ms.
2020-07-07 19:07:00.639 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 14.128ms
2020-07-07 19:07:00.639 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:07:00.639 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 38.947ms 200 text/html; charset=utf-8
2020-07-07 19:07:00.654 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=2&course=0&_=1594137774360  
2020-07-07 19:07:00.655 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:07:00.655 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:07:00.655 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:07:00.656 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:07:00.657 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:07:00.662 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:07:00.663 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:07:00.666 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.6928ms.
2020-07-07 19:07:00.666 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 10.7511ms
2020-07-07 19:07:00.666 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:07:00.666 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.1844ms 200 text/html; charset=utf-8
2020-07-07 19:07:18.254 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594137774361  
2020-07-07 19:07:18.256 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:07:18.257 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:07:18.257 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:07:18.258 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:07:18.261 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:07:18.263 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:07:18.268 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 5.9634ms.
2020-07-07 19:07:18.269 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 11.7205ms
2020-07-07 19:07:18.269 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:07:18.270 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14.967ms 200 text/html; charset=utf-8
2020-07-07 19:07:18.284 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594137774362  
2020-07-07 19:07:18.284 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:07:18.285 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:07:18.285 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:07:18.285 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:07:18.291 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:07:18.294 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:07:18.294 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:07:18.298 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 4.1399ms.
2020-07-07 19:07:18.298 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 13.5771ms
2020-07-07 19:07:18.298 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:07:18.299 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14.833ms 200 text/html; charset=utf-8
2020-07-07 19:07:32.787 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/2?_=1594137774363  
2020-07-07 19:07:32.791 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:07:32.792 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:07:32.793 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:07:32.797 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:07:32.808 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:07:32.815 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:07:32.826 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 11.4496ms.
2020-07-07 19:07:32.826 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 32.9821ms
2020-07-07 19:07:32.827 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:07:32.827 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 40.0158ms 200 text/html; charset=utf-8
2020-07-07 19:07:32.843 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=2&course=0&_=1594137774364  
2020-07-07 19:07:32.846 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:07:32.846 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:07:32.847 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:07:32.849 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:07:32.853 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:07:32.858 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:07:32.860 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:07:32.878 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 18.4981ms.
2020-07-07 19:07:32.878 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 31.8539ms
2020-07-07 19:07:32.879 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:07:32.879 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 35.77ms 200 text/html; charset=utf-8
2020-07-07 19:10:47.644 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:10:47.646 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:10:47.647 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:10:47.648 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:10:47.650 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:10:47.650 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:10:47.650 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:10:47,1
2020-07-07 19:10:47.654 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:10:47.655 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:10:47.707 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (49ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:10:47.707 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:10:47,2
2020-07-07 19:10:47.710 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:18:32.648 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:18:32.908 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 19:18:32.951 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 19:18:32.974 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 19:18:33.141 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 19:18:33.270 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:18:33.275 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:18:33.337 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 19:18:33.337 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 19:18:33.337 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 19:18:33.364 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 19:18:33.367 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:18:33.370 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:18:33.380 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 19:18:33.387 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:18:33,1
2020-07-07 19:18:33.412 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:18:33.428 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:18:33.439 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:18:33.440 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:18:33.463 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:18:33.467 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:18:33.504 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:18:33.504 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (103ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:18:33.506 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:18:33,2
2020-07-07 19:18:33.510 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:18:33.523 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:18:33.535 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 19:18:33.662 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 127.3574ms.
2020-07-07 19:18:33.665 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 201.8846ms
2020-07-07 19:18:33.666 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:18:33.672 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-07 19:18:33.674 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 311.0586ms 200 text/html; charset=utf-8
2020-07-07 19:18:33.693 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/site.css  
2020-07-07 19:18:33.699 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/site.css was not modified
2020-07-07 19:18:33.702 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.3167ms 304 text/css
2020-07-07 19:18:33.711 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:18:33.780 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 19:18:33.785 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 5.1577ms 404 
2020-07-07 19:18:33.805 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 19:18:33.818 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.5849ms 404 
2020-07-07 19:18:33.843 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594138713744  
2020-07-07 19:18:33.845 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:18:33.846 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:18:33.865 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:18:33.873 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 19:18:33.881 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 19:18:33.882 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 8.3184ms 200 image/x-icon
2020-07-07 19:18:33.886 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:18:33.887 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:18:33.889 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 19:18:33.957 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 69.1161ms.
2020-07-07 19:18:33.957 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 91.9817ms
2020-07-07 19:18:33.957 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:18:33.958 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 114.6839ms 200 text/html; charset=utf-8
2020-07-07 19:18:35.929 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594138713745  
2020-07-07 19:18:35.934 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:18:35.934 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:18:35.939 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:18:35.943 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:18:36.012 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:18:36.048 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:18:36.083 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 35.8579ms.
2020-07-07 19:18:36.084 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 144.4002ms
2020-07-07 19:18:36.084 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:18:36.084 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 154.5009ms 200 text/html; charset=utf-8
2020-07-07 19:18:36.089 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-07 19:18:36.090 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:18:36.094 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:18:36.100 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:18:36.102 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594138713746  
2020-07-07 19:18:36.103 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:18:36.103 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:18:36.104 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-07 19:18:36.104 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-07 19:18:36.106 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:18:36.106 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:18:36.106 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:18:36.107 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:18:36.107 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:18:36.109 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:18:36.116 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:18:36.119 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:18:36.122 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:18:36.122 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:18:36.152 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:18:36.158 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 51.8478ms
2020-07-07 19:18:36.158 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:18:36.159 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 54.2737ms 200 image/jpeg
2020-07-07 19:18:36.166 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:18:36.168 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:18:36.177 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 70.2015ms
2020-07-07 19:18:36.177 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:18:36.177 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 72.6569ms 200 image/jpeg
2020-07-07 19:18:36.189 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:18:36.190 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:18:36.201 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 11.4952ms.
2020-07-07 19:18:36.202 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 85.6076ms
2020-07-07 19:18:36.202 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:18:36.202 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 99.2956ms 200 text/html; charset=utf-8
2020-07-07 19:18:36.480 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:18:36.480 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 386.0145ms
2020-07-07 19:18:36.480 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:18:36.480 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 391.1006ms 200 image/jpeg
2020-07-07 19:20:13.591 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:20:13.839 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 19:20:13.883 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 19:20:13.902 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 19:20:14.066 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 19:20:14.200 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:20:14.203 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:20:14.238 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 19:20:14.238 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 19:20:14.238 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 19:20:14.257 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 19:20:14.270 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:20:14.269 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 19:20:14.272 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:20:14.287 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:20:14,1
2020-07-07 19:20:14.311 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:20:14.332 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:20:14.344 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:20:14.347 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:20:14.368 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:20:14.373 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:20:14.421 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:20:14.421 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (120ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:20:14.424 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:20:14,2
2020-07-07 19:20:14.430 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:20:14.436 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:20:14.440 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:20:14.466 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 19:20:14.605 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 143.9797ms.
2020-07-07 19:20:14.607 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 238.9596ms
2020-07-07 19:20:14.608 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:20:14.616 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 359.7018ms 200 text/html; charset=utf-8
2020-07-07 19:20:14.714 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 19:20:14.723 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.0137ms 404 
2020-07-07 19:20:14.739 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 19:20:14.755 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 15.9921ms 404 
2020-07-07 19:20:14.784 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594138814677  
2020-07-07 19:20:14.786 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:20:14.786 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:20:14.807 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:20:14.815 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 19:20:14.826 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 19:20:14.827 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.3787ms 200 image/x-icon
2020-07-07 19:20:14.831 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:20:14.832 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:20:14.835 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 19:20:14.921 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 86.3728ms.
2020-07-07 19:20:14.921 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 114.2119ms
2020-07-07 19:20:14.921 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:20:14.921 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 137.0418ms 200 text/html; charset=utf-8
2020-07-07 19:20:16.360 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594138814678  
2020-07-07 19:20:16.365 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:20:16.365 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:20:16.369 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:20:16.372 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:20:16.443 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:20:16.486 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:20:16.523 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 38.0203ms.
2020-07-07 19:20:16.524 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 154.739ms
2020-07-07 19:20:16.524 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:20:16.524 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 163.8091ms 200 text/html; charset=utf-8
2020-07-07 19:20:16.531 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-07 19:20:16.531 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-07 19:20:16.531 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-07 19:20:16.532 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:20:16.532 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:20:16.532 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:20:16.536 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:20:16.536 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:20:16.536 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:20:16.542 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:20:16.542 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:20:16.542 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:20:16.547 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594138814679  
2020-07-07 19:20:16.547 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:20:16.547 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:20:16.552 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:20:16.559 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:20:16.561 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:20:16.561 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:20:16.588 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:20:16.591 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:20:16.592 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 55.6792ms
2020-07-07 19:20:16.592 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:20:16.592 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 61.0565ms 200 image/jpeg
2020-07-07 19:20:16.601 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:20:16.603 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 66.3888ms
2020-07-07 19:20:16.603 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:20:16.603 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 71.8484ms 200 image/jpeg
2020-07-07 19:20:16.621 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:20:16.622 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:20:16.635 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 13.58ms.
2020-07-07 19:20:16.635 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 82.9676ms
2020-07-07 19:20:16.636 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:20:16.636 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 89.109ms 200 text/html; charset=utf-8
2020-07-07 19:20:17.049 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:20:17.049 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 513.0657ms
2020-07-07 19:20:17.049 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:20:17.049 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 517.9689ms 200 image/jpeg
2020-07-07 19:21:24.758 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:21:25.125 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 19:21:25.167 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (29ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 19:21:25.189 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 19:21:25.371 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 19:21:25.509 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:21:25.511 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:21:25.543 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 19:21:25.543 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 19:21:25.543 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 19:21:25.563 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 19:21:25.576 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 19:21:25.580 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:21:25.583 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:21:25.599 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:21:25,1
2020-07-07 19:21:25.626 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:21:25.646 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:21:25.647 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:21:25.648 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:21:25.676 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:21:25.681 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:21:25.729 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:21:25.745 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (133ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:21:25.748 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:21:25,2
2020-07-07 19:21:25.753 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:21:25.759 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:21:25.766 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 19:21:25.767 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:21:25.913 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 146.2045ms.
2020-07-07 19:21:25.916 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 238.9131ms
2020-07-07 19:21:25.919 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:21:25.929 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 367.5219ms 200 text/html; charset=utf-8
2020-07-07 19:21:25.974 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/site.css  
2020-07-07 19:21:25.991 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/site.css was not modified
2020-07-07 19:21:25.997 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 23.223ms 304 text/css
2020-07-07 19:21:26.125 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 19:21:26.137 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.8032ms 404 
2020-07-07 19:21:26.160 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 19:21:26.180 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 19.7042ms 404 
2020-07-07 19:21:26.212 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594138886076  
2020-07-07 19:21:26.214 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:21:26.215 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:21:26.236 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:21:26.248 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 19:21:26.259 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 19:21:26.260 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 11.7622ms 200 image/x-icon
2020-07-07 19:21:26.264 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:21:26.265 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:21:26.269 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 19:21:26.352 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 84.9249ms.
2020-07-07 19:21:26.352 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 116.1835ms
2020-07-07 19:21:26.352 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:21:26.353 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 140.7451ms 200 text/html; charset=utf-8
2020-07-07 19:21:27.765 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594138886077  
2020-07-07 19:21:27.770 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:21:27.770 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:21:27.775 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:21:27.777 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:21:27.848 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:21:27.892 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:21:27.931 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 39.6183ms.
2020-07-07 19:21:27.932 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 156.9932ms
2020-07-07 19:21:27.932 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:21:27.932 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 167.4234ms 200 text/html; charset=utf-8
2020-07-07 19:21:27.939 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-07 19:21:27.939 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-07 19:21:27.940 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:21:27.940 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-07 19:21:27.940 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:21:27.940 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:21:27.944 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:21:27.945 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:21:27.945 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:21:27.952 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:21:27.952 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:21:27.952 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:21:27.957 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594138886078  
2020-07-07 19:21:27.958 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:21:27.958 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:21:27.968 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:21:27.972 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:21:27.973 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:21:27.973 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:21:28.004 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:21:28.007 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 61.6411ms
2020-07-07 19:21:28.007 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:21:28.008 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 69.0677ms 200 image/jpeg
2020-07-07 19:21:28.010 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:21:28.018 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 73.4266ms
2020-07-07 19:21:28.018 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:21:28.018 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 79.1954ms 200 image/jpeg
2020-07-07 19:21:28.020 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:21:28.043 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:21:28.046 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:21:28.059 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 14.2008ms.
2020-07-07 19:21:28.059 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 90.8372ms
2020-07-07 19:21:28.059 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:21:28.059 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 102.3693ms 200 text/html; charset=utf-8
2020-07-07 19:21:28.465 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:21:28.466 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 520.9068ms
2020-07-07 19:21:28.466 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:21:28.467 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 526.8755ms 200 image/jpeg
2020-07-07 19:22:25.387 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:22:25.667 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 19:22:25.705 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 19:22:25.723 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 19:22:25.889 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 19:22:26.024 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:22:26.027 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:22:26.073 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 19:22:26.073 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 19:22:26.073 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 19:22:26.097 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 19:22:26.119 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:22:26.120 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:22:26.119 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 19:22:26.143 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:22:26,1
2020-07-07 19:22:26.181 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:22:26.222 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:22:26.262 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:22:26.266 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:22:26.305 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:22:26.318 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:22:26.374 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (208ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:22:26.378 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:22:26,2
2020-07-07 19:22:26.378 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:22:26.386 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:22:26.390 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:22:26.403 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:22:26.427 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 19:22:26.624 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 198.7654ms.
2020-07-07 19:22:26.627 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 321.0108ms
2020-07-07 19:22:26.628 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:22:26.638 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 542.3668ms 200 text/html; charset=utf-8
2020-07-07 19:22:26.803 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 19:22:26.818 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14.8893ms 404 
2020-07-07 19:22:26.840 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 19:22:26.866 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 25.9947ms 404 
2020-07-07 19:22:26.901 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594138946744  
2020-07-07 19:22:26.903 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:22:26.905 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:22:26.933 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:22:26.942 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 19:22:26.962 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:22:26.963 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 19:22:26.964 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 21.7447ms 200 image/x-icon
2020-07-07 19:22:26.965 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:22:26.969 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 19:22:27.074 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 105.5766ms.
2020-07-07 19:22:27.074 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 140.8704ms
2020-07-07 19:22:27.074 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:22:27.074 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 172.6015ms 200 text/html; charset=utf-8
2020-07-07 19:22:28.572 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594138946745  
2020-07-07 19:22:28.580 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:22:28.580 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:22:28.588 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:22:28.592 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:22:28.710 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:22:28.778 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:22:28.834 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 56.6198ms.
2020-07-07 19:22:28.834 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 246.7308ms
2020-07-07 19:22:28.834 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:22:28.835 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 262.5588ms 200 text/html; charset=utf-8
2020-07-07 19:22:28.842 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-07 19:22:28.842 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-07 19:22:28.843 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-07 19:22:28.843 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:22:28.843 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:22:28.844 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:22:28.850 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:22:28.851 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:22:28.851 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:22:28.860 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:22:28.860 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:22:28.860 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:22:28.867 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594138946746  
2020-07-07 19:22:28.868 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:22:28.868 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:22:28.875 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:22:28.883 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:22:28.883 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:22:28.883 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:22:28.903 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:22:28.906 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 55.2587ms
2020-07-07 19:22:28.906 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:22:28.906 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 63.5896ms 200 image/jpeg
2020-07-07 19:22:28.934 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:22:28.937 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:22:28.947 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 95.9592ms
2020-07-07 19:22:28.947 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:22:28.949 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 106.5352ms 200 image/jpeg
2020-07-07 19:22:28.968 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:22:28.970 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:22:28.989 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 20.1224ms.
2020-07-07 19:22:28.990 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 114.8124ms
2020-07-07 19:22:28.990 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:22:28.990 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 122.728ms 200 text/html; charset=utf-8
2020-07-07 19:22:29.423 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:22:29.424 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 572.8121ms
2020-07-07 19:22:29.424 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:22:29.425 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 581.5805ms 200 image/jpeg
2020-07-07 19:23:40.404 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 19:23:40.413 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:23:40.413 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:23:40.414 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:23:40.415 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:23:40.419 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:23:40.420 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 19:23:40.426 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 6.4251ms.
2020-07-07 19:23:40.426 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 12.4524ms
2020-07-07 19:23:40.426 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:23:40.427 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 22.7569ms 200 text/html; charset=utf-8
2020-07-07 19:23:40.535 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 19:23:40.537 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.9557ms 404 
2020-07-07 19:23:40.556 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 19:23:40.557 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.2959ms 404 
2020-07-07 19:23:40.588 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594139020501  
2020-07-07 19:23:40.591 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:23:40.591 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:23:40.591 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:23:40.593 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:23:40.594 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:23:40.594 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 19:23:40.600 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 5.555ms.
2020-07-07 19:23:40.600 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 8.784ms
2020-07-07 19:23:40.600 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:23:40.600 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.3823ms 200 text/html; charset=utf-8
2020-07-07 19:23:40.616 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 19:23:40.618 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 19:23:40.618 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 2.1895ms 200 image/x-icon
2020-07-07 19:23:41.769 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594139020502  
2020-07-07 19:23:41.770 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:23:41.771 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:23:41.771 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:23:41.774 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:23:41.785 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:23:41.787 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:23:41.794 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 7.0112ms.
2020-07-07 19:23:41.794 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 22.6028ms
2020-07-07 19:23:41.794 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:23:41.795 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 26.0899ms 200 text/html; charset=utf-8
2020-07-07 19:23:41.801 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-07 19:23:41.801 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-07 19:23:41.801 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-07 19:23:41.804 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:23:41.804 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:23:41.804 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:23:41.804 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:23:41.804 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:23:41.804 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:23:41.806 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:23:41.806 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:23:41.806 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:23:41.812 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:23:41.812 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:23:41.812 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:23:41.813 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 8.8127ms
2020-07-07 19:23:41.813 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:23:41.813 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.4009ms 200 image/jpeg
2020-07-07 19:23:41.828 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594139020503  
2020-07-07 19:23:41.830 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:23:41.830 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:23:41.830 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:23:41.831 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:23:41.840 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:23:41.846 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:23:41.847 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:23:41.850 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.7917ms.
2020-07-07 19:23:41.850 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 19.4174ms
2020-07-07 19:23:41.850 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:23:41.850 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 21.9163ms 200 text/html; charset=utf-8
2020-07-07 19:23:41.860 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:23:41.860 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 55.9385ms
2020-07-07 19:23:41.860 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:23:41.860 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 59.5345ms 200 image/jpeg
2020-07-07 19:23:41.865 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:23:41.868 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 64.4296ms
2020-07-07 19:23:41.869 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:23:41.869 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 68.0631ms 200 image/jpeg
2020-07-07 19:23:55.212 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 19:23:55.222 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 8.5517ms 404 
2020-07-07 19:23:55.229 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 19:23:55.233 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 3.2029ms 404 
2020-07-07 19:23:58.694 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 19:23:58.697 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:23:58.697 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:23:58.697 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:23:58.700 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:23:58.703 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:23:58.704 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 19:23:58.707 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 2.7865ms.
2020-07-07 19:23:58.707 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 9.6814ms
2020-07-07 19:23:58.707 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:23:58.707 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 13.5083ms 200 text/html; charset=utf-8
2020-07-07 19:23:58.735 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/site.css  
2020-07-07 19:23:58.737 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/site.css was not modified
2020-07-07 19:23:58.737 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 2.508ms 304 text/css
2020-07-07 19:23:58.809 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 19:23:58.810 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.8562ms 404 
2020-07-07 19:23:58.827 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 19:23:58.828 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.9183ms 404 
2020-07-07 19:23:58.860 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594139038776  
2020-07-07 19:23:58.861 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:23:58.861 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:23:58.861 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:23:58.862 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:23:58.863 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:23:58.863 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 19:23:58.872 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 8.3276ms.
2020-07-07 19:23:58.872 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 10.5213ms
2020-07-07 19:23:58.872 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:23:58.872 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 11.4394ms 200 text/html; charset=utf-8
2020-07-07 19:24:00.428 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594139038777  
2020-07-07 19:24:00.434 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:24:00.435 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:24:00.436 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:24:00.440 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:24:00.448 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:24:00.452 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:24:00.460 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 7.9198ms.
2020-07-07 19:24:00.460 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 23.9826ms
2020-07-07 19:24:00.460 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:24:00.460 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 32.7057ms 200 text/html; charset=utf-8
2020-07-07 19:24:00.478 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594139038778  
2020-07-07 19:24:00.479 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-07 19:24:00.479 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-07 19:24:00.480 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:24:00.480 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:24:00.480 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:24:00.480 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:24:00.480 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:24:00.480 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:24:00.480 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:24:00.480 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-07 19:24:00.481 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:24:00.481 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:24:00.481 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:24:00.481 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:24:00.482 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:24:00.482 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:24:00.486 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:24:00.486 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:24:00.487 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:24:00.489 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 8.4268ms
2020-07-07 19:24:00.489 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:24:00.489 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.1762ms 200 image/jpeg
2020-07-07 19:24:00.489 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:24:00.491 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:24:00.492 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:24:00.496 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 4.6333ms.
2020-07-07 19:24:00.496 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 16.12ms
2020-07-07 19:24:00.496 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:24:00.496 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 18.3355ms 200 text/html; charset=utf-8
2020-07-07 19:24:00.525 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:24:00.527 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 46.7111ms
2020-07-07 19:24:00.527 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:24:00.527 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 47.6826ms 200 image/jpeg
2020-07-07 19:24:00.544 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:24:00.545 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 63.5279ms
2020-07-07 19:24:00.545 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:24:00.545 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 64.0941ms 200 image/jpeg
2020-07-07 19:24:09.962 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 19:24:09.966 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 3.5567ms 404 
2020-07-07 19:24:09.979 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 19:24:09.982 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 3.4842ms 404 
2020-07-07 19:24:12.665 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 19:24:12.669 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:24:12.669 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:24:12.669 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:24:12.671 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:24:12.675 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:24:12.677 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 19:24:12.686 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 9.2444ms.
2020-07-07 19:24:12.686 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 16.2772ms
2020-07-07 19:24:12.686 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:24:12.686 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 21.1698ms 200 text/html; charset=utf-8
2020-07-07 19:24:12.792 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 19:24:12.798 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 5.012ms 404 
2020-07-07 19:24:12.814 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 19:24:12.816 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 2.0709ms 404 
2020-07-07 19:24:12.846 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594139052759  
2020-07-07 19:24:12.848 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:24:12.848 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:24:12.849 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:24:12.850 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:24:12.853 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:24:12.855 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 19:24:12.868 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 13.5546ms.
2020-07-07 19:24:12.869 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 19.9827ms
2020-07-07 19:24:12.869 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:24:12.869 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 23.0368ms 200 text/html; charset=utf-8
2020-07-07 19:24:14.180 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594139052760  
2020-07-07 19:24:14.182 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:24:14.182 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:24:14.182 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:24:14.183 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:24:14.191 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:24:14.198 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:24:14.202 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 5.0149ms.
2020-07-07 19:24:14.202 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 20.4769ms
2020-07-07 19:24:14.203 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:24:14.203 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 22.4271ms 200 text/html; charset=utf-8
2020-07-07 19:24:14.222 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594139052761  
2020-07-07 19:24:14.223 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-07 19:24:14.223 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:24:14.223 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:24:14.224 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:24:14.224 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-07 19:24:14.224 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:24:14.224 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:24:14.224 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-07 19:24:14.224 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:24:14.224 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:24:14.224 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:24:14.224 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:24:14.225 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:24:14.225 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:24:14.225 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:24:14.225 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:24:14.232 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:24:14.232 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:24:14.232 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:24:14.233 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:24:14.233 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 9.5886ms
2020-07-07 19:24:14.233 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:24:14.233 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.5325ms 200 image/jpeg
2020-07-07 19:24:14.238 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:24:14.239 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:24:14.241 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 1.6669ms.
2020-07-07 19:24:14.241 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 16.9377ms
2020-07-07 19:24:14.241 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:24:14.241 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 18.753ms 200 text/html; charset=utf-8
2020-07-07 19:24:14.253 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:24:14.254 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 29.9105ms
2020-07-07 19:24:14.254 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:24:14.254 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 30.4752ms 200 image/jpeg
2020-07-07 19:24:14.270 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:24:14.270 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 46.0855ms
2020-07-07 19:24:14.270 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:24:14.270 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 46.524ms 200 image/jpeg
2020-07-07 19:25:26.234 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:25:26.237 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:25:26.240 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:25:26.241 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:25:26.244 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:25:26.244 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:25:26.246 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:25:26,1
2020-07-07 19:25:26.250 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:25:26.251 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:25:26.301 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (45ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:25:26.301 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:25:26,2
2020-07-07 19:25:26.305 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:26:54.414 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:26:54.658 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 19:26:54.700 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 19:26:54.720 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 19:26:54.881 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 19:26:55.010 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:26:55.013 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:26:55.041 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 19:26:55.041 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 19:26:55.041 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 19:26:55.056 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 19:26:55.068 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 19:26:55.075 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:26:55.076 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:26:55.090 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:26:55,1
2020-07-07 19:26:55.115 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:26:55.129 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:26:55.134 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:26:55.136 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:26:55.161 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:26:55.165 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:26:55.206 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:26:55.213 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (113ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:26:55.216 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:26:55,2
2020-07-07 19:26:55.219 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:26:55.228 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:26:55.235 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:26:55.240 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 19:26:55.378 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 140.0973ms.
2020-07-07 19:26:55.380 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 218.6974ms
2020-07-07 19:26:55.381 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:26:55.388 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 332.7988ms 200 text/html; charset=utf-8
2020-07-07 19:26:55.420 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/site.css  
2020-07-07 19:26:55.433 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/site.css was not modified
2020-07-07 19:26:55.435 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14.666ms 304 text/css
2020-07-07 19:26:55.526 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 19:26:55.533 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 6.9558ms 404 
2020-07-07 19:26:55.544 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 19:26:55.558 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 13.7872ms 404 
2020-07-07 19:26:55.577 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594139215484  
2020-07-07 19:26:55.579 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:26:55.580 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:26:55.596 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:26:55.603 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 19:26:55.614 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:26:55.615 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:26:55.614 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 19:26:55.615 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.5102ms 200 image/x-icon
2020-07-07 19:26:55.618 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 19:26:55.678 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 61.2141ms.
2020-07-07 19:26:55.678 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 82.7559ms
2020-07-07 19:26:55.678 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:26:55.678 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 101.1425ms 200 text/html; charset=utf-8
2020-07-07 19:26:57.010 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594139215485  
2020-07-07 19:26:57.015 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:26:57.015 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:26:57.019 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:26:57.022 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:26:57.092 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:26:57.133 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:26:57.184 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 51.2827ms.
2020-07-07 19:26:57.184 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 164.9025ms
2020-07-07 19:26:57.184 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:26:57.184 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 174.0423ms 200 text/html; charset=utf-8
2020-07-07 19:26:57.190 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-07 19:26:57.190 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-07 19:26:57.191 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-07 19:26:57.191 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:26:57.191 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:26:57.191 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:26:57.195 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:26:57.195 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:26:57.195 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:26:57.200 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594139215486  
2020-07-07 19:26:57.200 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:26:57.200 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:26:57.203 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:26:57.203 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:26:57.203 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:26:57.209 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:26:57.213 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:26:57.219 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:26:57.219 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:26:57.243 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:26:57.246 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 50.2278ms
2020-07-07 19:26:57.246 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:26:57.246 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 55.3786ms 200 image/jpeg
2020-07-07 19:26:57.247 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:26:57.249 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:26:57.259 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 63.7487ms
2020-07-07 19:26:57.259 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:26:57.259 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 68.8769ms 200 image/jpeg
2020-07-07 19:26:57.268 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:26:57.270 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:26:57.284 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 13.9857ms.
2020-07-07 19:26:57.284 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 74.386ms
2020-07-07 19:26:57.284 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:26:57.284 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 84.0054ms 200 text/html; charset=utf-8
2020-07-07 19:26:57.627 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:26:57.627 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 432.146ms
2020-07-07 19:26:57.627 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:26:57.628 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 437.3284ms 200 image/jpeg
2020-07-07 19:30:55.140 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:30:55.143 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:30:55.145 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:30:55.146 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:30:55.148 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:30:55.148 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:30:55.149 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:30:55,1
2020-07-07 19:30:55.154 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:30:55.155 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:30:55.237 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (80ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:30:55.238 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:30:55,2
2020-07-07 19:30:55.241 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:31:53.880 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:31:54.215 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 19:31:54.258 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (32ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 19:31:54.279 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 19:31:54.462 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 19:31:54.654 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:31:54.657 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:31:54.708 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 19:31:54.708 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 19:31:54.708 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 19:31:54.727 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 19:31:54.735 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:31:54.739 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:31:54.744 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 19:31:54.762 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:31:54,1
2020-07-07 19:31:54.790 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:31:54.813 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:31:54.820 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:31:54.902 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address1], [a].[Address2], [a].[City], [a].[CompanyId], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MenuType], [a].[NameSurname], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[ZipCode]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2020-07-07 19:31:54.929 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (150ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:31:54.933 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:31:54,2
2020-07-07 19:31:54.938 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:31:54.942 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:31:54.949 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:31:55.001 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2020-07-07 19:31:55.048 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2020-07-07 19:31:55.059 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2020-07-07 19:31:55.081 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2020-07-07 19:31:55.095 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:31:55.097 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:31:55.130 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:31:55.146 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:31:55.186 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 19:31:55.336 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 152.5508ms.
2020-07-07 19:31:55.339 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 208.637ms
2020-07-07 19:31:55.340 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:31:55.351 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 624.3761ms 200 text/html; charset=utf-8
2020-07-07 19:31:55.370 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/site.css  
2020-07-07 19:31:55.378 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/site.css was not modified
2020-07-07 19:31:55.381 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.8658ms 304 text/css
2020-07-07 19:31:55.471 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 19:31:55.482 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 11.434ms 404 
2020-07-07 19:31:55.499 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 19:31:55.516 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 17.2006ms 404 
2020-07-07 19:31:55.544 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594139515429  
2020-07-07 19:31:55.546 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:31:55.547 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:31:55.567 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:31:55.578 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 19:31:55.585 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 19:31:55.586 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 7.9601ms 200 image/x-icon
2020-07-07 19:31:55.593 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:31:55.594 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:31:55.596 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 19:31:55.709 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 112.8002ms.
2020-07-07 19:31:55.709 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 142.0901ms
2020-07-07 19:31:55.709 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:31:55.712 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 167.3045ms 200 text/html; charset=utf-8
2020-07-07 19:31:56.793 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594139515430  
2020-07-07 19:31:56.805 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:31:56.806 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:31:56.814 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:31:56.820 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:31:56.898 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:31:56.941 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:31:56.985 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 44.7491ms.
2020-07-07 19:31:56.985 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 170.8269ms
2020-07-07 19:31:56.985 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:31:56.986 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 193.0352ms 200 text/html; charset=utf-8
2020-07-07 19:31:56.993 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-07 19:31:56.993 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-07 19:31:56.993 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:31:56.993 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:31:56.994 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-07 19:31:56.996 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:31:56.998 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:31:57.000 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:31:57.001 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:31:57.005 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594139515431  
2020-07-07 19:31:57.006 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:31:57.006 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:31:57.007 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:31:57.007 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:31:57.007 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:31:57.014 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:31:57.030 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:31:57.030 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:31:57.031 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:31:57.047 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:31:57.048 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:31:57.049 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 51.0763ms
2020-07-07 19:31:57.049 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:31:57.049 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 56.7667ms 200 image/jpeg
2020-07-07 19:31:57.063 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:31:57.074 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:31:57.075 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 73.6371ms
2020-07-07 19:31:57.075 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:31:57.075 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 82.1992ms 200 image/jpeg
2020-07-07 19:31:57.076 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:31:57.091 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 15.5809ms.
2020-07-07 19:31:57.091 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 77.7134ms
2020-07-07 19:31:57.091 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:31:57.091 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 86.2648ms 200 text/html; charset=utf-8
2020-07-07 19:31:57.525 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:31:57.526 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 526.0719ms
2020-07-07 19:31:57.527 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:31:57.527 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 533.214ms 200 image/jpeg
2020-07-07 19:32:03.210 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594139515432  
2020-07-07 19:32:03.215 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:32:03.215 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:32:03.217 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:32:03.222 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:32:03.226 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:32:03.228 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:32:03.234 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 6.2815ms.
2020-07-07 19:32:03.234 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 17.2635ms
2020-07-07 19:32:03.234 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:32:03.234 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 25.0443ms 200 text/html; charset=utf-8
2020-07-07 19:32:03.246 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594139515433  
2020-07-07 19:32:03.248 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:32:03.248 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:32:03.248 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:32:03.249 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:32:03.250 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:32:03.255 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:32:03.256 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:32:03.258 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.3701ms.
2020-07-07 19:32:03.258 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 9.868ms
2020-07-07 19:32:03.258 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:32:03.258 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 11.8984ms 200 text/html; charset=utf-8
2020-07-07 19:33:09.315 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:33:09.584 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 19:33:09.630 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 19:33:09.653 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 19:33:09.823 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 19:33:09.953 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:33:09.955 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:33:09.985 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 19:33:09.985 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 19:33:09.985 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 19:33:09.999 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 19:33:10.011 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 19:33:10.014 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:33:10.017 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:33:10.028 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:33:10,1
2020-07-07 19:33:10.051 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:33:10.065 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:33:10.068 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:33:10.069 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:33:10.092 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:33:10.097 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:33:10.134 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:33:10.144 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (105ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:33:10.147 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:33:10,2
2020-07-07 19:33:10.150 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:33:10.156 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:33:10.162 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:33:10.166 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 19:33:10.286 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 122.1778ms.
2020-07-07 19:33:10.288 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 195.8619ms
2020-07-07 19:33:10.289 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:33:10.295 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 296.4732ms 200 text/html; charset=utf-8
2020-07-07 19:33:10.414 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 19:33:10.423 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 8.9033ms 404 
2020-07-07 19:33:10.440 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 19:33:10.459 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 18.8307ms 404 
2020-07-07 19:33:10.492 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594139590371  
2020-07-07 19:33:10.493 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:33:10.494 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:33:10.519 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 19:33:10.522 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:33:10.539 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 19:33:10.540 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 21.3666ms 200 image/x-icon
2020-07-07 19:33:10.547 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:33:10.549 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:33:10.552 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 19:33:10.671 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 119.4306ms.
2020-07-07 19:33:10.671 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 148.6333ms
2020-07-07 19:33:10.671 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:33:10.671 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 179.5127ms 200 text/html; charset=utf-8
2020-07-07 19:33:12.094 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594139590372  
2020-07-07 19:33:12.101 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:33:12.101 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:33:12.108 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:33:12.112 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:33:12.197 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:33:12.250 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:33:12.294 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 44.4128ms.
2020-07-07 19:33:12.294 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 185.2489ms
2020-07-07 19:33:12.294 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:33:12.294 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 199.7829ms 200 text/html; charset=utf-8
2020-07-07 19:33:12.301 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-07 19:33:12.301 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-07 19:33:12.302 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-07 19:33:12.302 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:33:12.302 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:33:12.304 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:33:12.307 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:33:12.307 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:33:12.309 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:33:12.313 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594139590373  
2020-07-07 19:33:12.314 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:33:12.314 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:33:12.317 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:33:12.317 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:33:12.317 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:33:12.321 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:33:12.324 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:33:12.338 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:33:12.338 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:33:12.356 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:33:12.357 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:33:12.374 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 67.0304ms
2020-07-07 19:33:12.374 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:33:12.374 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 73.1988ms 200 image/jpeg
2020-07-07 19:33:12.382 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:33:12.394 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 86.9996ms
2020-07-07 19:33:12.394 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:33:12.394 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 92.8587ms 200 image/jpeg
2020-07-07 19:33:12.403 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:33:12.406 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:33:12.421 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 15.4062ms.
2020-07-07 19:33:12.421 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 99.9882ms
2020-07-07 19:33:12.421 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:33:12.421 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 108.2899ms 200 text/html; charset=utf-8
2020-07-07 19:33:12.801 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:33:12.801 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 492.0972ms
2020-07-07 19:33:12.801 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:33:12.801 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 499.6952ms 200 image/jpeg
2020-07-07 19:33:18.626 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594139590374  
2020-07-07 19:33:18.630 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:33:18.630 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:33:18.631 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:33:18.633 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:33:18.635 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:33:18.637 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:33:18.642 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 5.8126ms.
2020-07-07 19:33:18.642 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 11.2988ms
2020-07-07 19:33:18.642 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:33:18.643 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 16.4084ms 200 text/html; charset=utf-8
2020-07-07 19:33:18.654 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594139590375  
2020-07-07 19:33:18.655 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:33:18.655 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:33:18.655 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:33:18.656 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:33:18.657 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:33:18.659 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:33:18.660 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:33:18.663 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 3.6058ms.
2020-07-07 19:33:18.663 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 7.9444ms
2020-07-07 19:33:18.663 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:33:18.663 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.836ms 200 text/html; charset=utf-8
2020-07-07 19:33:27.671 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594139590376  
2020-07-07 19:33:27.673 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:33:27.674 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:33:27.675 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:33:27.677 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:33:27.682 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:33:27.686 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:33:27.693 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 6.8316ms.
2020-07-07 19:33:27.693 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 18.0373ms
2020-07-07 19:33:27.693 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:33:27.693 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 21.5261ms 200 text/html; charset=utf-8
2020-07-07 19:33:27.705 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594139590377  
2020-07-07 19:33:27.706 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:33:27.707 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:33:27.707 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:33:27.709 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:33:27.712 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:33:27.713 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:33:27.714 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:33:27.716 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.1759ms.
2020-07-07 19:33:27.716 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 8.7173ms
2020-07-07 19:33:27.716 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:33:27.716 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 11.1405ms 200 text/html; charset=utf-8
2020-07-07 19:35:10.079 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:35:10.080 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:35:10.082 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:35:10.082 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:35:10.084 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:35:10.084 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:35:10.085 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:35:10,1
2020-07-07 19:35:10.088 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:35:10.089 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:35:10.177 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (83ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:35:10.177 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:35:10,2
2020-07-07 19:35:10.181 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:36:15.035 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:36:15.377 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 19:36:15.420 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (32ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 19:36:15.445 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 19:36:15.778 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 19:36:16.021 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:36:16.026 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:36:16.112 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 19:36:16.112 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 19:36:16.112 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 19:36:16.134 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:36:16.139 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:36:16.141 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 19:36:16.158 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 19:36:16.164 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:36:16,1
2020-07-07 19:36:16.198 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:36:16.220 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:36:16.256 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:36:16.258 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:36:16.305 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:36:16.313 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:36:16.402 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:36:16.422 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:36:16.423 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (243ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:36:16.427 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:36:16,2
2020-07-07 19:36:16.436 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:36:16.443 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:36:16.453 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 19:36:16.636 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 183.0906ms.
2020-07-07 19:36:16.639 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 334.2624ms
2020-07-07 19:36:16.640 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:36:16.649 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 509.7545ms 200 text/html; charset=utf-8
2020-07-07 19:36:16.682 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/site.css  
2020-07-07 19:36:16.691 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/site.css was not modified
2020-07-07 19:36:16.697 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 15.4566ms 304 text/css
2020-07-07 19:36:16.827 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 19:36:16.841 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 13.7035ms 404 
2020-07-07 19:36:16.870 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 19:36:16.911 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 41.1409ms 404 
2020-07-07 19:36:16.946 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594139776771  
2020-07-07 19:36:16.949 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:36:16.956 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:36:16.987 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 19:36:16.998 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:36:17.007 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 19:36:17.008 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 20.7536ms 200 image/x-icon
2020-07-07 19:36:17.025 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:36:17.026 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:36:17.029 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 19:36:17.123 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 94.4267ms.
2020-07-07 19:36:17.123 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 124.8127ms
2020-07-07 19:36:17.123 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:36:17.123 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 177.1842ms 200 text/html; charset=utf-8
2020-07-07 19:36:18.238 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594139776772  
2020-07-07 19:36:18.247 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:36:18.248 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:36:18.257 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:36:18.261 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:36:18.343 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:36:18.390 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:36:18.428 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 38.7569ms.
2020-07-07 19:36:18.428 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 171.5222ms
2020-07-07 19:36:18.428 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:36:18.428 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 190.5651ms 200 text/html; charset=utf-8
2020-07-07 19:36:18.436 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-07 19:36:18.436 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-07 19:36:18.436 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-07 19:36:18.437 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:36:18.437 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:36:18.437 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:36:18.442 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:36:18.442 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:36:18.442 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:36:18.447 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594139776773  
2020-07-07 19:36:18.448 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:36:18.448 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:36:18.449 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:36:18.449 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:36:18.449 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:36:18.457 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:36:18.461 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:36:18.467 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:36:18.467 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:36:18.485 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:36:18.489 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 46.8333ms
2020-07-07 19:36:18.489 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:36:18.489 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 53.1713ms 200 image/jpeg
2020-07-07 19:36:18.506 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (12ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:36:18.509 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:36:18.522 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 80.2321ms
2020-07-07 19:36:18.522 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:36:18.522 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 86.3509ms 200 image/jpeg
2020-07-07 19:36:18.534 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:36:18.537 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:36:18.553 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 16.8203ms.
2020-07-07 19:36:18.553 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 95.8135ms
2020-07-07 19:36:18.553 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:36:18.553 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 105.8008ms 200 text/html; charset=utf-8
2020-07-07 19:36:19.026 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:36:19.028 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 585.6118ms
2020-07-07 19:36:19.028 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:36:19.028 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 592.3003ms 200 image/jpeg
2020-07-07 19:36:30.040 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594139776774  
2020-07-07 19:36:30.043 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:36:30.043 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:36:30.044 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:36:30.046 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:36:30.049 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:36:30.051 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:36:30.058 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 7.3753ms.
2020-07-07 19:36:30.058 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 14.4085ms
2020-07-07 19:36:30.058 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:36:30.059 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 18.9015ms 200 text/html; charset=utf-8
2020-07-07 19:36:30.069 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594139776775  
2020-07-07 19:36:30.070 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:36:30.071 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:36:30.071 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:36:30.071 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:36:30.072 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:36:30.075 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:36:30.076 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:36:30.078 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.1022ms.
2020-07-07 19:36:30.078 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 7.0477ms
2020-07-07 19:36:30.078 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:36:30.078 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 8.637ms 200 text/html; charset=utf-8
2020-07-07 19:36:50.194 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594139776776  
2020-07-07 19:36:50.197 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:36:50.197 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:36:50.198 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:36:50.200 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:36:50.204 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:36:50.208 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:36:50.213 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 4.9639ms.
2020-07-07 19:36:50.213 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 15.3312ms
2020-07-07 19:36:50.213 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:36:50.213 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 19.1488ms 200 text/html; charset=utf-8
2020-07-07 19:36:50.226 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594139776777  
2020-07-07 19:36:50.227 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:36:50.228 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:36:50.228 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:36:50.229 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:36:50.231 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:36:50.234 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:36:50.234 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:36:50.236 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 1.8106ms.
2020-07-07 19:36:50.236 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 8.194ms
2020-07-07 19:36:50.236 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:36:50.236 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.6086ms 200 text/html; charset=utf-8
2020-07-07 19:37:02.581 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594139776778  
2020-07-07 19:37:02.582 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:37:02.582 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:37:02.582 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:37:02.584 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:37:02.589 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:37:02.594 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:37:02.598 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 4.0521ms.
2020-07-07 19:37:02.598 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 15.5605ms
2020-07-07 19:37:02.598 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:37:02.598 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 17.8306ms 200 text/html; charset=utf-8
2020-07-07 19:37:02.611 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594139776779  
2020-07-07 19:37:02.613 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:37:02.613 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:37:02.613 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:37:02.614 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:37:02.616 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:37:02.617 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:37:02.618 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:37:02.622 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 3.3252ms.
2020-07-07 19:37:02.622 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 8.6186ms
2020-07-07 19:37:02.622 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:37:02.622 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 11.3894ms 200 text/html; charset=utf-8
2020-07-07 19:37:04.812 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594139776780  
2020-07-07 19:37:04.813 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:37:04.814 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:37:04.814 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:37:04.815 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:37:04.819 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:37:04.821 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:37:04.826 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 4.9592ms.
2020-07-07 19:37:04.826 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 12.102ms
2020-07-07 19:37:04.826 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:37:04.826 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14.8386ms 200 text/html; charset=utf-8
2020-07-07 19:37:04.837 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594139776781  
2020-07-07 19:37:04.838 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:37:04.838 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:37:04.838 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:37:04.839 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:37:04.840 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:37:04.841 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:37:04.842 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:37:04.844 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.0052ms.
2020-07-07 19:37:04.844 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 5.7652ms
2020-07-07 19:37:04.844 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:37:04.844 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 6.8968ms 200 text/html; charset=utf-8
2020-07-07 19:37:09.304 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594139776782  
2020-07-07 19:37:09.306 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:37:09.307 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:37:09.307 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:37:09.310 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:37:09.313 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:37:09.320 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:37:09.328 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 8.2269ms.
2020-07-07 19:37:09.328 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 20.557ms
2020-07-07 19:37:09.328 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:37:09.328 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 24.286ms 200 text/html; charset=utf-8
2020-07-07 19:37:09.342 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594139776783  
2020-07-07 19:37:09.343 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:37:09.344 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:37:09.344 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:37:09.346 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:37:09.348 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:37:09.353 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:37:09.354 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:37:09.358 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 3.9217ms.
2020-07-07 19:37:09.358 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 14.2428ms
2020-07-07 19:37:09.358 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:37:09.359 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 17.5052ms 200 text/html; charset=utf-8
2020-07-07 19:37:52.581 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:37:52.873 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 19:37:52.911 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 19:37:52.933 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 19:37:53.140 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 19:37:53.294 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:37:53.298 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:37:53.344 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 19:37:53.344 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 19:37:53.344 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 19:37:53.365 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 19:37:53.376 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:37:53.380 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:37:53.380 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 19:37:53.399 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:37:53,1
2020-07-07 19:37:53.429 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:37:53.462 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:37:53.477 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:37:53.479 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:37:53.522 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:37:53.528 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:37:53.605 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:37:53.612 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (199ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:37:53.616 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:37:53,2
2020-07-07 19:37:53.625 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:37:53.628 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:37:53.639 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:37:53.659 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 19:37:53.823 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 166.9642ms.
2020-07-07 19:37:53.826 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 303.864ms
2020-07-07 19:37:53.827 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:37:53.836 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 471.3105ms 200 text/html; charset=utf-8
2020-07-07 19:37:53.966 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 19:37:53.980 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 13.9997ms 404 
2020-07-07 19:37:53.998 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 19:37:54.022 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 23.495ms 404 
2020-07-07 19:37:54.055 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594139873922  
2020-07-07 19:37:54.057 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:37:54.058 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:37:54.081 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 19:37:54.083 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:37:54.097 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 19:37:54.098 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 16.2283ms 200 image/x-icon
2020-07-07 19:37:54.115 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:37:54.116 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:37:54.121 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 19:37:54.228 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 107.913ms.
2020-07-07 19:37:54.228 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 145.1989ms
2020-07-07 19:37:54.228 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:37:54.228 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 173.0939ms 200 text/html; charset=utf-8
2020-07-07 19:37:57.507 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594139873923  
2020-07-07 19:37:57.513 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:37:57.514 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:37:57.519 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:37:57.523 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:37:57.600 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:37:57.653 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:37:57.703 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 50.0544ms.
2020-07-07 19:37:57.703 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 183.7537ms
2020-07-07 19:37:57.703 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:37:57.704 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 196.8493ms 200 text/html; charset=utf-8
2020-07-07 19:37:57.709 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-07 19:37:57.709 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-07 19:37:57.710 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:37:57.710 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:37:57.710 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-07 19:37:57.713 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:37:57.714 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:37:57.715 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:37:57.718 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:37:57.722 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594139873924  
2020-07-07 19:37:57.722 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:37:57.722 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:37:57.722 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:37:57.722 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:37:57.722 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:37:57.728 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:37:57.733 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:37:57.742 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:37:57.742 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:37:57.765 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:37:57.770 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 55.5952ms
2020-07-07 19:37:57.770 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:37:57.770 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 60.9271ms 200 image/jpeg
2020-07-07 19:37:57.784 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:37:57.790 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:37:57.798 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 83.4505ms
2020-07-07 19:37:57.798 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:37:57.798 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 88.9514ms 200 image/jpeg
2020-07-07 19:37:57.806 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:37:57.809 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:37:57.819 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 10.9139ms.
2020-07-07 19:37:57.819 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 90.8203ms
2020-07-07 19:37:57.819 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:37:57.819 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 97.3513ms 200 text/html; charset=utf-8
2020-07-07 19:37:58.143 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:37:58.144 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 426.0315ms
2020-07-07 19:37:58.144 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:37:58.144 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 434.093ms 200 image/jpeg
2020-07-07 19:38:24.739 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:38:25.060 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (29ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 19:38:25.114 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 19:38:25.141 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 19:38:25.375 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 19:38:25.573 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:38:25.577 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:38:25.630 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 19:38:25.631 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 19:38:25.631 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 19:38:25.655 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 19:38:25.669 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:38:25.674 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:38:25.674 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 19:38:25.699 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:38:25,1
2020-07-07 19:38:25.742 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:38:25.774 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:38:25.790 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:38:25.793 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:38:25.828 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:38:25.834 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:38:25.905 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:38:25.914 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (194ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:38:25.918 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:38:25,2
2020-07-07 19:38:25.934 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:38:25.949 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:38:25.962 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 19:38:26.024 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (105ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:38:26.171 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 213.4983ms.
2020-07-07 19:38:26.176 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 347.7646ms
2020-07-07 19:38:26.177 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:38:26.189 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 535.0834ms 200 text/html; charset=utf-8
2020-07-07 19:38:26.387 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 19:38:26.405 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 18.2995ms 404 
2020-07-07 19:38:26.449 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 19:38:26.476 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 27.7286ms 404 
2020-07-07 19:38:26.509 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594139906327  
2020-07-07 19:38:26.511 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:38:26.512 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:38:26.543 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:38:26.563 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 19:38:26.589 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 19:38:26.590 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 27.0872ms 200 image/x-icon
2020-07-07 19:38:26.598 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:38:26.604 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:38:26.614 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 19:38:26.767 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 154.8424ms.
2020-07-07 19:38:26.767 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 222.7294ms
2020-07-07 19:38:26.767 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:38:26.767 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 258.108ms 200 text/html; charset=utf-8
2020-07-07 19:38:28.153 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594139906328  
2020-07-07 19:38:28.159 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:38:28.159 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:38:28.165 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:38:28.168 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:38:28.264 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:38:28.317 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:38:28.379 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 62.1056ms.
2020-07-07 19:38:28.379 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 214.1712ms
2020-07-07 19:38:28.379 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:38:28.379 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 226.5117ms 200 text/html; charset=utf-8
2020-07-07 19:38:28.385 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-07 19:38:28.385 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-07 19:38:28.386 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:38:28.386 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:38:28.387 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-07 19:38:28.391 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:38:28.394 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:38:28.394 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:38:28.398 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:38:28.401 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594139906329  
2020-07-07 19:38:28.402 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:38:28.402 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:38:28.404 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:38:28.404 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:38:28.404 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:38:28.411 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:38:28.415 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:38:28.422 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:38:28.422 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:38:28.447 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:38:28.459 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 65.6061ms
2020-07-07 19:38:28.460 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:38:28.460 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 74.418ms 200 image/jpeg
2020-07-07 19:38:28.461 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:38:28.462 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:38:28.476 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 82.0392ms
2020-07-07 19:38:28.476 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:38:28.476 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 90.8571ms 200 image/jpeg
2020-07-07 19:38:28.504 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:38:28.508 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:38:28.530 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 22.9875ms.
2020-07-07 19:38:28.530 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 119.4197ms
2020-07-07 19:38:28.530 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:38:28.530 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 129.7418ms 200 text/html; charset=utf-8
2020-07-07 19:38:28.969 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:38:28.970 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 571.5732ms
2020-07-07 19:38:28.970 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:38:28.970 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 582.9425ms 200 image/jpeg
2020-07-07 19:39:43.120 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:39:43.544 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 19:39:43.598 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 19:39:43.625 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 19:39:43.896 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 19:39:44.128 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:39:44.133 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:39:44.226 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 19:39:44.226 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 19:39:44.226 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 19:39:44.241 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:39:44.245 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:39:44.254 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 19:39:44.271 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:39:44,1
2020-07-07 19:39:44.279 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 19:39:44.311 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:39:44.338 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:39:44.406 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:39:44.408 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:39:44.505 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:39:44.512 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:39:44.517 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (220ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:39:44.525 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:39:44,2
2020-07-07 19:39:44.539 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:39:44.618 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (21ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:39:44.628 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:39:44.643 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:39:44.683 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 19:39:44.945 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 257.4807ms.
2020-07-07 19:39:44.953 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 447.4953ms
2020-07-07 19:39:44.955 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:39:44.972 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 718.9442ms 200 text/html; charset=utf-8
2020-07-07 19:39:45.235 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 19:39:45.261 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 26.3257ms 404 
2020-07-07 19:39:45.305 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 19:39:45.338 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 32.9243ms 404 
2020-07-07 19:39:45.426 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594139985136  
2020-07-07 19:39:45.428 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:39:45.431 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:39:45.459 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:39:45.474 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 19:39:45.493 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:39:45.497 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:39:45.496 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 19:39:45.498 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 23.3443ms 200 image/x-icon
2020-07-07 19:39:45.502 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 19:39:45.631 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 130.0752ms.
2020-07-07 19:39:45.631 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 171.713ms
2020-07-07 19:39:45.631 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:39:45.631 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 205.6916ms 200 text/html; charset=utf-8
2020-07-07 19:39:47.135 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594139985137  
2020-07-07 19:39:47.139 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:39:47.139 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:39:47.145 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:39:47.150 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:39:47.227 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:39:47.276 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:39:47.320 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 44.8567ms.
2020-07-07 19:39:47.320 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 175.0707ms
2020-07-07 19:39:47.320 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:39:47.321 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 185.7737ms 200 text/html; charset=utf-8
2020-07-07 19:39:47.328 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-07 19:39:47.328 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-07 19:39:47.328 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-07 19:39:47.329 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:39:47.330 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:39:47.330 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:39:47.336 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:39:47.336 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:39:47.336 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:39:47.342 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594139985138  
2020-07-07 19:39:47.344 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:39:47.344 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:39:47.345 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:39:47.345 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:39:47.345 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:39:47.356 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:39:47.367 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:39:47.368 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:39:47.370 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:39:47.386 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:39:47.389 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 52.6073ms
2020-07-07 19:39:47.389 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:39:47.390 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 62.0185ms 200 image/jpeg
2020-07-07 19:39:47.417 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:39:47.424 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:39:47.429 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 93.0549ms
2020-07-07 19:39:47.429 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:39:47.429 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 101.4132ms 200 image/jpeg
2020-07-07 19:39:47.467 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:39:47.471 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:39:47.490 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 20.0605ms.
2020-07-07 19:39:47.490 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 134.103ms
2020-07-07 19:39:47.490 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:39:47.490 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 147.9104ms 200 text/html; charset=utf-8
2020-07-07 19:39:47.827 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:39:47.827 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 490.7626ms
2020-07-07 19:39:47.827 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:39:47.827 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 498.9306ms 200 image/jpeg
2020-07-07 19:40:44.328 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:40:44.334 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:40:44.336 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:40:44.337 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:40:44.338 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:40:44.338 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:40:44.340 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:40:44,1
2020-07-07 19:40:44.345 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:40:44.347 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:40:44.402 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (52ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:40:44.402 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:40:44,2
2020-07-07 19:40:44.404 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:42:06.893 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 19:42:06.897 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:42:06.897 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:42:06.898 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:42:06.902 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:42:06.907 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:42:06.908 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 19:42:06.914 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 5.2037ms.
2020-07-07 19:42:06.914 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 14.1455ms
2020-07-07 19:42:06.914 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:42:06.914 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 21.3764ms 200 text/html; charset=utf-8
2020-07-07 19:42:06.947 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/site.css  
2020-07-07 19:42:06.972 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\css\site.css'
2020-07-07 19:42:06.972 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 25.3418ms 200 text/css
2020-07-07 19:42:07.044 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 19:42:07.046 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.7643ms 404 
2020-07-07 19:42:07.068 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 19:42:07.069 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.2073ms 404 
2020-07-07 19:42:07.100 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594140127010  
2020-07-07 19:42:07.102 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:42:07.102 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:42:07.102 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:42:07.103 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:42:07.104 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:42:07.104 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 19:42:07.110 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 5.1812ms.
2020-07-07 19:42:07.110 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 7.6471ms
2020-07-07 19:42:07.110 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:42:07.110 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.4141ms 200 text/html; charset=utf-8
2020-07-07 19:42:07.134 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 19:42:07.136 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 19:42:07.136 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.7732ms 200 image/x-icon
2020-07-07 19:42:08.575 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594140127011  
2020-07-07 19:42:08.577 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:42:08.577 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:42:08.578 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:42:08.579 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:42:08.588 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:42:08.595 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:42:08.602 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 7.039ms.
2020-07-07 19:42:08.602 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 24.5676ms
2020-07-07 19:42:08.602 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:42:08.603 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 27.8959ms 200 text/html; charset=utf-8
2020-07-07 19:42:08.608 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-07 19:42:08.608 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-07 19:42:08.609 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-07 19:42:08.611 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:42:08.611 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:42:08.611 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:42:08.611 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:42:08.611 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:42:08.611 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:42:08.612 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:42:08.612 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:42:08.612 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:42:08.617 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:42:08.617 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:42:08.618 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:42:08.629 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 17.1592ms
2020-07-07 19:42:08.629 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:42:08.629 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 20.6784ms 200 image/jpeg
2020-07-07 19:42:08.630 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594140127012  
2020-07-07 19:42:08.633 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:42:08.633 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:42:08.634 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:42:08.634 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:42:08.641 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:42:08.647 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:42:08.647 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:42:08.651 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 4.0203ms.
2020-07-07 19:42:08.651 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 17.676ms
2020-07-07 19:42:08.651 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:42:08.651 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 21.6197ms 200 text/html; charset=utf-8
2020-07-07 19:42:08.652 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:42:08.656 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 44.3839ms
2020-07-07 19:42:08.656 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:42:08.656 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 47.7749ms 200 image/jpeg
2020-07-07 19:42:08.810 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:42:08.810 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 198.6557ms
2020-07-07 19:42:08.810 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:42:08.810 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 201.323ms 200 image/jpeg
2020-07-07 19:43:08.580 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 19:43:08.585 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:43:08.585 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:43:08.586 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:43:08.587 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:43:08.591 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:43:08.593 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 19:43:08.597 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 4.4911ms.
2020-07-07 19:43:08.597 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 11.6411ms
2020-07-07 19:43:08.597 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:43:08.598 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 17.8851ms 200 text/html; charset=utf-8
2020-07-07 19:43:08.641 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/site.css  
2020-07-07 19:43:08.659 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\css\site.css'
2020-07-07 19:43:08.659 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 18.1254ms 200 text/css
2020-07-07 19:43:08.723 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 19:43:08.725 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.263ms 404 
2020-07-07 19:43:08.747 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 19:43:08.748 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.2138ms 404 
2020-07-07 19:43:08.781 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594140188688  
2020-07-07 19:43:08.782 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:43:08.782 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:43:08.782 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:43:08.783 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:43:08.784 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:43:08.784 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 19:43:08.790 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 5.4744ms.
2020-07-07 19:43:08.790 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 7.8485ms
2020-07-07 19:43:08.790 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:43:08.790 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.0801ms 200 text/html; charset=utf-8
2020-07-07 19:43:08.818 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 19:43:08.819 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 19:43:08.819 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.1308ms 200 image/x-icon
2020-07-07 19:43:10.054 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594140188689  
2020-07-07 19:43:10.056 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:43:10.056 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:43:10.056 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:43:10.057 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:43:10.065 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:43:10.066 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:43:10.072 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 5.6378ms.
2020-07-07 19:43:10.072 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 15.821ms
2020-07-07 19:43:10.072 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:43:10.072 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 17.864ms 200 text/html; charset=utf-8
2020-07-07 19:43:10.079 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-07 19:43:10.080 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-07 19:43:10.080 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:43:10.080 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:43:10.080 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:43:10.080 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-07 19:43:10.080 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:43:10.081 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:43:10.081 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:43:10.081 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:43:10.081 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:43:10.082 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:43:10.085 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:43:10.085 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:43:10.086 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:43:10.086 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 5.9547ms
2020-07-07 19:43:10.086 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:43:10.086 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 6.7142ms 200 image/jpeg
2020-07-07 19:43:10.098 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594140188690  
2020-07-07 19:43:10.098 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:43:10.098 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:43:10.098 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:43:10.099 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:43:10.101 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:43:10.104 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 23.6913ms
2020-07-07 19:43:10.104 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:43:10.104 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 25.5654ms 200 image/jpeg
2020-07-07 19:43:10.105 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:43:10.109 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:43:10.109 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:43:10.114 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 4.4337ms.
2020-07-07 19:43:10.114 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 15.6046ms
2020-07-07 19:43:10.114 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:43:10.114 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 16.5269ms 200 text/html; charset=utf-8
2020-07-07 19:43:10.263 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:43:10.263 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 182.1277ms
2020-07-07 19:43:10.263 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:43:10.263 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 183.0359ms 200 image/jpeg
2020-07-07 19:45:44.368 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:45:44.370 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:45:44.372 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:45:44.373 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:45:44.375 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:45:44.376 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:45:44.377 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:45:44,1
2020-07-07 19:45:44.385 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:45:44.389 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:45:44.434 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:45:44.434 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:45:44,2
2020-07-07 19:45:44.436 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:50:44.388 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:50:44.390 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:50:44.393 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:50:44.394 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:50:44.399 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:50:44.400 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:50:44,1
2020-07-07 19:50:44.402 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:50:44.406 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:50:44.410 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:50:44.461 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (60ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:50:44.462 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:50:44,2
2020-07-07 19:50:44.466 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:56:12.018 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:56:12.429 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 19:56:12.513 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (60ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 19:56:12.545 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 19:56:12.847 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 19:56:13.096 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:56:13.102 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:56:13.183 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 19:56:13.183 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 19:56:13.183 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 19:56:13.211 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 19:56:13.220 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:56:13.227 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:56:13.256 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 19:56:13.258 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:56:13,1
2020-07-07 19:56:13.315 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:56:13.341 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:56:13.389 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:56:13.391 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:56:13.434 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:56:13.443 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:56:13.491 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (204ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:56:13.495 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:56:13,2
2020-07-07 19:56:13.509 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:56:13.517 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:56:13.536 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:56:13.552 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:56:13.577 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 19:56:13.846 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 272.8193ms.
2020-07-07 19:56:13.851 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 415.7259ms
2020-07-07 19:56:13.852 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:56:13.862 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 652.1294ms 200 text/html; charset=utf-8
2020-07-07 19:56:13.889 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/site.css  
2020-07-07 19:56:13.912 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/site.css was not modified
2020-07-07 19:56:13.917 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 27.8844ms 304 text/css
2020-07-07 19:56:14.053 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 19:56:14.064 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.4152ms 404 
2020-07-07 19:56:14.095 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 19:56:14.123 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 27.3831ms 404 
2020-07-07 19:56:14.210 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 19:56:14.226 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 19:56:14.230 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 19.2026ms 200 image/x-icon
2020-07-07 19:56:31.994 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 19:56:32.000 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 6.2541ms 404 
2020-07-07 19:56:32.002 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 19:56:32.004 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 2.4054ms 404 
2020-07-07 19:57:14.123 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:57:14.423 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 19:57:14.468 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 19:57:14.492 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 19:57:14.714 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 19:57:14.867 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:57:14.871 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:57:14.919 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 19:57:14.919 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 19:57:14.919 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 19:57:14.964 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 19:57:14.984 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 19:57:14.987 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:57:14.990 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:57:15.033 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:57:15,1
2020-07-07 19:57:15.059 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:57:15.100 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:57:15.111 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:57:15.113 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:57:15.145 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:57:15.155 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:57:15.234 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:57:15.250 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (196ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:57:15.254 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:57:15,2
2020-07-07 19:57:15.259 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:57:15.268 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:57:15.280 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:57:15.285 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 19:57:15.452 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 171.5655ms.
2020-07-07 19:57:15.454 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 308.5391ms
2020-07-07 19:57:15.455 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:57:15.465 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 502.5866ms 200 text/html; charset=utf-8
2020-07-07 19:57:15.581 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 19:57:15.590 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.5535ms 404 
2020-07-07 19:57:15.603 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 19:57:15.624 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 20.4732ms 404 
2020-07-07 19:57:15.652 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594141035522  
2020-07-07 19:57:15.653 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:57:15.654 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:57:15.680 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:57:15.686 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 19:57:15.702 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:57:15.702 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 19:57:15.703 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 16.7491ms 200 image/x-icon
2020-07-07 19:57:15.704 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:57:15.708 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 19:57:15.804 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 96.8844ms.
2020-07-07 19:57:15.804 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 124.0079ms
2020-07-07 19:57:15.806 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:57:15.806 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 154.4407ms 200 text/html; charset=utf-8
2020-07-07 19:57:21.899 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594141035523  
2020-07-07 19:57:21.906 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:57:21.906 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:57:21.913 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:57:21.917 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:57:21.997 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:57:22.049 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:57:22.093 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 45.3658ms.
2020-07-07 19:57:22.093 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 180.3679ms
2020-07-07 19:57:22.094 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:57:22.094 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 194.8673ms 200 text/html; charset=utf-8
2020-07-07 19:57:22.111 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594141035524  
2020-07-07 19:57:22.111 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-07 19:57:22.112 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:57:22.112 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:57:22.112 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:57:22.113 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-07 19:57:22.113 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-07 19:57:22.116 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:57:22.116 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:57:22.117 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:57:22.117 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:57:22.120 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:57:22.120 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:57:22.120 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:57:22.124 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:57:22.124 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:57:22.124 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:57:22.137 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:57:22.137 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:57:22.147 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:57:22.164 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:57:22.167 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 50.4079ms
2020-07-07 19:57:22.167 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:57:22.167 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 56.3113ms 200 image/jpeg
2020-07-07 19:57:22.170 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:57:22.184 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:57:22.185 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 65.2977ms
2020-07-07 19:57:22.185 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:57:22.185 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 72.2021ms 200 image/jpeg
2020-07-07 19:57:22.187 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:57:22.200 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 14.358ms.
2020-07-07 19:57:22.200 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 83.5915ms
2020-07-07 19:57:22.200 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:57:22.200 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 89.4807ms 200 text/html; charset=utf-8
2020-07-07 19:57:22.474 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:57:22.474 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 354.5195ms
2020-07-07 19:57:22.474 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:57:22.475 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 361.4634ms 200 image/jpeg
2020-07-07 19:57:23.820 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?_=1594141035525  
2020-07-07 19:57:23.828 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-07 19:57:23.837 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView() on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-07 19:57:23.840 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:57:23.877 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-07 19:57:23.928 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-07 19:57:24.053 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 125.9875ms.
2020-07-07 19:57:24.054 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 216.6512ms
2020-07-07 19:57:24.054 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-07 19:57:24.054 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 233.4975ms 200 text/html; charset=utf-8
2020-07-07 19:57:24.066 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-07 19:57:24.066 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-07 19:57:24.066 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-07 19:57:24.067 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:57:24.067 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:57:24.067 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:57:24.068 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:57:24.068 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:57:24.068 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:57:24.069 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:57:24.069 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:57:24.069 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:57:24.071 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:57:24.071 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:57:24.071 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:57:24.072 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 3.8255ms
2020-07-07 19:57:24.072 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:57:24.072 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 6.0523ms 200 image/jpeg
2020-07-07 19:57:24.083 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:57:24.084 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 16.5621ms
2020-07-07 19:57:24.085 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:57:24.085 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 18.89ms 200 image/jpeg
2020-07-07 19:57:24.205 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:57:24.205 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 136.9948ms
2020-07-07 19:57:24.205 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:57:24.205 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 139.1261ms 200 image/jpeg
2020-07-07 19:57:43.523 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/ListItems?sortfield=Name&sortorder=asc&searchcriteria=&_=1594141035526  
2020-07-07 19:57:43.536 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.ListItems (CateringPro)'
2020-07-07 19:57:43.544 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-07 19:57:43.551 +03:00 [Warning] CateringPro.Models.CompanyUser: Dish Controllers  - ListItems User.GetCompanyID() 1 
2020-07-07 19:57:43.551 +03:00 [Warning] CateringPro.Models.CompanyUser: ListItems pageRecords 20 
2020-07-07 19:57:43.553 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:57:43.562 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name]
FROM [Categories] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:57:43.587 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
    ORDER BY [d].[Name]
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Name], [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-07 19:57:43.595 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 19:57:43.630 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 36.0886ms.
2020-07-07 19:57:43.630 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.ListItems (CateringPro) in 86.3536ms
2020-07-07 19:57:43.630 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.ListItems (CateringPro)'
2020-07-07 19:57:43.630 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 107.744ms 200 text/html; charset=utf-8
2020-07-07 19:57:44.786 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/ListItems?sortfield=Category.Name&sortorder=asc&searchcriteria=&_=1594141035527  
2020-07-07 19:57:44.788 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.ListItems (CateringPro)'
2020-07-07 19:57:44.788 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-07 19:57:44.790 +03:00 [Warning] CateringPro.Models.CompanyUser: Dish Controllers  - ListItems User.GetCompanyID() 1 
2020-07-07 19:57:44.790 +03:00 [Warning] CateringPro.Models.CompanyUser: ListItems pageRecords 20 
2020-07-07 19:57:44.791 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:57:44.793 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name]
FROM [Categories] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:57:44.819 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c0].[Id], [c0].[Code], [c0].[CompanyId], [c0].[Description], [c0].[Name], [t].[Id0], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight], [c].[Id] AS [Id0], [c].[Name] AS [Name0]
    FROM [Dishes] AS [d]
    INNER JOIN [Categories] AS [c] ON [d].[CategoriesId] = [c].[Id]
    WHERE [d].[CompanyId] = @__companyId_0
    ORDER BY [c].[Name]
) AS [t]
INNER JOIN [Categories] AS [c0] ON [t].[CategoriesId] = [c0].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Name0], [t].[Id], [t].[Id0], [c0].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-07 19:57:44.827 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 19:57:44.855 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 27.696ms.
2020-07-07 19:57:44.855 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.ListItems (CateringPro) in 67.0686ms
2020-07-07 19:57:44.855 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.ListItems (CateringPro)'
2020-07-07 19:57:44.855 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 69.2733ms 200 text/html; charset=utf-8
2020-07-07 19:57:46.270 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/ListItems?sortfield=Name&sortorder=asc&searchcriteria=&_=1594141035528  
2020-07-07 19:57:46.272 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.ListItems (CateringPro)'
2020-07-07 19:57:46.273 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-07 19:57:46.274 +03:00 [Warning] CateringPro.Models.CompanyUser: Dish Controllers  - ListItems User.GetCompanyID() 1 
2020-07-07 19:57:46.274 +03:00 [Warning] CateringPro.Models.CompanyUser: ListItems pageRecords 20 
2020-07-07 19:57:46.275 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:57:46.277 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name]
FROM [Categories] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:57:46.280 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
    ORDER BY [d].[Name]
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Name], [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-07 19:57:46.291 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 19:57:46.329 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 37.5344ms.
2020-07-07 19:57:46.329 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.ListItems (CateringPro) in 55.9209ms
2020-07-07 19:57:46.329 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.ListItems (CateringPro)'
2020-07-07 19:57:46.329 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 58.9396ms 200 text/html; charset=utf-8
2020-07-07 19:57:48.040 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/ListItems?sortfield=Price&sortorder=asc&searchcriteria=&_=1594141035529  
2020-07-07 19:57:48.042 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.ListItems (CateringPro)'
2020-07-07 19:57:48.042 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-07 19:57:48.044 +03:00 [Warning] CateringPro.Models.CompanyUser: Dish Controllers  - ListItems User.GetCompanyID() 1 
2020-07-07 19:57:48.045 +03:00 [Warning] CateringPro.Models.CompanyUser: ListItems pageRecords 20 
2020-07-07 19:57:48.046 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:57:48.047 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name]
FROM [Categories] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:57:48.086 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
    ORDER BY [d].[Price]
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Price], [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-07 19:57:48.094 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 19:57:48.127 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 32.8887ms.
2020-07-07 19:57:48.127 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.ListItems (CateringPro) in 85.0149ms
2020-07-07 19:57:48.127 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.ListItems (CateringPro)'
2020-07-07 19:57:48.127 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 87.4095ms 200 text/html; charset=utf-8
2020-07-07 19:57:49.507 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/ListItems?sortfield=Description&sortorder=asc&searchcriteria=&_=1594141035530  
2020-07-07 19:57:49.508 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.ListItems (CateringPro)'
2020-07-07 19:57:49.509 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-07 19:57:49.510 +03:00 [Warning] CateringPro.Models.CompanyUser: Dish Controllers  - ListItems User.GetCompanyID() 1 
2020-07-07 19:57:49.510 +03:00 [Warning] CateringPro.Models.CompanyUser: ListItems pageRecords 20 
2020-07-07 19:57:49.511 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:57:49.512 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name]
FROM [Categories] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:57:49.535 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
    ORDER BY [d].[Description]
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Description], [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-07 19:57:49.538 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 19:57:49.560 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 21.293ms.
2020-07-07 19:57:49.560 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.ListItems (CateringPro) in 51.0328ms
2020-07-07 19:57:49.560 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.ListItems (CateringPro)'
2020-07-07 19:57:49.560 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 52.7899ms 200 text/html; charset=utf-8
2020-07-07 19:58:08.686 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 19:58:08.689 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 3.0183ms 404 
2020-07-07 19:58:08.697 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 19:58:08.700 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 2.4474ms 404 
2020-07-07 19:58:22.157 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 19:58:22.160 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:58:22.160 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:58:22.161 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:58:22.163 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:58:22.168 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:58:22.171 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 19:58:22.179 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 9.259ms.
2020-07-07 19:58:22.179 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 17.9666ms
2020-07-07 19:58:22.179 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:58:22.179 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 22.3762ms 200 text/html; charset=utf-8
2020-07-07 19:58:22.209 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/site.css  
2020-07-07 19:58:22.211 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/site.css was not modified
2020-07-07 19:58:22.212 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 3.4864ms 304 text/css
2020-07-07 19:58:22.278 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 19:58:22.279 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.4481ms 404 
2020-07-07 19:58:22.300 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 19:58:22.301 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.8106ms 404 
2020-07-07 19:58:22.333 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594141102247  
2020-07-07 19:58:22.334 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:58:22.334 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:58:22.334 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:58:22.335 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:58:22.336 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:58:22.336 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 19:58:22.344 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 8.1873ms.
2020-07-07 19:58:22.344 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 10.1287ms
2020-07-07 19:58:22.344 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:58:22.344 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 11.5184ms 200 text/html; charset=utf-8
2020-07-07 19:58:23.615 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594141102248  
2020-07-07 19:58:23.617 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:58:23.617 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:58:23.617 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:58:23.618 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:58:23.632 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (12ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:58:23.633 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:58:23.640 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 6.4716ms.
2020-07-07 19:58:23.640 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 22.9009ms
2020-07-07 19:58:23.640 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:58:23.640 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 24.7543ms 200 text/html; charset=utf-8
2020-07-07 19:58:23.657 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594141102249  
2020-07-07 19:58:23.658 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-07 19:58:23.658 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-07 19:58:23.659 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-07 19:58:23.660 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:58:23.660 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:58:23.660 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:58:23.660 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:58:23.660 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:58:23.660 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:58:23.660 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:58:23.661 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:58:23.661 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:58:23.662 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:58:23.662 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:58:23.662 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:58:23.662 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:58:23.666 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:58:23.666 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:58:23.667 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:58:23.667 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:58:23.668 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 7.6863ms
2020-07-07 19:58:23.668 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:58:23.668 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.0528ms 200 image/jpeg
2020-07-07 19:58:23.675 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:58:23.675 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:58:23.678 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 2.1791ms.
2020-07-07 19:58:23.678 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 17.6752ms
2020-07-07 19:58:23.678 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:58:23.678 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 21.2863ms 200 text/html; charset=utf-8
2020-07-07 19:58:23.683 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:58:23.684 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 24.2881ms
2020-07-07 19:58:23.684 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:58:23.684 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 26.3428ms 200 image/jpeg
2020-07-07 19:58:23.810 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:58:23.810 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 149.5773ms
2020-07-07 19:58:23.810 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:58:23.810 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 151.4623ms 200 image/jpeg
2020-07-07 19:58:24.917 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?_=1594141102250  
2020-07-07 19:58:24.918 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-07 19:58:24.918 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView() on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-07 19:58:24.920 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:58:24.937 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-07 19:58:24.947 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-07 19:58:24.980 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 33.1631ms.
2020-07-07 19:58:24.980 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 61.4849ms
2020-07-07 19:58:24.980 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-07 19:58:24.980 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 63.58ms 200 text/html; charset=utf-8
2020-07-07 19:58:24.991 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-07 19:58:24.991 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-07 19:58:24.991 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-07 19:58:24.992 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:58:24.992 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:58:24.992 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:58:24.992 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:58:24.992 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:58:24.992 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:58:24.993 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:58:24.993 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:58:24.993 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:58:24.995 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:58:24.995 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:58:24.996 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:58:24.997 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 5.031ms
2020-07-07 19:58:24.997 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:58:24.998 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 6.743ms 200 image/jpeg
2020-07-07 19:58:25.011 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:58:25.013 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 20.9873ms
2020-07-07 19:58:25.013 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:58:25.013 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 22.6339ms 200 image/jpeg
2020-07-07 19:58:25.100 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:58:25.100 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 107.792ms
2020-07-07 19:58:25.100 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:58:25.100 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 109.4361ms 200 image/jpeg
2020-07-07 19:59:15.621 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:59:15.987 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (32ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 19:59:16.049 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-07 19:59:16.081 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-07 19:59:16.381 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-07 19:59:16.592 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:59:16.595 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:59:16.639 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-07 19:59:16.639 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-07 19:59:16.639 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2020-07-07 19:59:16.662 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 19:59:16.675 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-07 19:59:16.680 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:59:16.684 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 19:59:16.704 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:59:16,1
2020-07-07 19:59:16.746 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:59:16.780 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:59:16.783 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:59:16.804 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 19:59:16.824 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:59:16.829 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:59:16.896 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:59:16.910 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (182ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:59:16.914 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 19:59:16,2
2020-07-07 19:59:16.920 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 19:59:16.946 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:59:16.953 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 19:59:16.960 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 19:59:17.187 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 237.5419ms.
2020-07-07 19:59:17.191 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 366.7613ms
2020-07-07 19:59:17.192 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 19:59:17.200 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 538.6513ms 200 text/html; charset=utf-8
2020-07-07 19:59:17.329 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 19:59:17.342 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.5589ms 404 
2020-07-07 19:59:17.367 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 19:59:17.388 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 20.5156ms 404 
2020-07-07 19:59:17.419 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594141157281  
2020-07-07 19:59:17.423 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:59:17.424 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:59:17.448 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:59:17.459 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 19:59:17.474 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:59:17.475 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 19:59:17.475 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 19:59:17.476 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 17.446ms 200 image/x-icon
2020-07-07 19:59:17.480 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 19:59:17.562 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 82.7001ms.
2020-07-07 19:59:17.562 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 113.7875ms
2020-07-07 19:59:17.562 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 19:59:17.562 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 143.1014ms 200 text/html; charset=utf-8
2020-07-07 19:59:18.925 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594141157282  
2020-07-07 19:59:18.929 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:59:18.930 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:59:18.933 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:59:18.939 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:59:19.014 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-07 19:59:19.060 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-07 19:59:19.104 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 43.987ms.
2020-07-07 19:59:19.104 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 170.3433ms
2020-07-07 19:59:19.104 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-07 19:59:19.104 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 178.987ms 200 text/html; charset=utf-8
2020-07-07 19:59:19.111 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-07 19:59:19.111 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-07 19:59:19.112 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:59:19.112 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:59:19.112 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-07 19:59:19.115 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:59:19.117 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:59:19.117 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:59:19.120 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:59:19.126 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594141157283  
2020-07-07 19:59:19.126 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:59:19.126 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:59:19.126 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:59:19.127 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 19:59:19.127 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:59:19.133 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 19:59:19.141 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:59:19.144 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:59:19.144 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:59:19.180 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:59:19.183 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 65.7381ms
2020-07-07 19:59:19.183 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:59:19.183 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 71.2885ms 200 image/jpeg
2020-07-07 19:59:19.183 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:59:19.210 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complexId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(VARCHAR(11), [d].[DishId])
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complexId_1)
2020-07-07 19:59:19.215 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 97.7527ms
2020-07-07 19:59:19.215 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:59:19.215 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 103.3548ms 200 image/jpeg
2020-07-07 19:59:19.243 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id] AS [Value], [d].[Name] AS [Text]
FROM [Dishes] AS [d]
WHERE [d].[CompanyId] = @__companyId_0
ORDER BY [d].[Name]
2020-07-07 19:59:19.246 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view CreateNewCourse.
2020-07-07 19:59:19.274 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view CreateNewCourse executed in 29.1327ms.
2020-07-07 19:59:19.274 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 141.3236ms
2020-07-07 19:59:19.274 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-07 19:59:19.274 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 148.2848ms 200 text/html; charset=utf-8
2020-07-07 19:59:19.661 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:59:19.662 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 541.6586ms
2020-07-07 19:59:19.662 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:59:19.662 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 549.4256ms 200 image/jpeg
2020-07-07 19:59:20.715 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?_=1594141157284  
2020-07-07 19:59:20.722 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-07 19:59:20.731 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView() on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-07 19:59:20.736 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:59:20.772 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-07 19:59:20.809 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-07 19:59:20.899 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 90.0416ms.
2020-07-07 19:59:20.899 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 167.9512ms
2020-07-07 19:59:20.899 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-07 19:59:20.899 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 183.8531ms 200 text/html; charset=utf-8
2020-07-07 19:59:20.907 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-07 19:59:20.907 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-07 19:59:20.907 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-07 19:59:20.908 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:59:20.908 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:59:20.908 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:59:20.908 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:59:20.908 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:59:20.908 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-07 19:59:20.909 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:59:20.909 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:59:20.910 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:59:20.911 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:59:20.911 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-07 19:59:20.912 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:59:20.912 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 4.0047ms
2020-07-07 19:59:20.912 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:59:20.912 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 5.1532ms 200 image/jpeg
2020-07-07 19:59:20.932 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:59:20.938 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 29.8314ms
2020-07-07 19:59:20.938 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:59:20.938 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 31.0824ms 200 image/jpeg
2020-07-07 19:59:21.078 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-07 19:59:21.079 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 170.5241ms
2020-07-07 19:59:21.079 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-07 19:59:21.079 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 171.8535ms 200 image/jpeg
2020-07-07 19:59:34.903 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?_=1594141157285  
2020-07-07 19:59:34.908 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-07 19:59:34.908 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView() on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-07 19:59:34.911 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:59:34.918 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-07 19:59:34.933 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-07 19:59:34.982 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 49.0058ms.
2020-07-07 19:59:34.982 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 73.6214ms
2020-07-07 19:59:34.982 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-07 19:59:34.983 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 79.818ms 200 text/html; charset=utf-8
2020-07-07 19:59:37.186 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?_=1594141157286  
2020-07-07 19:59:37.188 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-07 19:59:37.189 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView() on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-07 19:59:37.191 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:59:37.193 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-07 19:59:37.198 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-07 19:59:37.222 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 24.1231ms.
2020-07-07 19:59:37.222 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 33.4559ms
2020-07-07 19:59:37.222 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-07 19:59:37.223 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 37.1541ms 200 text/html; charset=utf-8
2020-07-07 19:59:39.634 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?_=1594141157287  
2020-07-07 19:59:39.636 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-07 19:59:39.636 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView() on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-07 19:59:39.638 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 19:59:39.642 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-07 19:59:39.649 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-07 19:59:39.675 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 25.8ms.
2020-07-07 19:59:39.675 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 38.5967ms
2020-07-07 19:59:39.675 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-07 19:59:39.675 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 41.8596ms 200 text/html; charset=utf-8
2020-07-07 20:00:16.796 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 20:00:16.806 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 20:00:16.812 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 20:00:16.814 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 20:00:16.814 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 20:00:16.818 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 20:00:16.818 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 20:00:16,1
2020-07-07 20:00:16.822 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 20:00:16.846 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 20:00:16.846 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 20:00:16,2
2020-07-07 20:00:16.850 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 20:00:16.942 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-07 20:00:16.967 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 20:00:43.335 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-07 20:00:43.338 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 20:00:43.338 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 20:00:43.338 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 20:00:43.345 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 20:00:43.354 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 20:00:43.355 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-07 20:00:43.364 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 8.4918ms.
2020-07-07 20:00:43.364 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 25.2666ms
2020-07-07 20:00:43.364 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-07 20:00:43.364 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 29.0175ms 200 text/html; charset=utf-8
2020-07-07 20:00:43.398 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/site.css  
2020-07-07 20:00:43.424 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\css\site.css'
2020-07-07 20:00:43.425 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 26.907ms 200 text/css
2020-07-07 20:00:43.499 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-07 20:00:43.501 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 2.2599ms 404 
2020-07-07 20:00:43.537 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-07 20:00:43.537 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.7237ms 404 
2020-07-07 20:00:43.585 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594141243459  
2020-07-07 20:00:43.588 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-07 20:00:43.588 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 20:00:43.589 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-07 20:00:43.593 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 20:00:43.595 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-07 20:00:43.595 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-07 20:00:43.600 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 4.8861ms.
2020-07-07 20:00:43.600 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 11.606ms
2020-07-07 20:00:43.600 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-07 20:00:43.600 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 15.8114ms 200 text/html; charset=utf-8
2020-07-07 20:00:43.615 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-07 20:00:43.617 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\favicon.ico'
2020-07-07 20:00:43.617 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.2164ms 200 image/x-icon
2020-07-07 20:05:16.860 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 20:05:16.862 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 20:05:16.863 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 20:05:16.865 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 20:05:16.865 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 20:05:16.866 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 20:05:16,1
2020-07-07 20:05:16.866 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 20:05:16.870 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 20:05:16.872 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 20:05:16.919 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (52ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 20:05:16.919 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 20:05:16,2
2020-07-07 20:05:16.922 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 20:10:16.904 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 20:10:16.909 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 20:10:16.914 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 20:10:16.916 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 20:10:16.927 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 20:10:16.928 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 20:10:16,1
2020-07-07 20:10:16.930 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 20:10:16.937 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 20:10:16.941 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 20:10:17.001 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (71ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 20:10:17.001 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 20:10:17,2
2020-07-07 20:10:17.007 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 20:15:16.973 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 20:15:16.987 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 20:15:16.992 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 20:15:16.994 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 20:15:16.999 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 20:15:16.999 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 20:15:17.000 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 20:15:16,1
2020-07-07 20:15:17.010 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 20:15:17.014 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 20:15:17.072 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (70ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 20:15:17.072 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 20:15:17,2
2020-07-07 20:15:17.081 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 20:20:17.020 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 20:20:17.021 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 20:20:17.022 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 20:20:17.023 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 20:20:17.024 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 20:20:17.024 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 20:20:17.024 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 20:20:17,1
2020-07-07 20:20:17.032 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 20:20:17.042 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-07 20:20:17.058 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 20:20:17.079 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (54ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 20:20:17.079 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 20:20:17,2
2020-07-07 20:20:17.083 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 20:25:17.048 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 20:25:17.048 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 20:25:17.049 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-07 20:25:17.049 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 20:25:17.055 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 20:25:17.055 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 20:25:17,1
2020-07-07 20:25:17.057 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-07 20:25:17.060 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 20:25:17.061 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-07 20:25:17.102 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (46ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-07 20:25:17.102 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/07/2020 20:25:17,2
2020-07-07 20:25:17.107 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
