2020-07-10 10:56:12.488 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 10:56:12.490 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 10:56:12.492 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 10:56:12.492 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 10:56:12.496 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 10:56:12.496 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 10:56:12.497 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 10:56:12,1
2020-07-10 10:56:12.501 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 10:56:12.560 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (45ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 10:56:12.560 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 10:56:12,2
2020-07-10 10:56:12.563 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 10:56:12.696 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-10 10:56:12.721 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-10 10:56:12.724 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-10 10:56:12.725 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 10:57:12.500 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 10:57:12.502 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 10:57:12.504 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 10:57:12.506 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 10:57:12.508 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 10:57:12.510 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 10:57:12.510 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 10:57:12,1
2020-07-10 10:57:12.519 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 10:57:12.523 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 10:57:12.563 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (51ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 10:57:12.564 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 10:57:12,2
2020-07-10 10:57:12.572 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 10:58:12.523 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 10:58:12.527 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 10:58:12.530 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 10:58:12.530 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 10:58:12.533 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 10:58:12.533 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 10:58:12.534 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 10:58:12,1
2020-07-10 10:58:12.541 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 10:58:12.546 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 10:58:12.580 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (46ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 10:58:12.580 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 10:58:12,2
2020-07-10 10:58:12.583 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 10:59:22.327 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 10:59:22.769 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-10 10:59:22.811 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-10 10:59:22.835 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-10 10:59:23.027 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-10 10:59:23.298 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 10:59:23.302 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 10:59:23.370 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-10 10:59:23.370 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-10 10:59:23.370 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-10 10:59:23.384 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 10:59:23.386 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 10:59:23.390 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-10 10:59:23.404 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-10 10:59:23.406 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 10:59:23,1
2020-07-10 10:59:23.434 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 10:59:23.453 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 10:59:23.473 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 10:59:23.547 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (123ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 10:59:23.548 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address1], [a].[Address2], [a].[City], [a].[CompanyId], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MenuType], [a].[NameSurname], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[ZipCode]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2020-07-10 10:59:23.550 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 10:59:23,2
2020-07-10 10:59:23.554 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 10:59:23.573 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 10:59:23.580 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 10:59:23.630 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2020-07-10 10:59:23.674 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2020-07-10 10:59:23.687 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2020-07-10 10:59:23.704 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2020-07-10 10:59:23.716 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 10:59:23.719 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 10:59:23.746 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 10:59:23.756 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 10:59:23.802 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 10:59:23.957 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 158.0898ms.
2020-07-10 10:59:23.960 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 213.0897ms
2020-07-10 10:59:23.960 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 10:59:23.968 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 579.8944ms 200 text/html; charset=utf-8
2020-07-10 10:59:23.985 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css  
2020-07-10 10:59:23.986 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/carousel.css  
2020-07-10 10:59:23.992 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/font-awesome/css/font-awesome.css  
2020-07-10 10:59:23.992 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css  
2020-07-10 10:59:23.994 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap-duallistbox.css  
2020-07-10 10:59:24.003 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/bootstrap.min.css was not modified
2020-07-10 10:59:24.003 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /lib/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css was not modified
2020-07-10 10:59:24.003 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/bootstrap-duallistbox.css was not modified
2020-07-10 10:59:24.004 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/jquery-ui.css  
2020-07-10 10:59:24.004 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/jquery-ui.css was not modified
2020-07-10 10:59:24.005 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/carousel.css was not modified
2020-07-10 10:59:24.005 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /lib/font-awesome/css/font-awesome.css was not modified
2020-07-10 10:59:24.008 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 23.2066ms 304 text/css
2020-07-10 10:59:24.008 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14.3402ms 304 text/css
2020-07-10 10:59:24.008 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 4.8903ms 304 text/css
2020-07-10 10:59:24.008 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 21.9373ms 304 text/css
2020-07-10 10:59:24.008 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 16.9271ms 304 text/css
2020-07-10 10:59:24.009 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 16.0432ms 304 text/css
2020-07-10 10:59:24.015 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/jquery.min.js  
2020-07-10 10:59:24.016 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/jquery.min.js was not modified
2020-07-10 10:59:24.016 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.6018ms 304 application/javascript
2020-07-10 10:59:24.016 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/jquery.bootstrap-duallistbox.js  
2020-07-10 10:59:24.016 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/jquery.bootstrap-duallistbox.js was not modified
2020-07-10 10:59:24.016 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.353ms 304 application/javascript
2020-07-10 10:59:24.015 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/site.css  
2020-07-10 10:59:24.018 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/site.css was not modified
2020-07-10 10:59:24.018 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 3.3215ms 304 text/css
2020-07-10 10:59:24.019 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/site.js?v=WvUmlE8e_VDlPeR0g6h9Y5zTmjvT0eIH_AR_uNfWDd4  
2020-07-10 10:59:24.020 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/site.js was not modified
2020-07-10 10:59:24.021 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.7679ms 304 application/javascript
2020-07-10 10:59:24.022 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/jquery-ui.js  
2020-07-10 10:59:24.023 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/jquery-ui.js was not modified
2020-07-10 10:59:24.023 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.9158ms 304 application/javascript
2020-07-10 10:59:24.023 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js  
2020-07-10 10:59:24.024 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/bootstrap.min.js was not modified
2020-07-10 10:59:24.025 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.2836ms 304 application/javascript
2020-07-10 10:59:24.165 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-10 10:59:24.198 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 34.0411ms 404 
2020-07-10 10:59:24.263 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-10 10:59:24.270 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/font-awesome/fonts/fontawesome-webfont.woff2?v=4.3.0  
2020-07-10 10:59:24.271 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /lib/font-awesome/fonts/fontawesome-webfont.woff2 was not modified
2020-07-10 10:59:24.271 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.9402ms 304 font/woff2
2020-07-10 10:59:24.281 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594367964081  
2020-07-10 10:59:24.289 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 26.3746ms 404 
2020-07-10 10:59:24.290 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 10:59:24.291 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 10:59:24.298 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-10 10:59:24.313 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 10:59:24.324 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-10 10:59:24.325 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 27.4553ms 200 image/x-icon
2020-07-10 10:59:24.348 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 10:59:24.352 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 10:59:24.359 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-10 10:59:24.441 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 83.2438ms.
2020-07-10 10:59:24.441 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 127.4077ms
2020-07-10 10:59:24.441 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 10:59:24.441 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 160.5205ms 200 text/html; charset=utf-8
2020-07-10 10:59:26.137 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594367964082  
2020-07-10 10:59:26.143 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 10:59:26.144 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 10:59:26.154 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 10:59:26.158 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 10:59:26.240 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-10 10:59:26.304 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-10 10:59:26.465 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 162.3142ms.
2020-07-10 10:59:26.465 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 311.5118ms
2020-07-10 10:59:26.466 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 10:59:26.466 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 328.9251ms 200 text/html; charset=utf-8
2020-07-10 10:59:26.489 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594367964083  
2020-07-10 10:59:26.489 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-10 10:59:26.490 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 10:59:26.491 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 10:59:26.491 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 10:59:26.491 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-10 10:59:26.491 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-10 10:59:26.493 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 10:59:26.493 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 10:59:26.496 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 10:59:26.496 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 10:59:26.499 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-10 10:59:26.499 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 10:59:26.503 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 4.2317ms.
2020-07-10 10:59:26.503 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 10:59:26.503 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 7.4039ms
2020-07-10 10:59:26.503 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 10:59:26.503 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14.4408ms 200 text/html; charset=utf-8
2020-07-10 10:59:26.522 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 10:59:26.522 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 10:59:26.522 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 10:59:26.538 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 10:59:26.538 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 10:59:26.579 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 10:59:26.582 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 83.6495ms
2020-07-10 10:59:26.583 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 10:59:26.583 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 91.6908ms 200 image/jpeg
2020-07-10 10:59:26.589 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 10:59:26.609 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 106.3139ms
2020-07-10 10:59:26.609 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 10:59:26.609 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 118.2428ms 200 image/jpeg
2020-07-10 10:59:27.105 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 10:59:27.106 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 610.2536ms
2020-07-10 10:59:27.106 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 10:59:27.107 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 617.1796ms 200 image/jpeg
2020-07-10 10:59:27.978 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=0&_=1594367964084  
2020-07-10 10:59:27.983 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-10 10:59:27.992 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-10 10:59:28.106 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 10:59:28.190 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-10 10:59:28.358 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-10 10:59:28.457 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 215.3534ms.
2020-07-10 10:59:28.457 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 464.955ms
2020-07-10 10:59:28.457 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-10 10:59:28.457 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 479.8881ms 200 text/html; charset=utf-8
2020-07-10 10:59:28.470 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-10 10:59:28.470 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-10 10:59:28.470 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-10 10:59:28.471 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 10:59:28.471 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 10:59:28.471 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 10:59:28.471 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 10:59:28.471 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 10:59:28.471 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 10:59:28.471 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 10:59:28.471 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 10:59:28.471 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 10:59:28.475 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 10:59:28.475 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 10:59:28.486 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 10:59:28.486 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 15.3813ms
2020-07-10 10:59:28.486 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 10:59:28.486 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 16.7808ms 200 image/jpeg
2020-07-10 10:59:28.507 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 10:59:28.511 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 39.8095ms
2020-07-10 10:59:28.511 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 10:59:28.511 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 41.314ms 200 image/jpeg
2020-07-10 10:59:28.537 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 10:59:28.537 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 66.5782ms
2020-07-10 10:59:28.537 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 10:59:28.538 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 68.0612ms 200 image/jpeg
2020-07-10 11:00:13.637 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:00:13.883 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-10 11:00:13.916 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-10 11:00:13.931 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-10 11:00:14.081 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-10 11:00:14.191 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:00:14.194 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:00:14.230 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-10 11:00:14.230 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-10 11:00:14.230 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-10 11:00:14.245 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-10 11:00:14.255 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:00:14.257 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-10 11:00:14.258 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:00:14.277 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:00:14,1
2020-07-10 11:00:14.300 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:00:14.320 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:00:14.336 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:00:14.338 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:00:14.369 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:00:14.374 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:00:14.427 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:00:14.526 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:00:14.546 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 11:00:14.551 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (262ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:00:14.554 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:00:14,2
2020-07-10 11:00:14.558 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:00:14.712 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-10 11:00:14.718 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 174.5695ms.
2020-07-10 11:00:14.721 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 351.4234ms
2020-07-10 11:00:14.722 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:00:14.733 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 488.4796ms 200 text/html; charset=utf-8
2020-07-10 11:00:14.778 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:00:14.924 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-10 11:00:14.940 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 15.9414ms 404 
2020-07-10 11:00:14.990 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-10 11:00:15.018 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 28.323ms 404 
2020-07-10 11:00:15.025 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594368014835  
2020-07-10 11:00:15.027 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:00:15.028 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-10 11:00:15.028 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:00:15.044 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-10 11:00:15.045 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 17.3137ms 200 image/x-icon
2020-07-10 11:00:15.049 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:00:15.063 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:00:15.065 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:00:15.069 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-10 11:00:15.138 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 69.2842ms.
2020-07-10 11:00:15.138 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 89.3603ms
2020-07-10 11:00:15.138 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:00:15.138 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 113.8399ms 200 text/html; charset=utf-8
2020-07-10 11:00:16.670 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594368014836  
2020-07-10 11:00:16.678 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:00:16.678 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:00:16.686 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:00:16.690 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:00:16.769 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-10 11:00:16.806 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-10 11:00:16.846 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 40.5428ms.
2020-07-10 11:00:16.847 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 160.3931ms
2020-07-10 11:00:16.847 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:00:16.847 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 176.7592ms 200 text/html; charset=utf-8
2020-07-10 11:00:16.866 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594368014837  
2020-07-10 11:00:16.868 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-10 11:00:16.868 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:00:16.868 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:00:16.868 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-10 11:00:16.869 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:00:16.869 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:00:16.870 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-10 11:00:16.872 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:00:16.874 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:00:16.874 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:00:16.874 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:00:16.876 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-10 11:00:16.877 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 0.9602ms.
2020-07-10 11:00:16.877 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 2.7448ms
2020-07-10 11:00:16.877 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:00:16.877 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.3223ms 200 text/html; charset=utf-8
2020-07-10 11:00:16.877 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:00:16.883 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:00:16.883 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:00:16.883 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:00:16.897 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:00:16.897 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:00:16.931 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:00:16.936 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 62.595ms
2020-07-10 11:00:16.936 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:00:16.937 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 68.1807ms 200 image/jpeg
2020-07-10 11:00:16.940 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:00:16.952 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 74.3566ms
2020-07-10 11:00:16.952 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:00:16.952 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 82.4904ms 200 image/jpeg
2020-07-10 11:00:17.256 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:00:17.257 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 382.7472ms
2020-07-10 11:00:17.257 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:00:17.257 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 388.8739ms 200 image/jpeg
2020-07-10 11:03:24.466 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:03:24.703 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-10 11:03:24.736 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-10 11:03:24.752 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-10 11:03:24.912 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-10 11:03:25.020 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:03:25.022 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:03:25.056 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-10 11:03:25.056 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-10 11:03:25.056 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-10 11:03:25.070 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-10 11:03:25.079 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:03:25.080 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-10 11:03:25.081 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:03:25.095 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:03:25,1
2020-07-10 11:03:25.114 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:03:25.130 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:03:25.139 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:03:25.141 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:03:25.173 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:03:25.177 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:03:25.213 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (105ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:03:25.216 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:03:25.216 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:03:25,2
2020-07-10 11:03:25.221 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:03:25.236 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:03:25.242 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:03:25.245 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 11:03:25.358 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 113.6154ms.
2020-07-10 11:03:25.360 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 186.4496ms
2020-07-10 11:03:25.360 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:03:25.368 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 298.6941ms 200 text/html; charset=utf-8
2020-07-10 11:03:25.521 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-10 11:03:25.532 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.1657ms 404 
2020-07-10 11:03:25.579 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-10 11:03:25.600 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 21.0521ms 404 
2020-07-10 11:03:25.604 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594368205443  
2020-07-10 11:03:25.607 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:03:25.609 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:03:25.614 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-10 11:03:25.628 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-10 11:03:25.628 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14.9226ms 200 image/x-icon
2020-07-10 11:03:25.634 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:03:25.647 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:03:25.648 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:03:25.652 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-10 11:03:25.710 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 59.273ms.
2020-07-10 11:03:25.710 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 76.1087ms
2020-07-10 11:03:25.710 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:03:25.710 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 105.7131ms 200 text/html; charset=utf-8
2020-07-10 11:03:30.620 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594368205444  
2020-07-10 11:03:30.628 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:03:30.629 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:03:30.635 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:03:30.639 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:03:30.709 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-10 11:03:30.751 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-10 11:03:30.787 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 36.0609ms.
2020-07-10 11:03:30.787 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 151.9861ms
2020-07-10 11:03:30.787 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:03:30.787 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 167.7946ms 200 text/html; charset=utf-8
2020-07-10 11:03:30.804 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594368205445  
2020-07-10 11:03:30.805 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:03:30.805 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:03:30.805 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-10 11:03:30.806 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-10 11:03:30.806 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-10 11:03:30.806 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:03:30.806 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:03:30.806 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:03:30.810 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:03:30.811 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:03:30.811 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:03:30.812 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-10 11:03:30.813 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 0.7597ms.
2020-07-10 11:03:30.813 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 2.7238ms
2020-07-10 11:03:30.813 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:03:30.813 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.1374ms 200 text/html; charset=utf-8
2020-07-10 11:03:30.814 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:03:30.819 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:03:30.819 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:03:30.819 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:03:30.831 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:03:30.831 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:03:30.856 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:03:30.859 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 45.0107ms
2020-07-10 11:03:30.859 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:03:30.859 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 53.1488ms 200 image/jpeg
2020-07-10 11:03:30.864 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:03:30.876 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 64.9428ms
2020-07-10 11:03:30.876 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:03:30.876 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 70.0166ms 200 image/jpeg
2020-07-10 11:03:31.155 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:03:31.155 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 344.5657ms
2020-07-10 11:03:31.155 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:03:31.155 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 350.0861ms 200 image/jpeg
2020-07-10 11:04:39.800 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:04:40.037 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-10 11:04:40.088 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-10 11:04:40.105 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-10 11:04:40.301 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-10 11:04:40.449 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:04:40.452 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:04:40.519 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-10 11:04:40.519 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-10 11:04:40.519 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-10 11:04:40.532 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:04:40.535 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:04:40.538 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-10 11:04:40.550 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:04:40,1
2020-07-10 11:04:40.551 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-10 11:04:40.578 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:04:40.593 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:04:40.621 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:04:40.624 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:04:40.660 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:04:40.668 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:04:40.724 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:04:40.728 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:04:40.743 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:04:40.772 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 11:04:40.866 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (304ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:04:40.870 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:04:40,2
2020-07-10 11:04:40.896 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 136.525ms.
2020-07-10 11:04:40.898 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 238.0302ms
2020-07-10 11:04:40.899 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:04:40.908 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 370.1751ms 200 text/html; charset=utf-8
2020-07-10 11:04:40.965 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (95ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:04:41.048 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-10 11:04:41.055 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 7.3191ms 404 
2020-07-10 11:04:41.096 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-10 11:04:41.107 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594368281000  
2020-07-10 11:04:41.118 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-10 11:04:41.118 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 22.4011ms 404 
2020-07-10 11:04:41.118 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:04:41.120 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:04:41.134 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-10 11:04:41.135 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 16.9418ms 200 image/x-icon
2020-07-10 11:04:41.145 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:04:41.161 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:04:41.165 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:04:41.168 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-10 11:04:41.260 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 93.0435ms.
2020-07-10 11:04:41.260 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 114.6772ms
2020-07-10 11:04:41.260 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:04:41.261 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 153.4148ms 200 text/html; charset=utf-8
2020-07-10 11:04:53.448 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594368281001  
2020-07-10 11:04:53.455 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:04:53.456 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:04:53.461 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:04:53.465 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:04:53.534 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-10 11:04:53.578 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-10 11:04:53.616 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 38.2546ms.
2020-07-10 11:04:53.616 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 154.8732ms
2020-07-10 11:04:53.616 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:04:53.616 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 168.6613ms 200 text/html; charset=utf-8
2020-07-10 11:04:53.631 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594368281002  
2020-07-10 11:04:53.632 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-10 11:04:53.632 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:04:53.632 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:04:53.633 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:04:53.634 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-10 11:04:53.634 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-10 11:04:53.636 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:04:53.636 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:04:53.639 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:04:53.639 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:04:53.642 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-10 11:04:53.643 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:04:53.643 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:04:53.643 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.1066ms.
2020-07-10 11:04:53.643 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 4.485ms
2020-07-10 11:04:53.644 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:04:53.644 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.4292ms 200 text/html; charset=utf-8
2020-07-10 11:04:53.649 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:04:53.649 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:04:53.649 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:04:53.663 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:04:53.663 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:04:53.686 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:04:53.692 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 49.3454ms
2020-07-10 11:04:53.692 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:04:53.692 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 58.3912ms 200 image/jpeg
2020-07-10 11:04:53.695 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:04:53.704 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 61.2754ms
2020-07-10 11:04:53.704 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:04:53.704 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 70.2094ms 200 image/jpeg
2020-07-10 11:04:53.972 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:04:53.972 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 332.9763ms
2020-07-10 11:04:53.972 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:04:53.972 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 340.1968ms 200 image/jpeg
2020-07-10 11:05:40.593 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:05:40.601 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:05:40.606 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:05:40.608 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:05:40.611 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:05:40.611 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:05:40.614 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:05:40,1
2020-07-10 11:05:40.619 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:05:40.620 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:05:40.692 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (68ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:05:40.692 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:05:40,2
2020-07-10 11:05:40.695 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:18:22.995 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:18:23.234 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-10 11:18:23.268 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-10 11:18:23.283 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-10 11:18:23.444 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-10 11:18:23.551 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:18:23.554 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:18:23.590 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-10 11:18:23.590 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-10 11:18:23.590 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-10 11:18:23.606 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-10 11:18:23.610 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:18:23.613 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:18:23.617 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-10 11:18:23.626 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:18:23,1
2020-07-10 11:18:23.649 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:18:23.664 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:18:23.671 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:18:23.673 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:18:23.695 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:18:23.701 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:18:23.736 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (95ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:18:23.736 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:18:23.739 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:18:23,2
2020-07-10 11:18:23.742 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:18:23.754 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:18:23.765 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 11:18:23.902 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 137.8933ms.
2020-07-10 11:18:23.904 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 208.347ms
2020-07-10 11:18:23.905 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:18:23.911 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-10 11:18:23.913 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 308.4567ms 200 text/html; charset=utf-8
2020-07-10 11:18:23.967 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:18:24.059 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-10 11:18:24.070 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 11.1899ms 404 
2020-07-10 11:18:24.107 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-10 11:18:24.125 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 17.8786ms 404 
2020-07-10 11:18:24.130 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594369104006  
2020-07-10 11:18:24.132 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:18:24.134 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:18:24.137 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-10 11:18:24.152 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:18:24.152 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-10 11:18:24.153 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 15.6244ms 200 image/x-icon
2020-07-10 11:18:24.172 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:18:24.173 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:18:24.175 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-10 11:18:24.233 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 58.9997ms.
2020-07-10 11:18:24.233 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 80.7228ms
2020-07-10 11:18:24.233 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:18:24.233 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 103.3639ms 200 text/html; charset=utf-8
2020-07-10 11:18:25.950 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594369104007  
2020-07-10 11:18:25.954 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:18:25.954 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:18:25.959 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:18:25.962 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:18:26.030 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-10 11:18:26.068 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-10 11:18:26.105 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 37.0859ms.
2020-07-10 11:18:26.105 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 146.5219ms
2020-07-10 11:18:26.105 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:18:26.106 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 155.6752ms 200 text/html; charset=utf-8
2020-07-10 11:18:26.121 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594369104008  
2020-07-10 11:18:26.122 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:18:26.122 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:18:26.122 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-10 11:18:26.123 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-10 11:18:26.123 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-10 11:18:26.123 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:18:26.123 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:18:26.123 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:18:26.127 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:18:26.127 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:18:26.128 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:18:26.128 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:18:26.129 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-10 11:18:26.131 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.1191ms.
2020-07-10 11:18:26.131 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 3.1643ms
2020-07-10 11:18:26.131 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:18:26.131 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.6063ms 200 text/html; charset=utf-8
2020-07-10 11:18:26.136 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:18:26.136 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:18:26.136 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:18:26.150 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:18:26.150 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:18:26.169 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:18:26.171 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 43.3601ms
2020-07-10 11:18:26.171 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:18:26.171 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 48.7426ms 200 image/jpeg
2020-07-10 11:18:26.176 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:18:26.189 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 61.5435ms
2020-07-10 11:18:26.189 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:18:26.189 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 66.5037ms 200 image/jpeg
2020-07-10 11:18:26.487 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:18:26.487 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 359.0039ms
2020-07-10 11:18:26.487 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:18:26.487 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 364.6213ms 200 image/jpeg
2020-07-10 11:19:07.251 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:19:07.493 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-10 11:19:07.526 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-10 11:19:07.541 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-10 11:19:07.709 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-10 11:19:07.820 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:19:07.822 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:19:07.855 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-10 11:19:07.855 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-10 11:19:07.855 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-10 11:19:07.869 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-10 11:19:07.877 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:19:07.880 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:19:07.880 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-10 11:19:07.894 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:19:07,1
2020-07-10 11:19:07.914 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:19:07.928 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:19:07.935 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:19:07.936 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:19:07.958 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:19:07.962 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:19:08.001 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:19:08.002 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (98ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:19:08.004 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:19:08,2
2020-07-10 11:19:08.008 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:19:08.020 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:19:08.026 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:19:08.030 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 11:19:08.151 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 121.981ms.
2020-07-10 11:19:08.153 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 194.827ms
2020-07-10 11:19:08.154 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:19:08.162 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 293.576ms 200 text/html; charset=utf-8
2020-07-10 11:19:08.309 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-10 11:19:08.321 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.2678ms 404 
2020-07-10 11:19:08.360 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-10 11:19:08.387 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594369148245  
2020-07-10 11:19:08.390 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:19:08.388 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 27.7861ms 404 
2020-07-10 11:19:08.395 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:19:08.399 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-10 11:19:08.413 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-10 11:19:08.413 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14.507ms 200 image/x-icon
2020-07-10 11:19:08.414 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:19:08.428 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:19:08.429 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:19:08.431 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-10 11:19:08.486 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 55.7523ms.
2020-07-10 11:19:08.486 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 72.0032ms
2020-07-10 11:19:08.486 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:19:08.486 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 99.7993ms 200 text/html; charset=utf-8
2020-07-10 11:19:10.022 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594369148246  
2020-07-10 11:19:10.028 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:19:10.029 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:19:10.035 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:19:10.039 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:19:10.106 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-10 11:19:10.150 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-10 11:19:10.189 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 39.2607ms.
2020-07-10 11:19:10.189 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 153.7585ms
2020-07-10 11:19:10.189 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:19:10.189 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 168.1981ms 200 text/html; charset=utf-8
2020-07-10 11:19:10.205 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594369148247  
2020-07-10 11:19:10.206 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-10 11:19:10.207 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:19:10.207 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:19:10.207 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:19:10.207 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-10 11:19:10.207 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-10 11:19:10.210 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:19:10.210 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:19:10.212 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:19:10.212 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:19:10.214 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-10 11:19:10.215 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:19:10.216 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.7878ms.
2020-07-10 11:19:10.216 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 4.0455ms
2020-07-10 11:19:10.216 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:19:10.216 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.9872ms 200 text/html; charset=utf-8
2020-07-10 11:19:10.217 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:19:10.223 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:19:10.223 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:19:10.223 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:19:10.239 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:19:10.239 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:19:10.263 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:19:10.267 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 49.8196ms
2020-07-10 11:19:10.267 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:19:10.267 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 59.9197ms 200 image/jpeg
2020-07-10 11:19:10.274 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:19:10.281 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 65.0933ms
2020-07-10 11:19:10.281 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:19:10.281 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 73.4694ms 200 image/jpeg
2020-07-10 11:19:10.565 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:19:10.565 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 353.4242ms
2020-07-10 11:19:10.565 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:19:10.566 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 360.0348ms 200 image/jpeg
2020-07-10 11:20:44.210 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:20:44.450 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-10 11:20:44.484 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-10 11:20:44.498 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-10 11:20:44.661 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-10 11:20:44.769 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:20:44.772 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:20:44.807 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-10 11:20:44.807 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-10 11:20:44.807 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-10 11:20:44.821 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-10 11:20:44.830 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:20:44.831 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-10 11:20:44.833 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:20:44.845 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:20:44,1
2020-07-10 11:20:44.867 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:20:44.882 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:20:44.888 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:20:44.890 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:20:44.912 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:20:44.925 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:20:44.952 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (94ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:20:44.955 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:20:44,2
2020-07-10 11:20:44.958 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:20:44.960 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:20:44.976 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:20:44.982 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:20:44.987 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 11:20:45.102 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 115.0724ms.
2020-07-10 11:20:45.104 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 191.5093ms
2020-07-10 11:20:45.105 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:20:45.111 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 290.6289ms 200 text/html; charset=utf-8
2020-07-10 11:20:45.231 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-10 11:20:45.244 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 13.2749ms 404 
2020-07-10 11:20:45.281 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-10 11:20:45.301 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594369245187  
2020-07-10 11:20:45.306 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-10 11:20:45.309 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 28.6297ms 404 
2020-07-10 11:20:45.309 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:20:45.311 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:20:45.322 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-10 11:20:45.323 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 16.5545ms 200 image/x-icon
2020-07-10 11:20:45.331 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:20:45.344 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:20:45.345 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:20:45.347 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-10 11:20:45.409 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 62.5106ms.
2020-07-10 11:20:45.409 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 77.5282ms
2020-07-10 11:20:45.409 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:20:45.409 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 108.6148ms 200 text/html; charset=utf-8
2020-07-10 11:20:46.850 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594369245188  
2020-07-10 11:20:46.854 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:20:46.855 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:20:46.859 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:20:46.863 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:20:46.933 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-10 11:20:46.976 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-10 11:20:47.013 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 37.6389ms.
2020-07-10 11:20:47.013 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 153.7816ms
2020-07-10 11:20:47.013 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:20:47.014 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 164.0052ms 200 text/html; charset=utf-8
2020-07-10 11:20:47.022 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-10 11:20:47.022 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-10 11:20:47.022 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-10 11:20:47.023 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:20:47.023 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:20:47.023 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:20:47.027 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:20:47.027 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:20:47.027 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:20:47.035 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:20:47.035 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:20:47.035 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:20:47.036 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594369245189  
2020-07-10 11:20:47.037 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:20:47.037 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:20:47.041 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:20:47.042 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-10 11:20:47.043 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 0.7586ms.
2020-07-10 11:20:47.043 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 1.7846ms
2020-07-10 11:20:47.043 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:20:47.043 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 6.8259ms 200 text/html; charset=utf-8
2020-07-10 11:20:47.053 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:20:47.053 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:20:47.088 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:20:47.091 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 63.7087ms
2020-07-10 11:20:47.091 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:20:47.091 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 68.952ms 200 image/jpeg
2020-07-10 11:20:47.095 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:20:47.106 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 78.7813ms
2020-07-10 11:20:47.106 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:20:47.106 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 84.1322ms 200 image/jpeg
2020-07-10 11:20:47.376 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:20:47.376 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 349.2318ms
2020-07-10 11:20:47.377 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:20:47.377 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 354.6817ms 200 image/jpeg
2020-07-10 11:21:11.707 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:21:11.950 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-10 11:21:11.983 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-10 11:21:12.000 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-10 11:21:12.157 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-10 11:21:12.272 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:21:12.275 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:21:12.308 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-10 11:21:12.308 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-10 11:21:12.308 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-10 11:21:12.322 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-10 11:21:12.333 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-10 11:21:12.337 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:21:12.339 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:21:12.352 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:21:12,1
2020-07-10 11:21:12.381 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:21:12.397 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:21:12.400 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:21:12.402 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:21:12.426 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:21:12.431 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:21:12.470 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:21:12.485 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:21:12.493 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (122ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:21:12.494 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:21:12.495 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:21:12,2
2020-07-10 11:21:12.498 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:21:12.501 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 11:21:12.615 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 114.9427ms.
2020-07-10 11:21:12.617 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 191.462ms
2020-07-10 11:21:12.618 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:21:12.626 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 304.6969ms 200 text/html; charset=utf-8
2020-07-10 11:21:12.750 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-10 11:21:12.766 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 16.6786ms 404 
2020-07-10 11:21:12.818 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-10 11:21:12.836 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594369272699  
2020-07-10 11:21:12.844 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 26.2864ms 404 
2020-07-10 11:21:12.845 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:21:12.845 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-10 11:21:12.847 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:21:12.863 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-10 11:21:12.863 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 18.2225ms 200 image/x-icon
2020-07-10 11:21:12.869 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:21:12.882 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:21:12.883 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:21:12.884 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-10 11:21:12.944 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 60.517ms.
2020-07-10 11:21:12.945 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 75.5026ms
2020-07-10 11:21:12.945 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:21:12.945 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 108.707ms 200 text/html; charset=utf-8
2020-07-10 11:21:14.424 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594369272700  
2020-07-10 11:21:14.432 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:21:14.432 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:21:14.440 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:21:14.445 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:21:14.518 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-10 11:21:14.562 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-10 11:21:14.599 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 36.9563ms.
2020-07-10 11:21:14.599 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 158.6686ms
2020-07-10 11:21:14.599 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:21:14.599 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 175.2461ms 200 text/html; charset=utf-8
2020-07-10 11:21:14.606 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-10 11:21:14.606 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-10 11:21:14.606 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-10 11:21:14.607 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:21:14.607 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:21:14.607 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:21:14.611 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:21:14.611 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:21:14.611 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:21:14.618 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:21:14.618 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:21:14.618 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:21:14.619 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594369272701  
2020-07-10 11:21:14.620 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:21:14.620 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:21:14.626 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:21:14.627 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-10 11:21:14.628 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 0.8682ms.
2020-07-10 11:21:14.628 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 2.3704ms
2020-07-10 11:21:14.628 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:21:14.628 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.3318ms 200 text/html; charset=utf-8
2020-07-10 11:21:14.635 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:21:14.635 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:21:14.662 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:21:14.664 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 52.7938ms
2020-07-10 11:21:14.664 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:21:14.664 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 58.3229ms 200 image/jpeg
2020-07-10 11:21:14.670 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:21:14.683 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 71.314ms
2020-07-10 11:21:14.683 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:21:14.683 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 76.6907ms 200 image/jpeg
2020-07-10 11:21:14.957 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:21:14.958 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 346.4551ms
2020-07-10 11:21:14.958 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:21:14.958 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 352.089ms 200 image/jpeg
2020-07-10 11:23:47.647 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:23:47.888 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-10 11:23:47.921 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-10 11:23:47.936 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-10 11:23:48.096 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-10 11:23:48.206 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:23:48.208 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:23:48.251 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-10 11:23:48.251 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-10 11:23:48.251 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-10 11:23:48.267 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-10 11:23:48.277 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:23:48.278 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-10 11:23:48.279 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:23:48.292 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:23:48,1
2020-07-10 11:23:48.314 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:23:48.331 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:23:48.336 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:23:48.338 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:23:48.361 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:23:48.366 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:23:48.399 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:23:48.399 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (94ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:23:48.402 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:23:48,2
2020-07-10 11:23:48.406 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:23:48.416 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:23:48.424 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:23:48.427 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 11:23:48.536 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 109.9806ms.
2020-07-10 11:23:48.538 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 177.1195ms
2020-07-10 11:23:48.539 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:23:48.545 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 278.5771ms 200 text/html; charset=utf-8
2020-07-10 11:23:48.678 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-10 11:23:48.688 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.2522ms 404 
2020-07-10 11:23:48.731 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-10 11:23:48.755 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594369428630  
2020-07-10 11:23:48.757 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:23:48.757 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 26.1637ms 404 
2020-07-10 11:23:48.764 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:23:48.765 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-10 11:23:48.777 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-10 11:23:48.778 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.1913ms 200 image/x-icon
2020-07-10 11:23:48.789 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:23:48.802 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:23:48.806 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:23:48.809 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-10 11:23:48.867 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 58.8133ms.
2020-07-10 11:23:48.867 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 77.2882ms
2020-07-10 11:23:48.867 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:23:48.867 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 111.8798ms 200 text/html; charset=utf-8
2020-07-10 11:23:52.625 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594369428631  
2020-07-10 11:23:52.629 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:23:52.630 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:23:52.634 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:23:52.637 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:23:52.707 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-10 11:23:52.749 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-10 11:23:52.785 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 36.6696ms.
2020-07-10 11:23:52.786 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 151.8635ms
2020-07-10 11:23:52.786 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:23:52.786 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 160.8807ms 200 text/html; charset=utf-8
2020-07-10 11:23:52.801 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594369428632  
2020-07-10 11:23:52.803 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-10 11:23:52.803 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:23:52.803 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:23:52.804 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-10 11:23:52.804 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-10 11:23:52.805 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:23:52.805 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:23:52.805 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:23:52.811 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:23:52.811 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:23:52.811 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:23:52.814 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:23:52.816 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-10 11:23:52.817 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.081ms.
2020-07-10 11:23:52.817 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 2.3689ms
2020-07-10 11:23:52.817 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:23:52.817 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 16.0209ms 200 text/html; charset=utf-8
2020-07-10 11:23:52.818 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:23:52.818 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:23:52.818 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:23:52.835 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:23:52.839 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:23:52.863 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:23:52.866 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 54.9388ms
2020-07-10 11:23:52.866 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:23:52.866 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 62.0829ms 200 image/jpeg
2020-07-10 11:23:52.873 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:23:52.882 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 70.5098ms
2020-07-10 11:23:52.882 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:23:52.882 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 77.6395ms 200 image/jpeg
2020-07-10 11:23:53.158 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:23:53.158 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 346.8461ms
2020-07-10 11:23:53.158 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:23:53.158 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 355.4774ms 200 image/jpeg
2020-07-10 11:28:06.528 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:28:07.025 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-10 11:28:07.057 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-10 11:28:07.072 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-10 11:28:07.223 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-10 11:28:07.419 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:28:07.422 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:28:07.452 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-10 11:28:07.452 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-10 11:28:07.452 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-10 11:28:07.467 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-10 11:28:07.477 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:28:07.477 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-10 11:28:07.479 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:28:07.492 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:28:07,1
2020-07-10 11:28:07.513 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:28:07.527 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:28:07.532 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:28:07.534 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:28:07.559 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:28:07.562 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:28:07.612 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (109ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:28:07.612 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:28:07.615 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:28:07,2
2020-07-10 11:28:07.619 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:28:07.633 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:28:07.641 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:28:07.643 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 11:28:07.821 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 179.4687ms.
2020-07-10 11:28:07.823 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 264.351ms
2020-07-10 11:28:07.824 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:28:07.830 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 364.0305ms 200 text/html; charset=utf-8
2020-07-10 11:28:07.929 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-10 11:28:07.937 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 8.7421ms 404 
2020-07-10 11:28:07.969 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-10 11:28:07.983 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594369687893  
2020-07-10 11:28:07.993 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-10 11:28:07.994 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 24.4661ms 404 
2020-07-10 11:28:07.994 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:28:07.995 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:28:08.013 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:28:08.013 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-10 11:28:08.014 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 21.526ms 200 image/x-icon
2020-07-10 11:28:08.028 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:28:08.028 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:28:08.030 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-10 11:28:08.089 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 59.7875ms.
2020-07-10 11:28:08.090 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 76.1077ms
2020-07-10 11:28:08.090 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:28:08.090 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 106.7162ms 200 text/html; charset=utf-8
2020-07-10 11:28:11.113 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594369687894  
2020-07-10 11:28:11.118 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:28:11.119 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:28:11.124 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:28:11.127 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:28:11.198 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-10 11:28:11.247 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-10 11:28:11.287 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 41.5383ms.
2020-07-10 11:28:11.288 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 163.6821ms
2020-07-10 11:28:11.288 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:28:11.288 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 175.6623ms 200 text/html; charset=utf-8
2020-07-10 11:28:11.297 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-10 11:28:11.297 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-10 11:28:11.297 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-10 11:28:11.298 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:28:11.298 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:28:11.298 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:28:11.304 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:28:11.304 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:28:11.304 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:28:11.311 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594369687895  
2020-07-10 11:28:11.311 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:28:11.311 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:28:11.502 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:28:11.505 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-10 11:28:11.545 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 40.5093ms.
2020-07-10 11:28:11.546 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 43.6717ms
2020-07-10 11:28:11.546 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:28:11.546 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 235.1168ms 200 text/html; charset=utf-8
2020-07-10 11:28:11.549 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:28:11.549 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:28:11.551 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:28:11.568 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:28:11.568 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:28:11.592 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:28:11.594 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 289.9676ms
2020-07-10 11:28:11.594 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:28:11.594 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 297.264ms 200 image/jpeg
2020-07-10 11:28:11.602 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:28:11.611 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 307.0556ms
2020-07-10 11:28:11.611 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:28:11.611 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 314.0477ms 200 image/jpeg
2020-07-10 11:28:11.888 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:28:11.888 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 584.3223ms
2020-07-10 11:28:11.888 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:28:11.888 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 591.2655ms 200 image/jpeg
2020-07-10 11:29:03.722 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:29:04.006 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-10 11:29:04.048 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (32ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-10 11:29:04.070 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-10 11:29:04.248 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-10 11:29:04.370 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:29:04.373 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:29:04.411 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-10 11:29:04.411 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-10 11:29:04.411 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-10 11:29:04.430 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-10 11:29:04.439 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:29:04.440 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:29:04.441 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-10 11:29:04.460 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:29:04,1
2020-07-10 11:29:04.482 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:29:04.503 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:29:04.517 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:29:04.519 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:29:04.547 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:29:04.553 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:29:04.592 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (117ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:29:04.595 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:29:04,2
2020-07-10 11:29:04.595 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:29:04.599 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:29:04.602 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:29:04.610 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:29:04.626 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 11:29:04.761 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 135.0791ms.
2020-07-10 11:29:04.764 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 216.2924ms
2020-07-10 11:29:04.765 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:29:04.773 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 343.9618ms 200 text/html; charset=utf-8
2020-07-10 11:29:04.899 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-10 11:29:04.909 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.8402ms 404 
2020-07-10 11:29:04.949 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-10 11:29:04.968 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594369744847  
2020-07-10 11:29:04.977 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-10 11:29:04.978 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 28.8931ms 404 
2020-07-10 11:29:04.978 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:29:04.980 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:29:04.992 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-10 11:29:04.993 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 15.1466ms 200 image/x-icon
2020-07-10 11:29:05.004 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:29:05.025 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:29:05.027 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:29:05.030 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-10 11:29:05.098 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 69.283ms.
2020-07-10 11:29:05.098 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 93.8283ms
2020-07-10 11:29:05.098 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:29:05.098 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 129.7064ms 200 text/html; charset=utf-8
2020-07-10 11:29:19.972 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594369744848  
2020-07-10 11:29:19.977 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:29:19.978 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:29:19.982 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:29:19.985 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:29:20.053 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-10 11:29:20.099 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-10 11:29:20.142 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 43.4361ms.
2020-07-10 11:29:20.142 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 159.346ms
2020-07-10 11:29:20.142 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:29:20.142 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 170.4599ms 200 text/html; charset=utf-8
2020-07-10 11:29:20.158 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594369744849  
2020-07-10 11:29:20.158 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-10 11:29:20.159 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:29:20.159 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:29:20.159 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:29:20.160 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-10 11:29:20.161 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-10 11:29:20.162 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:29:20.162 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:29:20.165 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:29:20.165 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:29:20.167 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:29:20.167 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:29:20.167 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-10 11:29:20.169 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.4497ms.
2020-07-10 11:29:20.169 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 3.4086ms
2020-07-10 11:29:20.169 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:29:20.169 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.7551ms 200 text/html; charset=utf-8
2020-07-10 11:29:20.175 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:29:20.175 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:29:20.175 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:29:20.190 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:29:20.190 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:29:20.215 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:29:20.218 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 50.8682ms
2020-07-10 11:29:20.218 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:29:20.218 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 58.1026ms 200 image/jpeg
2020-07-10 11:29:20.223 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:29:20.238 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 71.0928ms
2020-07-10 11:29:20.238 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:29:20.238 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 77.8493ms 200 image/jpeg
2020-07-10 11:29:20.617 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:29:20.618 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 452.4192ms
2020-07-10 11:29:20.618 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:29:20.618 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 459.6902ms 200 image/jpeg
2020-07-10 11:30:04.504 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:30:04.513 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:30:04.519 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:30:04.521 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:30:04.524 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:30:04.524 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:30:04.527 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:30:04,1
2020-07-10 11:30:04.533 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:30:04.535 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:30:04.606 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (68ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:30:04.606 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:30:04,2
2020-07-10 11:30:04.609 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:30:11.819 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:30:12.069 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-10 11:30:12.102 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-10 11:30:12.116 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-10 11:30:12.276 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-10 11:30:12.382 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:30:12.384 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:30:12.418 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-10 11:30:12.418 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-10 11:30:12.418 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-10 11:30:12.432 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-10 11:30:12.438 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:30:12.441 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:30:12.443 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-10 11:30:12.455 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:30:12,1
2020-07-10 11:30:12.475 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:30:12.491 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:30:12.493 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:30:12.518 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (50ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:30:12.520 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:30:12,2
2020-07-10 11:30:12.523 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:30:12.548 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address1], [a].[Address2], [a].[City], [a].[CompanyId], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MenuType], [a].[NameSurname], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[ZipCode]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2020-07-10 11:30:12.578 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:30:12.583 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:30:12.620 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2020-07-10 11:30:12.654 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2020-07-10 11:30:12.664 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2020-07-10 11:30:12.675 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2020-07-10 11:30:12.684 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:30:12.685 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:30:12.703 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:30:12.711 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:30:12.736 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 11:30:12.847 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 111.7026ms.
2020-07-10 11:30:12.849 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 145.5199ms
2020-07-10 11:30:12.850 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:30:12.855 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 424.0207ms 200 text/html; charset=utf-8
2020-07-10 11:30:12.963 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-10 11:30:12.971 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 7.176ms 404 
2020-07-10 11:30:13.003 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-10 11:30:13.017 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594369812919  
2020-07-10 11:30:13.028 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 24.7436ms 404 
2020-07-10 11:30:13.028 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:30:13.031 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:30:13.031 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-10 11:30:13.045 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-10 11:30:13.046 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14.6394ms 200 image/x-icon
2020-07-10 11:30:13.049 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:30:13.067 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:30:13.067 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:30:13.070 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-10 11:30:13.133 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 63.9157ms.
2020-07-10 11:30:13.133 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 84.0591ms
2020-07-10 11:30:13.133 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:30:13.133 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 116.4341ms 200 text/html; charset=utf-8
2020-07-10 11:30:57.885 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594369812920  
2020-07-10 11:30:57.890 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:30:57.890 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:30:57.898 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:30:57.904 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:30:57.964 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-10 11:30:58.013 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-10 11:30:58.052 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 39.633ms.
2020-07-10 11:30:58.052 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 154.3951ms
2020-07-10 11:30:58.052 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:30:58.052 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 167.4697ms 200 text/html; charset=utf-8
2020-07-10 11:30:58.070 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594369812921  
2020-07-10 11:30:58.071 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-10 11:30:58.071 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:30:58.071 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-10 11:30:58.071 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:30:58.071 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:30:58.072 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:30:58.072 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-10 11:30:58.076 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:30:58.078 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:30:58.078 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:30:58.080 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-10 11:30:58.081 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:30:58.081 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:30:58.082 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.7253ms.
2020-07-10 11:30:58.082 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 4.359ms
2020-07-10 11:30:58.083 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:30:58.083 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 13.0178ms 200 text/html; charset=utf-8
2020-07-10 11:30:58.089 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:30:58.089 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:30:58.089 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:30:58.101 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:30:58.101 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:30:58.155 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:30:58.158 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:30:58.158 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 77.0301ms
2020-07-10 11:30:58.159 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:30:58.159 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 87.5397ms 200 image/jpeg
2020-07-10 11:30:58.170 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 88.5987ms
2020-07-10 11:30:58.170 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:30:58.170 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 97.365ms 200 image/jpeg
2020-07-10 11:30:58.579 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:30:58.579 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 501.1029ms
2020-07-10 11:30:58.579 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:30:58.579 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 508.6983ms 200 image/jpeg
2020-07-10 11:32:39.582 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:32:39.966 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-10 11:32:40.010 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-10 11:32:40.065 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-10 11:32:40.267 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-10 11:32:40.530 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:32:40.551 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:32:40.707 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-10 11:32:40.709 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-10 11:32:40.712 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-10 11:32:40.742 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:32:40.749 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:32:40.755 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-10 11:32:40.774 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:32:40,1
2020-07-10 11:32:40.775 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-10 11:32:40.795 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:32:40.828 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:32:40.872 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-10 11:32:40.913 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-10 11:32:40.941 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (130ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:32:40.955 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:32:40,2
2020-07-10 11:32:40.984 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:32:41.003 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 11:32:41.060 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:32:41.070 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:32:41.205 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 205.3955ms.
2020-07-10 11:32:41.210 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 294.0141ms
2020-07-10 11:32:41.214 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-10 11:32:41.221 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 465.342ms 200 text/html; charset=utf-8
2020-07-10 11:32:41.317 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/slide11.jpg  
2020-07-10 11:32:41.320 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/slide10.jpg  
2020-07-10 11:32:41.330 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/slide10.jpg was not modified
2020-07-10 11:32:41.332 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/slide11.jpg was not modified
2020-07-10 11:32:41.338 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 20.2637ms 304 image/jpeg
2020-07-10 11:32:41.340 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 20.2633ms 304 image/jpeg
2020-07-10 11:32:41.352 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/slide12.jpg  
2020-07-10 11:32:41.354 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/circle2.jpg  
2020-07-10 11:32:41.373 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/slide12.jpg was not modified
2020-07-10 11:32:41.359 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/pict2_500x500.jpg  
2020-07-10 11:32:41.378 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/circle2.jpg was not modified
2020-07-10 11:32:41.361 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/pict1_500x500.jpg  
2020-07-10 11:32:41.356 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/circle1.jpg  
2020-07-10 11:32:41.380 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/circle3.jpg  
2020-07-10 11:32:41.383 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 26.9163ms 304 image/jpeg
2020-07-10 11:32:41.385 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/pict2_500x500.jpg was not modified
2020-07-10 11:32:41.388 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/pict1_500x500.jpg was not modified
2020-07-10 11:32:41.392 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 31.6369ms 304 image/jpeg
2020-07-10 11:32:41.394 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 33.3892ms 304 image/jpeg
2020-07-10 11:32:41.396 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/circle1.jpg was not modified
2020-07-10 11:32:41.399 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 37.0386ms 304 image/jpeg
2020-07-10 11:32:41.401 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/pict3_500x500.jpg  
2020-07-10 11:32:41.403 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 44.499ms 304 image/jpeg
2020-07-10 11:32:41.406 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/pict3_500x500.jpg was not modified
2020-07-10 11:32:41.411 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/circle3.jpg was not modified
2020-07-10 11:32:41.415 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 25.7ms 304 image/jpeg
2020-07-10 11:32:41.417 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 60.3185ms 304 image/jpeg
2020-07-10 11:33:08.731 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:33:09.164 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-10 11:33:09.206 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (29ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-10 11:33:09.258 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-10 11:33:09.509 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-10 11:33:09.858 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:33:09.869 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:33:09.952 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-10 11:33:09.954 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-10 11:33:09.956 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-10 11:33:09.958 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:33:10.006 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:33:10.028 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:33:10,1
2020-07-10 11:33:10.036 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-10 11:33:10.036 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-10 11:33:10.055 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-10 11:33:10.068 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:33:10.100 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:33:10.195 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-10 11:33:10.206 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:33:10.209 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:33:10.242 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (182ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:33:10.250 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:33:10,2
2020-07-10 11:33:10.253 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:33:10.279 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:33:10.283 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-10 11:33:10.289 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:33:10.310 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 11:33:10.344 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:33:10.350 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (17ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:33:10.367 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:33:10.387 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 11:33:10.541 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 147.3703ms.
2020-07-10 11:33:10.541 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 230.3841ms.
2020-07-10 11:33:10.545 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 258.4388ms
2020-07-10 11:33:10.553 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-10 11:33:10.559 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 300.4015ms
2020-07-10 11:33:10.566 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:33:10.576 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 543.6627ms 200 text/html; charset=utf-8
2020-07-10 11:33:10.581 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 547.5088ms 200 text/html; charset=utf-8
2020-07-10 11:33:10.809 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-10 11:33:10.891 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 47.9818ms 404 
2020-07-10 11:33:10.933 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-10 11:33:10.942 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-10 11:33:10.953 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594369990685  
2020-07-10 11:33:10.958 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 51.4255ms 404 
2020-07-10 11:33:10.975 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:33:10.980 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:33:11.035 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:33:11.044 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-10 11:33:11.051 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 118.8031ms 200 image/x-icon
2020-07-10 11:33:11.066 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:33:11.075 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:33:11.080 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-10 11:33:11.446 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 365.5639ms.
2020-07-10 11:33:11.457 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 411.6718ms
2020-07-10 11:33:11.460 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:33:11.464 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 523.0613ms 200 text/html; charset=utf-8
2020-07-10 11:33:14.010 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594369990686  
2020-07-10 11:33:14.020 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:33:14.023 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:33:14.036 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:33:14.043 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:33:14.131 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-10 11:33:14.181 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-10 11:33:14.235 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 54.7221ms.
2020-07-10 11:33:14.238 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 199.1414ms
2020-07-10 11:33:14.240 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:33:14.243 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 234.5341ms 200 text/html; charset=utf-8
2020-07-10 11:33:14.254 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-10 11:33:14.258 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-10 11:33:14.262 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-10 11:33:14.266 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:33:14.268 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:33:14.272 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:33:14.275 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594369990687  
2020-07-10 11:33:14.279 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:33:14.285 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:33:14.291 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:33:14.294 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:33:14.296 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:33:14.340 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:33:14.372 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-10 11:33:14.387 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 34.4976ms.
2020-07-10 11:33:14.399 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 47.5449ms
2020-07-10 11:33:14.405 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:33:14.409 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 132.4958ms 200 text/html; charset=utf-8
2020-07-10 11:33:14.416 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:33:14.421 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:33:14.424 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:33:14.466 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:33:14.471 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:33:14.508 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:33:14.521 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 217.7251ms
2020-07-10 11:33:14.524 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:33:14.527 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 273.1768ms 200 image/jpeg
2020-07-10 11:33:14.532 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:33:14.555 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 255.7727ms
2020-07-10 11:33:14.557 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:33:14.560 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 301.7378ms 200 image/jpeg
2020-07-10 11:33:14.924 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:33:14.927 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 633.5892ms
2020-07-10 11:33:14.931 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:33:14.934 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 679.3465ms 200 image/jpeg
2020-07-10 11:33:17.842 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/ application/x-www-form-urlencoded; charset=UTF-8 154
2020-07-10 11:33:17.849 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-10 11:33:17.854 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-10 11:33:17.882 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 11:33:17.889 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 9.0207ms.
2020-07-10 11:33:17.894 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 34.63ms
2020-07-10 11:33:17.900 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-10 11:33:17.904 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 65.5477ms 200 text/html; charset=utf-8
2020-07-10 11:34:08.000 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:34:08.381 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-10 11:34:08.419 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-10 11:34:08.460 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-10 11:34:08.656 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-10 11:34:08.944 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:34:08.962 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:34:09.029 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-10 11:34:09.032 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-10 11:34:09.035 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-10 11:34:09.051 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:34:09.056 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:34:09.068 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-10 11:34:09.079 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:34:09,1
2020-07-10 11:34:09.090 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-10 11:34:09.107 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:34:09.134 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:34:09.212 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-10 11:34:09.242 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (140ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:34:09.269 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:34:09,2
2020-07-10 11:34:09.294 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:34:09.309 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-10 11:34:09.340 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 11:34:09.406 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:34:09.417 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:34:09.535 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 198.8381ms.
2020-07-10 11:34:09.538 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 226.3248ms
2020-07-10 11:34:09.541 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-10 11:34:09.548 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 480.6409ms 200 text/html; charset=utf-8
2020-07-10 11:34:13.379 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-10 11:34:13.401 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:34:13.405 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:34:13.421 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:34:13.431 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:34:13.441 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:34:13.470 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 11:34:13.483 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 14.6828ms.
2020-07-10 11:34:13.488 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 63.8641ms
2020-07-10 11:34:13.491 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:34:13.499 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 120.9338ms 200 text/html; charset=utf-8
2020-07-10 11:34:13.652 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-10 11:34:13.690 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 35.7585ms 404 
2020-07-10 11:34:13.702 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-10 11:34:13.712 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594370053567  
2020-07-10 11:34:13.718 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-10 11:34:13.720 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 19.0511ms 404 
2020-07-10 11:34:13.725 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:34:13.734 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:34:13.754 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:34:13.754 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-10 11:34:13.759 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 46.9131ms 200 image/x-icon
2020-07-10 11:34:13.775 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:34:13.781 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:34:13.789 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-10 11:34:13.869 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 80.7452ms.
2020-07-10 11:34:13.871 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 115.1759ms
2020-07-10 11:34:13.873 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:34:13.876 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 178.1182ms 200 text/html; charset=utf-8
2020-07-10 11:34:14.824 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594370053568  
2020-07-10 11:34:14.832 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:34:14.835 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:34:14.846 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:34:14.854 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:34:14.938 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-10 11:34:14.990 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-10 11:34:15.041 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 52.277ms.
2020-07-10 11:34:15.044 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 195.2528ms
2020-07-10 11:34:15.047 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:34:15.049 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 225.4452ms 200 text/html; charset=utf-8
2020-07-10 11:34:15.059 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-10 11:34:15.062 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-10 11:34:15.065 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-10 11:34:15.069 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:34:15.073 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:34:15.079 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:34:15.082 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594370053569  
2020-07-10 11:34:15.086 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:34:15.089 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:34:15.099 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:34:15.105 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:34:15.109 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:34:15.119 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:34:15.136 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-10 11:34:15.154 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 17.0117ms.
2020-07-10 11:34:15.156 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 33.5574ms
2020-07-10 11:34:15.160 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:34:15.164 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 80.9034ms 200 text/html; charset=utf-8
2020-07-10 11:34:15.168 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:34:15.170 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:34:15.172 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:34:15.198 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:34:15.200 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:34:15.230 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:34:15.269 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 149.6942ms
2020-07-10 11:34:15.276 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:34:15.281 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 217.5299ms 200 image/jpeg
2020-07-10 11:34:15.291 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:37:55.006 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:37:55.607 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (48ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-10 11:37:55.676 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (49ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-10 11:37:55.743 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-10 11:37:55.979 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-10 11:37:56.376 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:37:56.400 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:37:56.530 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-10 11:37:56.532 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-10 11:37:56.537 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:37:56.539 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-10 11:37:56.601 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:37:56.664 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-10 11:37:56.680 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-10 11:37:56.686 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:37:56,1
2020-07-10 11:37:56.748 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-10 11:37:56.752 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:37:56.899 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:37:56.990 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-10 11:37:56.997 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:37:57.000 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:37:57.020 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (293ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:37:57.060 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:37:57,2
2020-07-10 11:37:57.072 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:37:57.089 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:37:57.124 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-10 11:37:57.134 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:37:57.177 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 11:37:57.265 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:37:57.295 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (17ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:37:57.315 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:37:57.328 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 11:37:57.489 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 156.0679ms.
2020-07-10 11:37:57.489 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 321.8657ms.
2020-07-10 11:37:57.501 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 365.3315ms
2020-07-10 11:37:57.509 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 402.5388ms
2020-07-10 11:37:57.561 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-10 11:37:57.664 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:37:57.741 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1030.1434ms 200 text/html; charset=utf-8
2020-07-10 11:37:57.758 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1028.5044ms 200 text/html; charset=utf-8
2020-07-10 11:37:58.463 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-10 11:37:58.632 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-10 11:37:58.700 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-10 11:37:58.709 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594370277851  
2020-07-10 11:37:58.747 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-10 11:37:58.752 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 302.001ms 200 image/x-icon
2020-07-10 11:37:58.761 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:37:58.773 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 315.7581ms 404 
2020-07-10 11:37:58.774 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 471.3133ms 404 
2020-07-10 11:37:58.785 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:37:58.804 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:37:58.825 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:37:58.831 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:37:58.842 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-10 11:37:58.933 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 93.867ms.
2020-07-10 11:37:58.937 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 130.0934ms
2020-07-10 11:37:58.940 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:37:58.943 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 238.297ms 200 text/html; charset=utf-8
2020-07-10 11:38:00.583 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594370277852  
2020-07-10 11:38:00.589 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:38:00.593 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:38:00.607 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:38:00.614 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:38:00.711 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-10 11:38:00.766 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-10 11:38:00.822 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 56.967ms.
2020-07-10 11:38:00.826 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 215.2183ms
2020-07-10 11:38:00.828 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:38:00.831 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 248.9719ms 200 text/html; charset=utf-8
2020-07-10 11:38:00.858 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594370277853  
2020-07-10 11:38:00.862 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-10 11:38:00.888 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-10 11:38:00.891 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-10 11:38:00.894 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:38:00.897 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:38:00.904 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:38:00.905 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:38:00.909 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:38:00.917 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:38:00.921 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:38:00.925 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:38:00.928 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:38:00.932 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-10 11:38:00.956 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 23.5624ms.
2020-07-10 11:38:00.961 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 36.6756ms
2020-07-10 11:38:00.964 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:38:00.970 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 110.652ms 200 text/html; charset=utf-8
2020-07-10 11:38:00.991 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:38:00.994 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:38:00.996 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:38:01.026 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:38:01.029 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:38:01.087 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:38:01.097 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 164.3966ms
2020-07-10 11:38:01.107 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:38:01.112 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 249.1149ms 200 image/jpeg
2020-07-10 11:38:01.119 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:38:01.160 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 228.9947ms
2020-07-10 11:38:01.166 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:38:01.174 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 306.1519ms 200 image/jpeg
2020-07-10 11:38:01.563 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:38:01.567 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 642.6401ms
2020-07-10 11:38:01.570 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:38:01.574 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 711.955ms 200 image/jpeg
2020-07-10 11:38:19.688 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-10 11:38:19.700 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:38:19.705 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:38:19.726 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:38:19.733 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:38:19.741 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:38:19.748 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 11:38:19.761 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 13.6638ms.
2020-07-10 11:38:19.764 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 34.9462ms
2020-07-10 11:38:19.767 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:38:19.770 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 85.1922ms 200 text/html; charset=utf-8
2020-07-10 11:38:19.913 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-10 11:38:19.920 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.4268ms 404 
2020-07-10 11:38:19.941 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-10 11:38:19.954 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.4485ms 404 
2020-07-10 11:38:19.961 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594370299838  
2020-07-10 11:38:19.966 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:38:19.970 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:38:19.973 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-10 11:38:19.977 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:38:19.987 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-10 11:38:19.993 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 17.3103ms 200 image/x-icon
2020-07-10 11:38:19.997 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:38:20.004 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:38:20.009 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-10 11:38:20.020 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 12.0334ms.
2020-07-10 11:38:20.023 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 43.2032ms
2020-07-10 11:38:20.025 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:38:20.029 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 69.8635ms 200 text/html; charset=utf-8
2020-07-10 11:38:21.400 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594370299839  
2020-07-10 11:38:21.406 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:38:21.409 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:38:21.412 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:38:21.417 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:38:21.422 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-10 11:38:21.428 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-10 11:38:21.435 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 7.5426ms.
2020-07-10 11:38:21.438 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 23.1428ms
2020-07-10 11:38:21.443 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:38:21.446 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 47.166ms 200 text/html; charset=utf-8
2020-07-10 11:38:21.456 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-10 11:38:21.460 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-10 11:38:21.463 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-10 11:38:21.466 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:38:21.470 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:38:21.473 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:38:21.477 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:38:21.482 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594370299840  
2020-07-10 11:38:21.486 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:38:21.489 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:38:21.493 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:38:21.498 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:38:21.501 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:38:21.503 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:38:21.506 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:38:21.511 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:38:21.517 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-10 11:38:21.521 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:38:21.527 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 7.8641ms.
2020-07-10 11:38:21.532 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:38:21.536 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 16.6093ms
2020-07-10 11:38:21.539 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:38:21.547 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:38:21.552 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 49.6148ms
2020-07-10 11:38:21.554 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 74.9139ms 200 text/html; charset=utf-8
2020-07-10 11:38:21.557 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:38:21.585 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 104.1638ms 200 image/jpeg
2020-07-10 11:38:21.623 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:38:21.632 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 143.1958ms
2020-07-10 11:38:21.636 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:38:21.639 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 179.5246ms 200 image/jpeg
2020-07-10 11:38:21.755 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:38:21.761 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 277.0511ms
2020-07-10 11:38:21.764 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:38:21.767 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 310.8994ms 200 image/jpeg
2020-07-10 11:38:35.947 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:38:36.442 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-10 11:38:36.476 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-10 11:38:36.519 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-10 11:38:36.696 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-10 11:38:36.943 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:38:36.961 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:38:37.034 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-10 11:38:37.037 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-10 11:38:37.040 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-10 11:38:37.066 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:38:37.073 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:38:37.085 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-10 11:38:37.094 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:38:37,1
2020-07-10 11:38:37.104 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-10 11:38:37.119 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:38:37.153 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:38:37.200 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (70ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:38:37.209 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:38:37,2
2020-07-10 11:38:37.215 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:38:37.223 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-10 11:38:37.259 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-10 11:38:37.283 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 11:38:37.321 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:38:37.332 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:38:37.480 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 199.0977ms.
2020-07-10 11:38:37.483 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 221.7061ms
2020-07-10 11:38:37.487 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-10 11:38:37.493 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 408.5469ms 200 text/html; charset=utf-8
2020-07-10 11:38:49.923 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-10 11:38:49.942 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:38:49.945 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:38:49.961 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:38:49.968 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:38:49.986 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:38:50.020 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 11:38:50.035 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 14.5718ms.
2020-07-10 11:38:50.040 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 76.7063ms
2020-07-10 11:38:50.043 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:38:50.049 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 126.0252ms 200 text/html; charset=utf-8
2020-07-10 11:38:50.179 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-10 11:38:50.230 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 50.7927ms 404 
2020-07-10 11:38:50.268 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-10 11:38:50.278 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.802ms 404 
2020-07-10 11:38:50.285 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594370330116  
2020-07-10 11:38:50.291 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:38:50.294 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-10 11:38:50.296 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:38:50.316 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:38:50.337 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-10 11:38:50.341 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 47.1162ms 200 image/x-icon
2020-07-10 11:38:50.351 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:38:50.356 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:38:50.365 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-10 11:38:50.457 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 95.0723ms.
2020-07-10 11:38:50.460 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 141.1555ms
2020-07-10 11:38:50.463 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:38:50.468 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 185.5591ms 200 text/html; charset=utf-8
2020-07-10 11:38:51.640 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594370330117  
2020-07-10 11:38:51.647 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:38:51.650 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:38:51.659 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:38:51.665 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:38:51.753 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-10 11:38:51.809 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-10 11:38:51.854 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 46.0383ms.
2020-07-10 11:38:51.858 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 195.7648ms
2020-07-10 11:38:51.860 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:38:51.863 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 223.4653ms 200 text/html; charset=utf-8
2020-07-10 11:38:51.874 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-10 11:38:51.877 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-10 11:38:51.881 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-10 11:38:51.886 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:38:51.889 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:38:51.894 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:38:51.896 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594370330118  
2020-07-10 11:38:51.902 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:38:51.906 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:38:51.913 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:38:51.920 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:38:51.925 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:38:51.928 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:38:51.933 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-10 11:38:51.947 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 15.5912ms.
2020-07-10 11:38:51.953 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 22.5781ms
2020-07-10 11:38:51.958 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:38:51.961 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 66.0024ms 200 text/html; charset=utf-8
2020-07-10 11:38:51.988 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:38:51.992 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:38:51.994 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:38:52.034 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:38:52.039 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:38:52.081 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:38:52.090 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 158.9597ms
2020-07-10 11:38:52.095 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:38:52.099 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 223.8355ms 200 image/jpeg
2020-07-10 11:38:52.110 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:38:52.134 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 214.9837ms
2020-07-10 11:38:52.138 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:38:52.143 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 264.0503ms 200 image/jpeg
2020-07-10 11:43:27.036 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:43:27.408 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-10 11:43:27.446 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-10 11:43:27.488 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-10 11:43:27.668 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-10 11:43:27.911 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:43:27.927 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:43:27.993 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-10 11:43:27.995 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-10 11:43:27.997 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-10 11:43:28.020 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:43:28.027 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:43:28.036 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-10 11:43:28.054 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:43:28,1
2020-07-10 11:43:28.056 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-10 11:43:28.079 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:43:28.112 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:43:28.160 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-10 11:43:28.215 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (144ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:43:28.241 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-10 11:43:28.244 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:43:28,2
2020-07-10 11:43:28.252 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:43:28.278 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 11:43:28.323 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:43:28.333 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:43:28.456 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 181.5723ms.
2020-07-10 11:43:28.460 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 216.2177ms
2020-07-10 11:43:28.462 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-10 11:43:28.469 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 433.4135ms 200 text/html; charset=utf-8
2020-07-10 11:44:02.227 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Complex/EditModal application/x-www-form-urlencoded; charset=UTF-8 164
2020-07-10 11:44:02.260 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:44:02.265 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:44:02.344 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Complex, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[CateringPro.Models.ItemsLine]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:44:29.340 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-10 11:44:29.342 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-10 11:44:29.348 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:44:29.363 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:44:29.365 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:44:29.368 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:44:29.370 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:44:29.377 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:44:29.379 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:44:29.383 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:44:29.385 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:44:29.397 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:44:29.399 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:44:29.431 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 11:44:29.433 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-10 11:44:29.445 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 14.1769ms.
2020-07-10 11:44:29.447 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 15.1209ms.
2020-07-10 11:44:29.450 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 69.1923ms
2020-07-10 11:44:29.452 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 70.5576ms
2020-07-10 11:44:29.456 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:44:29.458 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-10 11:44:29.465 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 122.2705ms 200 text/html; charset=utf-8
2020-07-10 11:44:29.469 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 124.4337ms 200 text/html; charset=utf-8
2020-07-10 11:44:29.633 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-10 11:44:29.645 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 13.9666ms 404 
2020-07-10 11:44:29.647 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Complex] ([CompanyId], [DishesQuantity], [Name], [Price])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Complex]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2020-07-10 11:44:29.698 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-10 11:44:29.708 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.4031ms 404 
2020-07-10 11:44:29.726 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594370669570  
2020-07-10 11:44:29.740 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-10 11:44:29.745 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:44:29.753 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:44:29.768 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:44:29.778 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:44:29.789 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:44:29.790 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-10 11:44:29.794 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 57.6003ms 200 image/x-icon
2020-07-10 11:44:29.799 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-10 11:44:29.814 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__complex_Id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId]
FROM [DishComplex] AS [d]
WHERE ([d].[CompanyId] = @__companyId_0) AND ([d].[ComplexId] = @__complex_Id_1)
2020-07-10 11:44:29.828 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-07-10 11:44:29.844 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 27497.0311ms
2020-07-10 11:44:29.847 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:44:29.849 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 27623.5761ms 200 application/json; charset=utf-8
2020-07-10 11:44:29.892 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 95.5082ms.
2020-07-10 11:44:29.894 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 121.6996ms
2020-07-10 11:44:29.896 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:44:29.898 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 178.9821ms 200 text/html; charset=utf-8
2020-07-10 11:44:38.014 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/Delete/3  
2020-07-10 11:44:38.023 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:44:38.027 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Delete (CateringPro)'
2020-07-10 11:44:38.043 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Delete", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:44:38.047 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Delete.
2020-07-10 11:44:38.056 +03:00 [Error] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: The view 'Delete' was not found. Searched locations: /Views/Complex/Delete.uk.cshtml, /Views/Complex/Delete.cshtml, /Views/Shared/Delete.uk.cshtml, /Views/Shared/Delete.cshtml, /Pages/Shared/Delete.uk.cshtml, /Pages/Shared/Delete.cshtml
2020-07-10 11:44:38.063 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Delete (CateringPro) in 17.4955ms
2020-07-10 11:44:38.067 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Delete (CateringPro)'
2020-07-10 11:44:38.134 +03:00 [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Delete' was not found. The following locations were searched:
/Views/Complex/Delete.uk.cshtml
/Views/Complex/Delete.cshtml
/Views/Shared/Delete.uk.cshtml
/Views/Shared/Delete.cshtml
/Pages/Shared/Delete.uk.cshtml
/Pages/Shared/Delete.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-07-10 11:44:38.169 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 158.8024ms 500 text/html; charset=utf-8
2020-07-10 11:44:43.870 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-10 11:44:43.886 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.355ms 404 
2020-07-10 11:44:43.931 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-10 11:44:43.941 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.6289ms 404 
2020-07-10 11:44:43.955 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594370683799  
2020-07-10 11:44:43.963 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:44:43.970 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:44:43.975 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:44:43.986 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:44:43.993 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:44:44.002 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-10 11:44:44.016 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 12.7838ms.
2020-07-10 11:44:44.019 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 41.2132ms
2020-07-10 11:44:44.022 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:44:44.024 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 70.5262ms 200 text/html; charset=utf-8
2020-07-10 11:45:29.321 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:45:29.325 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:45:29.330 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-10 11:45:29.334 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:45:29.336 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:45:29.341 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:45:29,1
2020-07-10 11:45:29.346 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-10 11:45:29.354 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:45:29.363 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-10 11:45:29.437 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (75ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:45:29.441 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/10/2020 11:45:29,2
2020-07-10 11:45:29.447 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-10 11:47:33.532 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-10 11:47:33.542 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.9256ms 404 
2020-07-10 11:47:33.588 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-10 11:47:33.596 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 6.2466ms 404 
2020-07-10 11:47:33.614 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/ListItems?searchcriteria=&_=1594370853466  
2020-07-10 11:47:33.620 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.ListItems (CateringPro)'
2020-07-10 11:47:33.632 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-10 11:47:33.646 +03:00 [Warning] CateringPro.Models.CompanyUser: Dish Controllers  - ListItems User.GetCompanyID() 1 
2020-07-10 11:47:33.648 +03:00 [Warning] CateringPro.Models.CompanyUser: ListItems pageRecords 20 
2020-07-10 11:47:33.652 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:47:33.670 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name]
FROM [Categories] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:47:33.810 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-10 11:47:33.877 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-10 11:47:33.986 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 109.759ms.
2020-07-10 11:47:33.990 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.ListItems (CateringPro) in 354.5124ms
2020-07-10 11:47:33.993 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.ListItems (CateringPro)'
2020-07-10 11:47:33.995 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 382.7947ms 200 text/html; charset=utf-8
2020-07-10 11:47:34.010 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-10 11:47:34.013 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-10 11:47:34.015 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-10 11:47:34.017 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:47:34.026 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:47:34.029 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:47:34.034 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:47:34.040 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:47:34.043 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:47:34.067 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:47:34.070 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:47:34.073 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:47:34.100 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:47:34.122 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:47:34.179 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:47:34.195 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 157.3922ms
2020-07-10 11:47:34.198 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:47:34.202 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 192.3959ms 200 image/jpeg
2020-07-10 11:47:34.207 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:47:34.231 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 184.7531ms
2020-07-10 11:47:34.234 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:47:34.238 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 223.6459ms 200 image/jpeg
2020-07-10 11:47:34.612 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-10 11:47:34.620 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 4.1871ms 404 
2020-07-10 11:47:34.641 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:47:34.647 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 604.7223ms
2020-07-10 11:47:34.657 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:47:34.662 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 646.7368ms 0 image/jpeg
2020-07-10 11:47:34.671 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594370854532  
2020-07-10 11:47:34.679 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:47:34.682 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:47:34.685 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:47:34.688 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-10 11:47:34.693 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:47:34.695 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.1335ms 404 
2020-07-10 11:47:34.701 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-10 11:47:34.705 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-10 11:47:34.723 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 16.3003ms.
2020-07-10 11:47:34.726 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 37.2057ms
2020-07-10 11:47:34.728 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-10 11:47:34.731 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 60.7623ms 200 text/html; charset=utf-8
2020-07-10 11:47:36.273 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594370854533  
2020-07-10 11:47:36.280 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:47:36.282 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:47:36.301 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:47:36.313 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:47:36.348 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-10 11:47:36.362 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-10 11:47:36.413 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 51.151ms.
2020-07-10 11:47:36.416 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 111.8158ms
2020-07-10 11:47:36.419 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-10 11:47:36.424 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 150.9656ms 200 text/html; charset=utf-8
2020-07-10 11:47:36.454 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594370854534  
2020-07-10 11:47:36.462 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-10 11:47:36.465 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-10 11:47:36.467 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-10 11:47:36.476 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:47:36.481 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-10 11:47:36.484 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:47:36.487 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:47:36.494 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:47:36.498 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:47:36.500 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:47:36.503 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-10 11:47:36.510 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:47:36.514 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:47:36.517 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-10 11:47:36.529 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:47:36.532 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-10 11:47:36.536 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:47:36.547 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-10 11:47:36.558 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 39.2815ms
2020-07-10 11:47:36.566 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:47:36.593 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 111.764ms 200 image/jpeg
2020-07-10 11:47:36.606 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-10 11:47:36.621 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 21.3497ms.
2020-07-10 11:47:36.627 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 69.259ms
2020-07-10 11:47:36.633 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-10 11:47:36.637 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 182.9532ms 200 text/html; charset=utf-8
2020-07-10 11:47:36.649 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:47:36.657 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 153.009ms
2020-07-10 11:47:36.662 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:47:36.665 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 207.6444ms 200 image/jpeg
2020-07-10 11:47:36.789 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-10 11:47:36.793 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 288.8634ms
2020-07-10 11:47:36.796 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-10 11:47:36.798 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 341.6651ms 200 image/jpeg
