2019-11-28 13:17:16.309 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Complex'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:17:16.327 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'InitialQuantity' on entity type 'Consignment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:17:16.329 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Consignment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:17:16.333 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Quantity' on entity type 'Consignment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:17:16.336 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:17:16.361 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'ReadyWeight' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:17:16.364 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Proportion' on entity type 'DishIngredients'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:17:16.368 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Amount' on entity type 'DocLines'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:17:16.370 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'DocLines'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:17:16.372 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Quantity' on entity type 'DocLines'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:17:16.375 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Amount' on entity type 'Docs'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:17:16.377 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'AvgPrice' on entity type 'Ingredients'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:17:16.380 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'StockValue' on entity type 'Ingredients'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:17:16.383 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Pizzas'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:17:16.386 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Total' on entity type 'UserDay'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:17:16.388 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'TotalPaid' on entity type 'UserDay'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:17:16.390 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'UserDayComplex'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:17:16.392 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'UserDayDish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:17:16.448 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:17:17.754 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2019-11-28 13:17:18.061 +02:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-11-28 13:17:18.448 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2019-11-28 13:17:19.192 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 13:17:19.203 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:17:19.325 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 13:17:19.368 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 13:17:19.475 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 13:17:19,1
2019-11-28 13:17:19.523 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:17:19.588 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 13:17:19.623 +02:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2019-11-28 13:17:19.648 +02:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2019-11-28 13:17:19.655 +02:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2019-11-28 13:17:19.670 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 13:17:19.706 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-11-28 13:17:19.729 +02:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2019-11-28 13:17:19.846 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2019-11-28 13:17:19.882 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 13:17:19,2
2019-11-28 13:17:19.887 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 13:17:19.909 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 13:17:19.925 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2019-11-28 13:17:20.019 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-11-28 13:17:20.204 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2019-11-28 13:17:20.266 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2019-11-28 13:17:20.284 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2019-11-28 13:17:20.297 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 13:17:20.450 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 438.5445ms.
2019-11-28 13:17:20.455 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 525.8393ms
2019-11-28 13:17:20.474 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2019-11-28 13:17:20.481 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/font-awesome/css/font-awesome.css  
2019-11-28 13:17:20.486 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css  
2019-11-28 13:17:20.500 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css  
2019-11-28 13:17:20.504 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap-duallistbox.css  
2019-11-28 13:17:20.508 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/carousel.css  
2019-11-28 13:17:20.516 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 808.8465ms 200 text/html; charset=utf-8
2019-11-28 13:17:20.548 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/lib/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\lib\awesome-bootstrap-checkbox\awesome-bootstrap-checkbox.css'
2019-11-28 13:17:20.556 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/css/bootstrap-duallistbox.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\css\bootstrap-duallistbox.css'
2019-11-28 13:17:20.564 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 77.10470000000001ms 200 text/css
2019-11-28 13:17:20.592 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 67.0156ms 200 text/css
2019-11-28 13:17:20.598 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/css/carousel.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\css\carousel.css'
2019-11-28 13:17:20.609 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 126.79440000000001ms 200 text/css
2019-11-28 13:17:20.644 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/css/bootstrap.min.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\css\bootstrap.min.css'
2019-11-28 13:17:20.648 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/jquery.bootstrap-duallistbox.js  
2019-11-28 13:17:20.651 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/jquery-ui.css  
2019-11-28 13:17:20.655 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/site.css  
2019-11-28 13:17:20.658 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/lib/font-awesome/css/font-awesome.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\lib\font-awesome\css\font-awesome.css'
2019-11-28 13:17:20.661 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js  
2019-11-28 13:17:20.671 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 187.7187ms 200 text/css
2019-11-28 13:17:20.681 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 186.1981ms 200 text/css
2019-11-28 13:17:20.694 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\css\site.css'
2019-11-28 13:17:20.699 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/css/jquery-ui.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\css\jquery-ui.css'
2019-11-28 13:17:20.702 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/jquery-ui.js  
2019-11-28 13:17:20.706 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 58.3171ms 200 text/css
2019-11-28 13:17:20.710 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 53.8644ms 200 text/css
2019-11-28 13:17:20.716 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/slide10.jpg  
2019-11-28 13:17:20.721 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/js/jquery.bootstrap-duallistbox.js'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\js\jquery.bootstrap-duallistbox.js'
2019-11-28 13:17:20.724 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/site.js?v=WvUmlE8e_VDlPeR0g6h9Y5zTmjvT0eIH_AR_uNfWDd4  
2019-11-28 13:17:20.732 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 83.08760000000001ms 200 application/javascript
2019-11-28 13:17:20.751 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/jquery.min.js  
2019-11-28 13:17:20.757 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\js\site.js'
2019-11-28 13:17:20.803 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/slide11.jpg  
2019-11-28 13:17:20.824 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 44.8543ms 200 application/javascript
2019-11-28 13:17:20.839 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/js/bootstrap.min.js'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\js\bootstrap.min.js'
2019-11-28 13:17:20.844 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/images/slide10.jpg'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\images\slide10.jpg'
2019-11-28 13:17:20.852 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 202.6952ms 200 application/javascript
2019-11-28 13:17:20.866 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 157.417ms 200 image/jpeg
2019-11-28 13:17:20.873 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/slide12.jpg  
2019-11-28 13:17:20.875 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/circle1.jpg  
2019-11-28 13:17:20.887 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/images/slide11.jpg'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\images\slide11.jpg'
2019-11-28 13:17:20.891 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/circle3.jpg  
2019-11-28 13:17:20.894 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 137.12900000000002ms 200 image/jpeg
2019-11-28 13:17:20.907 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/images/slide12.jpg'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\images\slide12.jpg'
2019-11-28 13:17:20.913 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/images/circle1.jpg'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\images\circle1.jpg'
2019-11-28 13:17:20.920 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/circle2.jpg  
2019-11-28 13:17:20.927 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 48.771300000000004ms 200 image/jpeg
2019-11-28 13:17:20.933 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 42.5707ms 200 image/jpeg
2019-11-28 13:17:20.941 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/images/circle3.jpg'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\images\circle3.jpg'
2019-11-28 13:17:20.946 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/js/jquery.min.js'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\js\jquery.min.js'
2019-11-28 13:17:20.950 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/pict1_500x500.jpg  
2019-11-28 13:17:20.960 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 70.5489ms 200 image/jpeg
2019-11-28 13:17:20.971 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 215.02020000000002ms 200 application/javascript
2019-11-28 13:17:20.980 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/pict2_500x500.jpg  
2019-11-28 13:17:20.985 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/images/circle2.jpg'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\images\circle2.jpg'
2019-11-28 13:17:21.005 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js  
2019-11-28 13:17:21.015 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 79.2656ms 200 image/jpeg
2019-11-28 13:17:21.018 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/pict3_500x500.jpg  
2019-11-28 13:17:21.039 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/images/pict1_500x500.jpg'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\images\pict1_500x500.jpg'
2019-11-28 13:17:21.043 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/jquery-validation/dist/jquery.validate.js  
2019-11-28 13:17:21.050 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 95.4842ms 200 image/jpeg
2019-11-28 13:17:21.059 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2019-11-28 13:17:21.074 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 75.7719ms 200 application/javascript
2019-11-28 13:17:21.083 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/images/pict3_500x500.jpg'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\images\pict3_500x500.jpg'
2019-11-28 13:17:21.086 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 78.99980000000001ms 200 image/jpeg
2019-11-28 13:17:21.091 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/images/pict2_500x500.jpg'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\images\pict2_500x500.jpg'
2019-11-28 13:17:21.094 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\lib\jquery-validation\dist\jquery.validate.js'
2019-11-28 13:17:21.096 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 132.3554ms 200 image/jpeg
2019-11-28 13:17:21.100 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 68.4127ms 200 application/javascript
2019-11-28 13:17:21.969 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/js/jquery-ui.js'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\js\jquery-ui.js'
2019-11-28 13:17:21.972 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1280.5029ms 200 application/javascript
2019-11-28 13:17:27.017 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Account/LoginModal  
2019-11-28 13:17:27.025 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.AccountController.LoginModal (CateringPro)'
2019-11-28 13:17:27.033 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "LoginModal", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult LoginModal(System.String) on controller CateringPro.Controllers.AccountController (CateringPro).
2019-11-28 13:17:27.047 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view LoginModal.
2019-11-28 13:17:27.111 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view LoginModal executed in 64.9377ms.
2019-11-28 13:17:27.114 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.AccountController.LoginModal (CateringPro) in 78.2937ms
2019-11-28 13:17:27.117 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.AccountController.LoginModal (CateringPro)'
2019-11-28 13:17:27.120 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 104.26320000000001ms 200 text/html; charset=utf-8
2019-11-28 13:17:28.939 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Account/Login application/x-www-form-urlencoded; charset=UTF-8 242
2019-11-28 13:17:28.954 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.AccountController.Login (CateringPro)'
2019-11-28 13:17:28.972 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CateringPro.ViewModels.LoginViewModel) on controller CateringPro.Controllers.AccountController (CateringPro).
2019-11-28 13:17:29.024 +02:00 [Information] CateringPro.Models.CompanyUser: User admin is going to login 
2019-11-28 13:17:29.034 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:17:29.053 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address1], [a].[Address2], [a].[City], [a].[CompanyId], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MenuType], [a].[NameSurname], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[ZipCode]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedUserName] = @__normalizedUserName_0) AND ([a].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([a].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)
2019-11-28 13:17:29.135 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL
2019-11-28 13:17:29.204 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL
2019-11-28 13:17:29.257 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL
2019-11-28 13:17:29.276 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)
2019-11-28 13:17:29.295 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE ([a].[RoleId] = @__role_Id_0) AND @__role_Id_0 IS NOT NULL
2019-11-28 13:17:29.310 +02:00 [Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: AuthenticationScheme: Identity.Application signed in.
2019-11-28 13:17:29.322 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-11-28 13:17:29.338 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.AccountController.Login (CateringPro) in 363.2092ms
2019-11-28 13:17:29.341 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.AccountController.Login (CateringPro)'
2019-11-28 13:17:29.346 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 408.08500000000004ms 200 application/json; charset=utf-8
2019-11-28 13:17:29.356 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-11-28 13:17:29.367 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2019-11-28 13:17:29.370 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2019-11-28 13:17:29.373 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-11-28 13:17:29.403 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 17.6883ms.
2019-11-28 13:17:29.406 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 33.5628ms
2019-11-28 13:17:29.409 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2019-11-28 13:17:29.414 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 56.5086ms 200 text/html; charset=utf-8
2019-11-28 13:17:32.521 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentStock  
2019-11-28 13:17:32.535 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 13:17:32.538 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentStock (CateringPro)'
2019-11-28 13:17:32.547 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentStock() on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 13:17:32.561 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:17:32.627 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Name], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[ValidUntil], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[ValidUntil], [i0].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i0]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i0].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 13:17:32.662 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view ConsignmentStock.
2019-11-28 13:17:32.683 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view ConsignmentStock executed in 14.344100000000001ms.
2019-11-28 13:17:32.686 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentStock (CateringPro) in 136.4601ms
2019-11-28 13:17:32.689 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentStock (CateringPro)'
2019-11-28 13:17:32.695 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 171.6293ms 200 text/html; charset=utf-8
2019-11-28 13:17:32.778 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/font-awesome/fonts/fontawesome-webfont.woff2?v=4.3.0  
2019-11-28 13:17:32.794 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentListItems?searchcriteria=&_=1574939852732  
2019-11-28 13:17:32.801 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/lib/font-awesome/fonts/fontawesome-webfont.woff2'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\lib\font-awesome\fonts\fontawesome-webfont.woff2'
2019-11-28 13:17:32.805 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 27.0015ms 200 font/woff2
2019-11-28 13:17:32.815 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 13:17:32.819 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:17:32.828 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentListItems", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 13:17:32.842 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:17:37.104 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Name], [i].[StockValue], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[InitialQuantity], [t2].[ValidUntil], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[InitialQuantity], [t].[ValidUntil], [i0].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i0]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i0].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 13:17:37.138 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ConsignmentListItems.
2019-11-28 13:17:37.777 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 639.2057ms.
2019-11-28 13:17:37.781 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro) in 4949.4663ms
2019-11-28 13:17:37.784 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:17:37.788 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 4996.5828ms 200 text/html; charset=utf-8
2019-11-28 13:20:19.634 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 13:20:19.638 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:20:19.642 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 13:20:19.645 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 13:20:19.648 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 13:20:19,1
2019-11-28 13:20:19.650 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:20:19.652 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 13:20:19.661 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 13:20:19.666 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 13:20:19.668 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 13:20:19.711 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 13:20:19,2
2019-11-28 13:20:19.712 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 13:25:19.679 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 13:25:19.682 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:25:19.689 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 13:25:19.692 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:25:19.700 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 13:25:19.706 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 13:25:19.715 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 13:25:19,1
2019-11-28 13:25:19.718 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 13:25:19.720 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 13:25:19.725 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 13:25:19.772 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 13:25:19,2
2019-11-28 13:25:19.774 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 13:33:23.831 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Complex'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:33:23.841 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'InitialQuantity' on entity type 'Consignment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:33:23.843 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Consignment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:33:23.846 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Quantity' on entity type 'Consignment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:33:23.848 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:33:23.850 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'ReadyWeight' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:33:23.853 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Proportion' on entity type 'DishIngredients'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:33:23.855 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Amount' on entity type 'DocLines'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:33:23.857 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'DocLines'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:33:23.860 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Quantity' on entity type 'DocLines'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:33:23.862 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Amount' on entity type 'Docs'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:33:23.865 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'AvgPrice' on entity type 'Ingredients'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:33:23.867 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'StockValue' on entity type 'Ingredients'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:33:23.869 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Pizzas'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:33:23.871 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Total' on entity type 'UserDay'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:33:23.874 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'TotalPaid' on entity type 'UserDay'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:33:23.876 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'UserDayComplex'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:33:23.878 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'UserDayDish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:33:23.919 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:33:24.297 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2019-11-28 13:33:24.379 +02:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-11-28 13:33:24.571 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2019-11-28 13:33:24.833 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 13:33:24.845 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:33:24.912 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 13:33:24.927 +02:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2019-11-28 13:33:24.929 +02:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2019-11-28 13:33:24.931 +02:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2019-11-28 13:33:24.961 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 13:33:24.975 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-11-28 13:33:24.980 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 13:33:24,1
2019-11-28 13:33:24.989 +02:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2019-11-28 13:33:25.048 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 13:33:25.066 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:33:25.098 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 13:33:25.141 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2019-11-28 13:33:25.194 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2019-11-28 13:33:25.232 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-11-28 13:33:25.242 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 13:33:25,2
2019-11-28 13:33:25.244 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 13:33:25.312 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 13:33:25.331 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 13:33:25.512 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 285.0575ms.
2019-11-28 13:33:25.532 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 318.346ms
2019-11-28 13:33:25.541 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2019-11-28 13:33:25.549 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 575.2072000000001ms 200 text/html; charset=utf-8
2019-11-28 13:34:46.219 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentStock  
2019-11-28 13:34:46.253 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 13:34:46.256 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentStock (CateringPro)'
2019-11-28 13:34:46.269 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentStock() on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 13:34:46.277 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:34:46.366 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Name], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[ValidUntil], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[ValidUntil], [i0].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i0]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i0].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 13:34:46.404 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view ConsignmentStock.
2019-11-28 13:34:46.414 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view ConsignmentStock executed in 11.9846ms.
2019-11-28 13:34:46.424 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentStock (CateringPro) in 148.779ms
2019-11-28 13:34:46.428 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentStock (CateringPro)'
2019-11-28 13:34:46.435 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 214.5021ms 200 text/html; charset=utf-8
2019-11-28 13:34:46.520 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentListItems?searchcriteria=&_=1574940886469  
2019-11-28 13:34:46.542 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 13:34:46.546 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:34:46.556 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentListItems", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 13:34:46.577 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:34:46.609 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Name], [i].[Id], [i].[Name], [i].[StockValue], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[InitialQuantity], [t2].[ValidUntil], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
INNER JOIN [IngredientCategories] AS [i0] ON [i].[IngredientCategoriesId] = [i0].[Id]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[InitialQuantity], [t].[ValidUntil], [i1].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i1]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i1].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i1].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [i0].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 13:34:46.639 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ConsignmentListItems.
2019-11-28 13:34:47.024 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 386.4977ms.
2019-11-28 13:34:47.027 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro) in 468.3056ms
2019-11-28 13:34:47.029 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:34:47.031 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 511.6241ms 200 text/html; charset=utf-8
2019-11-28 13:34:54.046 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock  
2019-11-28 13:34:54.053 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 13:34:54.056 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.Index (CateringPro)'
2019-11-28 13:34:54.063 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 13:34:54.068 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:34:54.077 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[AvgPrice], [i].[CompanyId], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
FROM [Ingredients] AS [i]
2019-11-28 13:34:54.133 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-11-28 13:34:54.149 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 9.669400000000001ms.
2019-11-28 13:34:54.152 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.Index (CateringPro) in 85.2025ms
2019-11-28 13:34:54.155 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.Index (CateringPro)'
2019-11-28 13:34:54.158 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 113.16690000000001ms 200 text/html; charset=utf-8
2019-11-28 13:34:54.243 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ListItems?searchcriteria=&_=1574940894197  
2019-11-28 13:34:54.247 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 13:34:54.250 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ListItems (CateringPro)'
2019-11-28 13:34:54.255 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 13:34:54.260 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:34:54.268 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[AvgPrice], [i].[CompanyId], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
FROM [Ingredients] AS [i]
WHERE ([i].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 13:34:54.281 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2019-11-28 13:34:54.604 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 323.9313ms.
2019-11-28 13:34:54.607 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ListItems (CateringPro) in 349.522ms
2019-11-28 13:34:54.610 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ListItems (CateringPro)'
2019-11-28 13:34:54.613 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 370.7071ms 200 text/html; charset=utf-8
2019-11-28 13:34:57.362 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentStock  
2019-11-28 13:34:57.367 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 13:34:57.370 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentStock (CateringPro)'
2019-11-28 13:34:57.374 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentStock() on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 13:34:57.378 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:34:57.389 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Name], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[ValidUntil], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[ValidUntil], [i0].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i0]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i0].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 13:34:57.402 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view ConsignmentStock.
2019-11-28 13:34:57.417 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view ConsignmentStock executed in 8.1095ms.
2019-11-28 13:34:57.429 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentStock (CateringPro) in 44.2383ms
2019-11-28 13:34:57.435 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentStock (CateringPro)'
2019-11-28 13:34:57.442 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 77.56790000000001ms 200 text/html; charset=utf-8
2019-11-28 13:34:57.576 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentListItems?searchcriteria=&_=1574940897499  
2019-11-28 13:34:57.583 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 13:34:57.586 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:34:57.589 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentListItems", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 13:34:57.598 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:34:57.608 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Name], [i].[Id], [i].[Name], [i].[StockValue], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[InitialQuantity], [t2].[ValidUntil], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
INNER JOIN [IngredientCategories] AS [i0] ON [i].[IngredientCategoriesId] = [i0].[Id]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[InitialQuantity], [t].[ValidUntil], [i1].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i1]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i1].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i1].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [i0].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 13:34:57.632 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ConsignmentListItems.
2019-11-28 13:34:57.868 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 235.9283ms.
2019-11-28 13:34:57.870 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro) in 277.9005ms
2019-11-28 13:34:57.872 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:34:57.875 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 303.1512ms 200 text/html; charset=utf-8
2019-11-28 13:35:13.450 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentListItems?page=999999&searchcriteria=&_=1574940897500  
2019-11-28 13:35:13.455 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 13:35:13.458 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:35:13.461 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentListItems", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 13:35:13.467 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:35:13.489 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyid_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Name], [t].[Id], [t].[Name], [t].[StockValue], [t].[MeasureUnit], [t3].[Number], [t3].[Date], [t3].[c], [t3].[LineId], [t3].[IngredientsId], [t3].[Quantity], [t3].[InitialQuantity], [t3].[ValidUntil], [t3].[Id], [t3].[CompanyId], [t3].[Id0], [t3].[Id1]
FROM (
    SELECT [i].[Id], [i].[AvgPrice], [i].[CompanyId], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [Ingredients] AS [i]
    WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS
) AS [t]
INNER JOIN [IngredientCategories] AS [i0] ON [t].[IngredientCategoriesId] = [i0].[Id]
LEFT JOIN (
    SELECT [t2].[Number], [t2].[Date], CASE
        WHEN [t2].[Type] = 1 THEN @__p_2
        ELSE N'...'
    END AS [c], [t0].[LineId], [t0].[IngredientsId], [t0].[Quantity], [t0].[InitialQuantity], [t0].[ValidUntil], [i1].[Id], [t0].[CompanyId], [t1].[Id] AS [Id0], [t2].[Id] AS [Id1]
    FROM [Ingredients] AS [i1]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [i1].[Id] = [t0].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[LineId] = [t1].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t2] ON [t1].[DocsId] = [t2].[Id]
    WHERE ([i1].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t3] ON [t].[Id] = [t3].[IngredientsId]
ORDER BY [t].[Id], [i0].[Id], [t3].[Id], [t3].[CompanyId], [t3].[LineId], [t3].[IngredientsId], [t3].[Id0], [t3].[Id1]
2019-11-28 13:35:13.532 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ConsignmentListItems.
2019-11-28 13:35:13.537 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 4.8048ms.
2019-11-28 13:35:13.540 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro) in 75.6902ms
2019-11-28 13:35:13.542 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:35:13.545 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 95.4855ms 200 text/html; charset=utf-8
2019-11-28 13:35:16.674 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentListItems?page=0&searchcriteria=&_=1574940897501  
2019-11-28 13:35:16.678 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 13:35:16.680 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:35:16.682 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentListItems", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 13:35:16.686 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:35:16.691 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Name], [i].[Id], [i].[Name], [i].[StockValue], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[InitialQuantity], [t2].[ValidUntil], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
INNER JOIN [IngredientCategories] AS [i0] ON [i].[IngredientCategoriesId] = [i0].[Id]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[InitialQuantity], [t].[ValidUntil], [i1].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i1]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i1].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i1].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [i0].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 13:35:16.699 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ConsignmentListItems.
2019-11-28 13:35:16.902 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 202.1173ms.
2019-11-28 13:35:16.905 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro) in 219.90910000000002ms
2019-11-28 13:35:16.908 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:35:16.910 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 236.22240000000002ms 200 text/html; charset=utf-8
2019-11-28 13:35:25.088 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 13:35:25.091 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:35:25.094 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 13:35:25.097 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 13:35:25.101 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:35:25.103 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 13:35:25,1
2019-11-28 13:35:25.105 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 13:35:25.112 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 13:35:25.115 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 13:35:25.118 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 13:35:25.159 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 13:35:25,2
2019-11-28 13:35:25.161 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 13:37:08.241 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentStock  
2019-11-28 13:37:08.243 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 13:37:08.245 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentStock (CateringPro)'
2019-11-28 13:37:08.247 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentStock() on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 13:37:08.249 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:37:08.254 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Name], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[ValidUntil], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[ValidUntil], [i0].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i0]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i0].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 13:37:08.274 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view ConsignmentStock.
2019-11-28 13:37:08.279 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view ConsignmentStock executed in 3.8286000000000002ms.
2019-11-28 13:37:08.286 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentStock (CateringPro) in 32.484500000000004ms
2019-11-28 13:37:08.289 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentStock (CateringPro)'
2019-11-28 13:37:08.291 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/jquery.bootstrap-duallistbox.js  
2019-11-28 13:37:08.309 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/carousel.css  
2019-11-28 13:37:08.315 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 67.3459ms 200 text/html; charset=utf-8
2019-11-28 13:37:08.317 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap-duallistbox.css  
2019-11-28 13:37:08.319 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/font-awesome/css/font-awesome.css  
2019-11-28 13:37:08.321 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css  
2019-11-28 13:37:08.322 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js  
2019-11-28 13:37:08.332 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /lib/font-awesome/css/font-awesome.css was not modified
2019-11-28 13:37:08.334 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/bootstrap.min.js was not modified
2019-11-28 13:37:08.336 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/jquery.bootstrap-duallistbox.js was not modified
2019-11-28 13:37:08.338 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/carousel.css was not modified
2019-11-28 13:37:08.340 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/bootstrap-duallistbox.css was not modified
2019-11-28 13:37:08.341 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/bootstrap.min.css was not modified
2019-11-28 13:37:08.346 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 21.9994ms 304 application/javascript
2019-11-28 13:37:08.349 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 56.472500000000004ms 304 application/javascript
2019-11-28 13:37:08.351 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 56.7058ms 304 text/css
2019-11-28 13:37:08.353 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/jquery-ui.js  
2019-11-28 13:37:08.355 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css  
2019-11-28 13:37:08.357 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/jquery.min.js  
2019-11-28 13:37:08.359 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/jquery-ui.js was not modified
2019-11-28 13:37:08.361 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /lib/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css was not modified
2019-11-28 13:37:08.363 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/jquery.min.js was not modified
2019-11-28 13:37:08.375 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 13.7039ms 304 application/javascript
2019-11-28 13:37:08.377 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.5283ms 304 text/css
2019-11-28 13:37:08.381 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 56.7637ms 304 text/css
2019-11-28 13:37:08.379 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.2994ms 304 application/javascript
2019-11-28 13:37:08.383 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/jquery-ui.css  
2019-11-28 13:37:08.385 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/site.css  
2019-11-28 13:37:08.387 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/site.js?v=WvUmlE8e_VDlPeR0g6h9Y5zTmjvT0eIH_AR_uNfWDd4  
2019-11-28 13:37:08.389 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/jquery-ui.css was not modified
2019-11-28 13:37:08.391 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/site.js was not modified
2019-11-28 13:37:08.393 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 44.9578ms 304 text/css
2019-11-28 13:37:08.395 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/site.css was not modified
2019-11-28 13:37:08.397 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 29.713ms 304 text/css
2019-11-28 13:37:08.399 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 51.0687ms 304 text/css
2019-11-28 13:37:08.401 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 7.8881000000000006ms 304 application/javascript
2019-11-28 13:37:08.403 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 33.1374ms 304 text/css
2019-11-28 13:37:08.463 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/font-awesome/fonts/fontawesome-webfont.woff2?v=4.3.0  
2019-11-28 13:37:08.466 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /lib/font-awesome/fonts/fontawesome-webfont.woff2 was not modified
2019-11-28 13:37:08.473 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 6.925000000000001ms 304 font/woff2
2019-11-28 13:37:08.477 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentListItems?searchcriteria=&_=1574941028421  
2019-11-28 13:37:08.479 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 13:37:08.482 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:37:08.484 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentListItems", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 13:37:08.488 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:37:08.496 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Name], [i].[Id], [i].[Name], [i].[StockValue], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[InitialQuantity], [t2].[ValidUntil], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
INNER JOIN [IngredientCategories] AS [i0] ON [i].[IngredientCategoriesId] = [i0].[Id]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[InitialQuantity], [t].[ValidUntil], [i1].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i1]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i1].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i1].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [i0].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 13:37:08.525 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ConsignmentListItems.
2019-11-28 13:37:08.723 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 200.5825ms.
2019-11-28 13:37:08.726 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro) in 239.3426ms
2019-11-28 13:37:08.727 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:37:08.730 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 254.4248ms 200 text/html; charset=utf-8
2019-11-28 13:37:11.268 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentStock  
2019-11-28 13:37:11.271 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 13:37:11.273 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentStock (CateringPro)'
2019-11-28 13:37:11.275 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentStock() on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 13:37:11.278 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:37:11.284 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Name], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[ValidUntil], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[ValidUntil], [i0].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i0]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i0].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 13:37:11.292 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view ConsignmentStock.
2019-11-28 13:37:11.300 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view ConsignmentStock executed in 4.1028ms.
2019-11-28 13:37:11.302 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentStock (CateringPro) in 24.6ms
2019-11-28 13:37:11.305 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentStock (CateringPro)'
2019-11-28 13:37:11.306 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/carousel.css  
2019-11-28 13:37:11.308 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/site.css  
2019-11-28 13:37:11.310 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css  
2019-11-28 13:37:11.318 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/jquery.min.js  
2019-11-28 13:37:11.320 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/carousel.css was not modified
2019-11-28 13:37:11.322 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/site.css was not modified
2019-11-28 13:37:11.324 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/bootstrap.min.css was not modified
2019-11-28 13:37:11.326 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 19.698600000000003ms 304 text/css
2019-11-28 13:37:11.328 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 20.3561ms 304 text/css
2019-11-28 13:37:11.330 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css  
2019-11-28 13:37:11.336 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/site.js?v=WvUmlE8e_VDlPeR0g6h9Y5zTmjvT0eIH_AR_uNfWDd4  
2019-11-28 13:37:11.337 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /lib/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css was not modified
2019-11-28 13:37:11.339 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/site.js was not modified
2019-11-28 13:37:11.341 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.370000000000001ms 304 text/css
2019-11-28 13:37:11.350 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.748000000000001ms 304 application/javascript
2019-11-28 13:37:11.351 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap-duallistbox.css  
2019-11-28 13:37:11.354 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 22.674ms 304 text/css
2019-11-28 13:37:11.355 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/jquery.min.js was not modified
2019-11-28 13:37:11.357 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/bootstrap-duallistbox.css was not modified
2019-11-28 13:37:11.359 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 53.6967ms 304 application/javascript
2019-11-28 13:37:11.361 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 39.4527ms 200 text/html; charset=utf-8
2019-11-28 13:37:11.363 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 16.9952ms 304 text/css
2019-11-28 13:37:11.365 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/jquery-ui.js  
2019-11-28 13:37:11.367 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/font-awesome/css/font-awesome.css  
2019-11-28 13:37:11.369 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/jquery.bootstrap-duallistbox.js  
2019-11-28 13:37:11.371 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/jquery-ui.js was not modified
2019-11-28 13:37:11.374 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /lib/font-awesome/css/font-awesome.css was not modified
2019-11-28 13:37:11.376 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14.090800000000002ms 304 application/javascript
2019-11-28 13:37:11.378 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 72.19330000000001ms 304 text/css
2019-11-28 13:37:11.380 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/jquery.bootstrap-duallistbox.js was not modified
2019-11-28 13:37:11.382 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/jquery-ui.css  
2019-11-28 13:37:11.384 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 53.294700000000006ms 304 application/javascript
2019-11-28 13:37:11.387 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/jquery-ui.css was not modified
2019-11-28 13:37:11.389 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js  
2019-11-28 13:37:11.391 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 46.1169ms 304 text/css
2019-11-28 13:37:11.393 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/bootstrap.min.js was not modified
2019-11-28 13:37:11.396 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 34.034600000000005ms 304 application/javascript
2019-11-28 13:37:11.426 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/font-awesome/fonts/fontawesome-webfont.woff2?v=4.3.0  
2019-11-28 13:37:11.429 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /lib/font-awesome/fonts/fontawesome-webfont.woff2 was not modified
2019-11-28 13:37:11.432 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 5.0277ms 304 font/woff2
2019-11-28 13:37:11.435 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentListItems?searchcriteria=&_=1574941031385  
2019-11-28 13:37:11.439 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 13:37:11.442 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:37:11.445 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentListItems", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 13:37:11.448 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:37:11.452 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Name], [i].[Id], [i].[Name], [i].[StockValue], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[InitialQuantity], [t2].[ValidUntil], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
INNER JOIN [IngredientCategories] AS [i0] ON [i].[IngredientCategoriesId] = [i0].[Id]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[InitialQuantity], [t].[ValidUntil], [i1].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i1]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i1].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i1].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [i0].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 13:37:11.460 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ConsignmentListItems.
2019-11-28 13:37:11.660 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 199.2554ms.
2019-11-28 13:37:11.662 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro) in 214.9917ms
2019-11-28 13:37:11.664 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:37:11.666 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 231.04770000000002ms 200 text/html; charset=utf-8
2019-11-28 13:47:57.950 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Complex'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:47:57.965 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'InitialQuantity' on entity type 'Consignment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:47:57.968 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Consignment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:47:57.971 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Quantity' on entity type 'Consignment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:47:57.974 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:47:57.976 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'ReadyWeight' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:47:57.979 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Proportion' on entity type 'DishIngredients'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:47:57.981 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Amount' on entity type 'DocLines'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:47:57.984 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'DocLines'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:47:57.986 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Quantity' on entity type 'DocLines'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:47:57.989 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Amount' on entity type 'Docs'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:47:57.992 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'AvgPrice' on entity type 'Ingredients'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:47:57.994 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'StockValue' on entity type 'Ingredients'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:47:57.997 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Pizzas'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:47:57.999 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Total' on entity type 'UserDay'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:47:58.001 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'TotalPaid' on entity type 'UserDay'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:47:58.004 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'UserDayComplex'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:47:58.007 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'UserDayDish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:47:58.049 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:47:58.479 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2019-11-28 13:47:58.610 +02:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-11-28 13:47:58.921 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2019-11-28 13:47:59.273 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 13:47:59.282 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:47:59.393 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 13:47:59.427 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 13:47:59.436 +02:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2019-11-28 13:47:59.439 +02:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2019-11-28 13:47:59.455 +02:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2019-11-28 13:47:59.484 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 13:47:59,1
2019-11-28 13:47:59.509 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-11-28 13:47:59.534 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 13:47:59.542 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:47:59.541 +02:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2019-11-28 13:47:59.585 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 13:47:59.709 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:47:59.771 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 13:47:59,2
2019-11-28 13:47:59.775 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 13:47:59.802 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 13:47:59.809 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address1], [a].[Address2], [a].[City], [a].[CompanyId], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MenuType], [a].[NameSurname], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[ZipCode]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Id] = @__p_0) AND @__p_0 IS NOT NULL
2019-11-28 13:47:59.826 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 13:47:59.942 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL
2019-11-28 13:48:00.026 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL
2019-11-28 13:48:00.051 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)
2019-11-28 13:48:00.090 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE ([a].[RoleId] = @__role_Id_0) AND @__role_Id_0 IS NOT NULL
2019-11-28 13:48:00.115 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2019-11-28 13:48:00.174 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2019-11-28 13:48:00.215 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-11-28 13:48:00.741 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 459.97740000000005ms.
2019-11-28 13:48:00.764 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 568.2072000000001ms
2019-11-28 13:48:00.767 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2019-11-28 13:48:00.820 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1280.0737000000001ms 200 text/html; charset=utf-8
2019-11-28 13:48:51.260 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentStock  
2019-11-28 13:48:51.289 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 13:48:51.293 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentStock (CateringPro)'
2019-11-28 13:48:51.303 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentStock() on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 13:48:51.314 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:48:51.378 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Name], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[ValidUntil], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[ValidUntil], [i0].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i0]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i0].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 13:48:51.410 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view ConsignmentStock.
2019-11-28 13:48:51.423 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view ConsignmentStock executed in 14.170100000000001ms.
2019-11-28 13:48:51.432 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentStock (CateringPro) in 123.47070000000001ms
2019-11-28 13:48:51.435 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentStock (CateringPro)'
2019-11-28 13:48:51.441 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 182.1613ms 200 text/html; charset=utf-8
2019-11-28 13:48:51.521 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentListItems?searchcriteria=&_=1574941731470  
2019-11-28 13:48:51.537 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 13:48:51.539 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:48:51.550 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentListItems", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 13:48:51.566 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:48:57.535 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Name], [i].[Id], [i].[Name], [i].[StockValue], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[InitialQuantity], [t2].[ValidUntil], [t2].[Price], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
INNER JOIN [IngredientCategories] AS [i0] ON [i].[IngredientCategoriesId] = [i0].[Id]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[InitialQuantity], [t].[ValidUntil], [t].[Price], [i1].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i1]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i1].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i1].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [i0].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 13:48:57.572 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ConsignmentListItems.
2019-11-28 13:48:58.190 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 618.8820000000001ms.
2019-11-28 13:48:58.192 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro) in 6640.3364ms
2019-11-28 13:48:58.195 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:48:58.198 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 6677.1735ms 200 text/html; charset=utf-8
2019-11-28 13:49:32.485 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentListItems?sortfield=IngredientName&sortorder=asc&searchcriteria=&_=1574941731471  
2019-11-28 13:49:32.491 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 13:49:32.495 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:49:32.498 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentListItems", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 13:49:32.501 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:49:32.510 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Name], [i].[Id], [i].[Name], [i].[StockValue], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[InitialQuantity], [t2].[ValidUntil], [t2].[Price], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
INNER JOIN [IngredientCategories] AS [i0] ON [i].[IngredientCategoriesId] = [i0].[Id]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[InitialQuantity], [t].[ValidUntil], [t].[Price], [i1].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i1]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i1].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i1].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [i0].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 13:49:32.520 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ConsignmentListItems.
2019-11-28 13:49:32.842 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 322.4663ms.
2019-11-28 13:49:32.845 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro) in 344.5518ms
2019-11-28 13:49:32.847 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:49:32.849 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 365.2292ms 200 text/html; charset=utf-8
2019-11-28 13:49:36.639 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentListItems?sortfield=IngredientName&sortorder=desc&searchcriteria=&_=1574941731472  
2019-11-28 13:49:36.643 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 13:49:36.646 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:49:36.649 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentListItems", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 13:49:36.654 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:49:36.663 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Name], [i].[Id], [i].[Name], [i].[StockValue], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[InitialQuantity], [t2].[ValidUntil], [t2].[Price], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
INNER JOIN [IngredientCategories] AS [i0] ON [i].[IngredientCategoriesId] = [i0].[Id]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[InitialQuantity], [t].[ValidUntil], [t].[Price], [i1].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i1]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i1].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i1].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [i0].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 13:49:36.676 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ConsignmentListItems.
2019-11-28 13:49:36.988 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 312.4574ms.
2019-11-28 13:49:36.990 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro) in 338.4604ms
2019-11-28 13:49:36.992 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:49:36.997 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 356.3629ms 200 text/html; charset=utf-8
2019-11-28 13:49:38.072 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentListItems?sortfield=IngredientName&sortorder=asc&searchcriteria=&_=1574941731473  
2019-11-28 13:49:38.078 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 13:49:38.082 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:49:38.085 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentListItems", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 13:49:38.089 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:49:38.093 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Name], [i].[Id], [i].[Name], [i].[StockValue], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[InitialQuantity], [t2].[ValidUntil], [t2].[Price], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
INNER JOIN [IngredientCategories] AS [i0] ON [i].[IngredientCategoriesId] = [i0].[Id]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[InitialQuantity], [t].[ValidUntil], [t].[Price], [i1].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i1]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i1].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i1].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [i0].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 13:49:38.100 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ConsignmentListItems.
2019-11-28 13:49:38.397 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 296.8499ms.
2019-11-28 13:49:38.399 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro) in 312.8014ms
2019-11-28 13:49:38.401 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:49:38.403 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 333.0435ms 200 text/html; charset=utf-8
2019-11-28 13:49:39.271 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentListItems?sortfield=IngredientName&sortorder=desc&searchcriteria=&_=1574941731474  
2019-11-28 13:49:39.277 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 13:49:39.279 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:49:39.281 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentListItems", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 13:49:39.285 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:49:39.290 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Name], [i].[Id], [i].[Name], [i].[StockValue], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[InitialQuantity], [t2].[ValidUntil], [t2].[Price], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
INNER JOIN [IngredientCategories] AS [i0] ON [i].[IngredientCategoriesId] = [i0].[Id]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[InitialQuantity], [t].[ValidUntil], [t].[Price], [i1].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i1]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i1].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i1].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [i0].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 13:49:39.299 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ConsignmentListItems.
2019-11-28 13:49:39.598 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 299.3974ms.
2019-11-28 13:49:39.600 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro) in 316.9637ms
2019-11-28 13:49:39.602 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:49:39.604 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 333.87100000000004ms 200 text/html; charset=utf-8
2019-11-28 13:49:40.571 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentListItems?sortfield=IngredientName&sortorder=asc&searchcriteria=&_=1574941731475  
2019-11-28 13:49:40.574 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 13:49:40.576 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:49:40.579 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentListItems", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 13:49:40.583 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:49:40.587 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Name], [i].[Id], [i].[Name], [i].[StockValue], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[InitialQuantity], [t2].[ValidUntil], [t2].[Price], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
INNER JOIN [IngredientCategories] AS [i0] ON [i].[IngredientCategoriesId] = [i0].[Id]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[InitialQuantity], [t].[ValidUntil], [t].[Price], [i1].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i1]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i1].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i1].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [i0].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 13:49:40.595 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ConsignmentListItems.
2019-11-28 13:49:40.902 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 307.2933ms.
2019-11-28 13:49:40.904 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro) in 322.50370000000004ms
2019-11-28 13:49:40.907 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:49:40.909 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 338.15840000000003ms 200 text/html; charset=utf-8
2019-11-28 13:50:59.601 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 13:50:59.606 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:50:59.610 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 13:50:59.618 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 13:50:59.621 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:50:59.622 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 13:50:59,1
2019-11-28 13:50:59.625 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 13:50:59.637 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 13:50:59.642 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 13:50:59.645 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 13:50:59.702 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 13:50:59,2
2019-11-28 13:50:59.705 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 13:54:15.580 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Complex'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:54:15.589 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'InitialQuantity' on entity type 'Consignment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:54:15.591 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Consignment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:54:15.594 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Quantity' on entity type 'Consignment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:54:15.596 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:54:15.598 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'ReadyWeight' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:54:15.600 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Proportion' on entity type 'DishIngredients'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:54:15.602 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Amount' on entity type 'DocLines'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:54:15.604 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'DocLines'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:54:15.605 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Quantity' on entity type 'DocLines'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:54:15.607 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Amount' on entity type 'Docs'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:54:15.610 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'AvgPrice' on entity type 'Ingredients'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:54:15.612 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'StockValue' on entity type 'Ingredients'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:54:15.614 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Pizzas'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:54:15.616 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Total' on entity type 'UserDay'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:54:15.618 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'TotalPaid' on entity type 'UserDay'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:54:15.620 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'UserDayComplex'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:54:15.622 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'UserDayDish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:54:15.659 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:54:15.966 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2019-11-28 13:54:16.036 +02:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-11-28 13:54:16.172 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2019-11-28 13:54:16.383 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 13:54:16.391 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:54:16.438 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 13:54:16.455 +02:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2019-11-28 13:54:16.457 +02:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2019-11-28 13:54:16.462 +02:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2019-11-28 13:54:16.481 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 13:54:16.494 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 13:54:16,1
2019-11-28 13:54:16.497 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-11-28 13:54:16.509 +02:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2019-11-28 13:54:16.519 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 13:54:16.536 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:54:16.563 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 13:54:16.615 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2019-11-28 13:54:16.659 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 13:54:16,2
2019-11-28 13:54:16.662 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 13:54:16.669 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2019-11-28 13:54:16.692 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-11-28 13:54:16.719 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 13:54:16.732 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 13:54:16.875 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 176.2878ms.
2019-11-28 13:54:16.883 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 208.66310000000001ms
2019-11-28 13:54:16.886 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2019-11-28 13:54:16.893 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 397.43030000000005ms 200 text/html; charset=utf-8
2019-11-28 13:54:36.282 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentStock  
2019-11-28 13:54:36.297 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 13:54:36.300 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentStock (CateringPro)'
2019-11-28 13:54:36.310 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentStock() on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 13:54:36.321 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:54:36.439 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Name], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[ValidUntil], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[ValidUntil], [i0].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i0]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i0].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 13:54:36.518 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view ConsignmentStock.
2019-11-28 13:54:36.536 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view ConsignmentStock executed in 19.399ms.
2019-11-28 13:54:36.551 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentStock (CateringPro) in 237.28990000000002ms
2019-11-28 13:54:36.559 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentStock (CateringPro)'
2019-11-28 13:54:36.569 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 286.485ms 200 text/html; charset=utf-8
2019-11-28 13:54:36.752 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentListItems?searchcriteria=&_=1574942076634  
2019-11-28 13:54:36.782 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 13:54:36.785 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:54:36.804 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentListItems", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 13:54:36.827 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:54:36.874 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Name], [i].[Id], [i].[Name], [i].[StockValue], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[InitialQuantity], [t2].[ValidUntil], [t2].[Price], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
INNER JOIN [IngredientCategories] AS [i0] ON [i].[IngredientCategoriesId] = [i0].[Id]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[InitialQuantity], [t].[ValidUntil], [t].[Price], [i1].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i1]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i1].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i1].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [i0].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 13:54:36.924 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ConsignmentListItems.
2019-11-28 13:54:37.706 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 783.3132ms.
2019-11-28 13:54:37.709 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro) in 902.931ms
2019-11-28 13:54:37.711 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:54:37.715 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 965.6592ms 200 text/html; charset=utf-8
2019-11-28 13:55:16.569 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 13:55:16.573 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:55:16.576 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 13:55:16.579 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 13:55:16.582 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 13:55:16,1
2019-11-28 13:55:16.583 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:55:16.586 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 13:55:16.594 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 13:55:16.599 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 13:55:16.601 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 13:55:16.649 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 13:55:16,2
2019-11-28 13:55:16.651 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 13:55:42.590 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Complex'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:55:42.604 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'InitialQuantity' on entity type 'Consignment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:55:42.606 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Consignment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:55:42.608 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Quantity' on entity type 'Consignment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:55:42.610 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:55:42.612 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'ReadyWeight' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:55:42.615 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Proportion' on entity type 'DishIngredients'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:55:42.617 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Amount' on entity type 'DocLines'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:55:42.619 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'DocLines'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:55:42.622 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Quantity' on entity type 'DocLines'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:55:42.624 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Amount' on entity type 'Docs'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:55:42.627 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'AvgPrice' on entity type 'Ingredients'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:55:42.630 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'StockValue' on entity type 'Ingredients'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:55:42.636 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Pizzas'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:55:42.639 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Total' on entity type 'UserDay'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:55:42.642 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'TotalPaid' on entity type 'UserDay'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:55:42.644 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'UserDayComplex'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:55:42.646 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'UserDayDish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 13:55:42.697 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:55:43.212 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2019-11-28 13:55:43.312 +02:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-11-28 13:55:43.472 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2019-11-28 13:55:43.710 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 13:55:43.715 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:55:43.767 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 13:55:43.782 +02:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2019-11-28 13:55:43.785 +02:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2019-11-28 13:55:43.788 +02:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2019-11-28 13:55:43.818 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 13:55:43.832 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-11-28 13:55:43.839 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 13:55:43,1
2019-11-28 13:55:43.846 +02:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2019-11-28 13:55:43.865 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 13:55:43.870 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:55:43.895 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 13:55:43.924 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2019-11-28 13:55:43.970 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2019-11-28 13:55:44.011 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-11-28 13:55:44.015 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 13:55:44,2
2019-11-28 13:55:44.023 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 13:55:44.081 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 13:55:44.094 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 13:55:44.232 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 226.15470000000002ms.
2019-11-28 13:55:44.236 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 262.47880000000004ms
2019-11-28 13:55:44.241 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2019-11-28 13:55:44.264 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 433.1823ms 200 text/html; charset=utf-8
2019-11-28 13:55:49.503 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Account/LoginModal  
2019-11-28 13:55:49.515 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.AccountController.LoginModal (CateringPro)'
2019-11-28 13:55:49.525 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "LoginModal", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult LoginModal(System.String) on controller CateringPro.Controllers.AccountController (CateringPro).
2019-11-28 13:55:49.548 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view LoginModal.
2019-11-28 13:55:49.650 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view LoginModal executed in 103.5548ms.
2019-11-28 13:55:49.654 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.AccountController.LoginModal (CateringPro) in 124.8189ms
2019-11-28 13:55:49.657 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.AccountController.LoginModal (CateringPro)'
2019-11-28 13:55:49.661 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 163.75570000000002ms 200 text/html; charset=utf-8
2019-11-28 13:55:51.686 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:51321/Account/Login application/x-www-form-urlencoded; charset=UTF-8 242
2019-11-28 13:55:51.700 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.AccountController.Login (CateringPro)'
2019-11-28 13:55:51.713 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CateringPro.ViewModels.LoginViewModel) on controller CateringPro.Controllers.AccountController (CateringPro).
2019-11-28 13:55:51.758 +02:00 [Information] CateringPro.Models.CompanyUser: User admin is going to login 
2019-11-28 13:55:51.764 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:55:51.784 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address1], [a].[Address2], [a].[City], [a].[CompanyId], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MenuType], [a].[NameSurname], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[ZipCode]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedUserName] = @__normalizedUserName_0) AND ([a].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([a].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)
2019-11-28 13:55:51.882 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL
2019-11-28 13:55:51.940 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL
2019-11-28 13:55:51.989 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL
2019-11-28 13:55:52.003 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)
2019-11-28 13:55:52.022 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE ([a].[RoleId] = @__role_Id_0) AND @__role_Id_0 IS NOT NULL
2019-11-28 13:55:52.039 +02:00 [Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: AuthenticationScheme: Identity.Application signed in.
2019-11-28 13:55:52.055 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-11-28 13:55:52.075 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.AccountController.Login (CateringPro) in 358.6118ms
2019-11-28 13:55:52.078 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.AccountController.Login (CateringPro)'
2019-11-28 13:55:52.087 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 406.1906ms 200 application/json; charset=utf-8
2019-11-28 13:55:52.104 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-11-28 13:55:52.115 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2019-11-28 13:55:52.120 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2019-11-28 13:55:52.126 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-11-28 13:55:52.145 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 20.362000000000002ms.
2019-11-28 13:55:52.161 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 26.6953ms
2019-11-28 13:55:52.165 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2019-11-28 13:55:52.171 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 65.08890000000001ms 200 text/html; charset=utf-8
2019-11-28 13:58:28.568 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentStock  
2019-11-28 13:58:28.617 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 13:58:28.620 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentStock (CateringPro)'
2019-11-28 13:58:28.631 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentStock() on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 13:58:28.641 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:58:28.726 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Name], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[ValidUntil], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[ValidUntil], [i0].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i0]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i0].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 13:58:28.760 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view ConsignmentStock.
2019-11-28 13:58:28.777 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view ConsignmentStock executed in 12.0136ms.
2019-11-28 13:58:28.785 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentStock (CateringPro) in 145.5051ms
2019-11-28 13:58:28.789 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentStock (CateringPro)'
2019-11-28 13:58:28.792 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 223.9274ms 200 text/html; charset=utf-8
2019-11-28 13:58:28.882 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentListItems?searchcriteria=&_=1574942308829  
2019-11-28 13:58:28.888 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 13:58:28.890 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:58:28.899 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentListItems", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 13:58:28.909 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 13:58:28.931 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Name], [i].[Id], [i].[Name], [i].[StockValue], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[InitialQuantity], [t2].[ValidUntil], [t2].[Price], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
INNER JOIN [IngredientCategories] AS [i0] ON [i].[IngredientCategoriesId] = [i0].[Id]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[InitialQuantity], [t].[ValidUntil], [t].[Price], [i1].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i1]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i1].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i1].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [i0].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 13:58:28.959 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ConsignmentListItems.
2019-11-28 13:58:29.482 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 524.5223ms.
2019-11-28 13:58:29.484 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro) in 583.3489000000001ms
2019-11-28 13:58:29.486 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 13:58:29.488 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 606.2776ms 200 text/html; charset=utf-8
2019-11-28 14:00:43.925 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 14:00:43.930 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 14:00:43.938 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 14:00:43.941 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 14:00:43.943 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 14:00:43,1
2019-11-28 14:00:43.945 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 14:00:43.948 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 14:00:43.952 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 14:00:43.956 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 14:00:44.006 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 14:00:44,2
2019-11-28 14:00:44.008 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 14:00:44.086 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2019-11-28 14:00:44.120 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 14:05:44.031 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 14:05:44.034 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 14:05:44.044 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 14:05:44.047 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 14:05:44.051 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 14:05:44.055 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 14:05:44,1
2019-11-28 14:05:44.059 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 14:05:44.061 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 14:05:44.067 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 14:05:44.074 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 14:05:44.107 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 14:05:44,2
2019-11-28 14:05:44.109 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 14:07:31.265 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentListItems?sortfield=IngredientName&sortorder=asc&searchcriteria=&_=1574942308830  
2019-11-28 14:07:31.270 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 14:07:31.272 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 14:07:31.275 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentListItems", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 14:07:31.278 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 14:07:31.287 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Name], [i].[Id], [i].[Name], [i].[StockValue], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[InitialQuantity], [t2].[ValidUntil], [t2].[Price], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
INNER JOIN [IngredientCategories] AS [i0] ON [i].[IngredientCategoriesId] = [i0].[Id]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[InitialQuantity], [t].[ValidUntil], [t].[Price], [i1].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i1]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i1].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i1].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [i0].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 14:07:31.317 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ConsignmentListItems.
2019-11-28 14:07:31.688 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 373.7696ms.
2019-11-28 14:07:31.691 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro) in 413.83950000000004ms
2019-11-28 14:07:31.694 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 14:07:31.697 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 431.8638ms 200 text/html; charset=utf-8
2019-11-28 14:08:14.874 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap-duallistbox.css  
2019-11-28 14:08:14.890 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap-duallistbox.css  
2019-11-28 14:08:14.894 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/site.css  
2019-11-28 14:08:14.895 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/carousel.css  
2019-11-28 14:08:14.898 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/site.css  
2019-11-28 14:08:14.899 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/font-awesome/css/font-awesome.css  
2019-11-28 14:08:14.921 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\css\site.css'
2019-11-28 14:08:14.923 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/css/bootstrap-duallistbox.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\css\bootstrap-duallistbox.css'
2019-11-28 14:08:14.925 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 45.4506ms 200 text/css
2019-11-28 14:08:14.928 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 52.177800000000005ms 200 text/css
2019-11-28 14:08:14.930 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/css/carousel.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\css\carousel.css'
2019-11-28 14:08:14.932 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\css\site.css'
2019-11-28 14:08:14.934 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 51.173100000000005ms 200 text/css
2019-11-28 14:08:14.936 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/jquery-ui.css  
2019-11-28 14:08:14.937 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css  
2019-11-28 14:08:14.940 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 61.808ms 200 text/css
2019-11-28 14:08:14.942 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/css/bootstrap-duallistbox.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\css\bootstrap-duallistbox.css'
2019-11-28 14:08:14.946 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/lib/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\lib\awesome-bootstrap-checkbox\awesome-bootstrap-checkbox.css'
2019-11-28 14:08:14.951 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 72.78580000000001ms 200 text/css
2019-11-28 14:08:14.953 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14.037600000000001ms 200 text/css
2019-11-28 14:08:14.955 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css  
2019-11-28 14:08:14.957 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/css/jquery-ui.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\css\jquery-ui.css'
2019-11-28 14:08:14.964 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css  
2019-11-28 14:08:14.965 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 25.7074ms 200 text/css
2019-11-28 14:08:14.968 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/jquery-ui.css  
2019-11-28 14:08:14.972 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/lib/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\lib\awesome-bootstrap-checkbox\awesome-bootstrap-checkbox.css'
2019-11-28 14:08:14.974 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css  
2019-11-28 14:08:14.976 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 29.1004ms 200 text/css
2019-11-28 14:08:14.981 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/lib/font-awesome/css/font-awesome.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\lib\font-awesome\css\font-awesome.css'
2019-11-28 14:08:14.988 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 92.7069ms 200 text/css
2019-11-28 14:08:14.990 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/font-awesome/css/font-awesome.css  
2019-11-28 14:08:14.994 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/carousel.css  
2019-11-28 14:08:14.997 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/css/bootstrap.min.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\css\bootstrap.min.css'
2019-11-28 14:08:15.001 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/css/jquery-ui.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\css\jquery-ui.css'
2019-11-28 14:08:15.010 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/css/bootstrap.min.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\css\bootstrap.min.css'
2019-11-28 14:08:15.012 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 46.4275ms 200 text/css
2019-11-28 14:08:15.015 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/css/carousel.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\css\carousel.css'
2019-11-28 14:08:15.017 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 59.7577ms 200 text/css
2019-11-28 14:08:15.019 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 31.278000000000002ms 200 text/css
2019-11-28 14:08:15.022 +02:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/lib/font-awesome/css/font-awesome.css'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\lib\font-awesome\css\font-awesome.css'
2019-11-28 14:08:15.025 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 40.6956ms 200 text/css
2019-11-28 14:08:15.026 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 38.5375ms 200 text/css
2019-11-28 14:08:15.135 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2019-11-28 14:08:15.148 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.994ms 404 
2019-11-28 14:08:15.158 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2019-11-28 14:08:15.161 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 2.7971ms 404 
2019-11-28 14:08:15.229 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2019-11-28 14:08:15.232 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 3.6911ms 404 
2019-11-28 14:08:15.275 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2019-11-28 14:08:15.278 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 3.5499ms 404 
2019-11-28 14:08:50.442 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Complex'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:08:50.456 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'InitialQuantity' on entity type 'Consignment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:08:50.459 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Consignment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:08:50.461 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Quantity' on entity type 'Consignment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:08:50.464 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:08:50.467 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'ReadyWeight' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:08:50.470 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Proportion' on entity type 'DishIngredients'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:08:50.472 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Amount' on entity type 'DocLines'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:08:50.474 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'DocLines'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:08:50.477 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Quantity' on entity type 'DocLines'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:08:50.479 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Amount' on entity type 'Docs'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:08:50.502 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'AvgPrice' on entity type 'Ingredients'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:08:50.504 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'StockValue' on entity type 'Ingredients'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:08:50.506 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Pizzas'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:08:50.509 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Total' on entity type 'UserDay'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:08:50.511 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'TotalPaid' on entity type 'UserDay'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:08:50.513 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'UserDayComplex'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:08:50.516 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'UserDayDish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:08:50.552 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 14:08:50.927 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2019-11-28 14:08:51.020 +02:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-11-28 14:08:51.179 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2019-11-28 14:08:51.442 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 14:08:51.454 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 14:08:51.539 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 14:08:51.573 +02:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2019-11-28 14:08:51.589 +02:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2019-11-28 14:08:51.591 +02:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2019-11-28 14:08:51.634 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 14:08:51.652 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-11-28 14:08:51.658 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 14:08:51,1
2019-11-28 14:08:51.669 +02:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2019-11-28 14:08:51.690 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 14:08:51.700 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 14:08:51.758 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 14:08:51.819 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2019-11-28 14:08:51.861 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 14:08:51,2
2019-11-28 14:08:51.864 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 14:08:51.871 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2019-11-28 14:08:51.898 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-11-28 14:08:51.972 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 14:08:51.986 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 14:08:52.139 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 244.8648ms.
2019-11-28 14:08:52.164 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 270.5774ms
2019-11-28 14:08:52.176 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2019-11-28 14:08:52.186 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 535.2093ms 200 text/html; charset=utf-8
2019-11-28 14:08:56.209 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentStock  
2019-11-28 14:08:56.224 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 14:08:56.228 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentStock (CateringPro)'
2019-11-28 14:08:56.239 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentStock() on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 14:08:56.249 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 14:08:56.356 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Name], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[ValidUntil], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[ValidUntil], [i0].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i0]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i0].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 14:08:56.401 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view ConsignmentStock.
2019-11-28 14:08:56.418 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view ConsignmentStock executed in 14.5059ms.
2019-11-28 14:08:56.427 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentStock (CateringPro) in 183.12720000000002ms
2019-11-28 14:08:56.431 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentStock (CateringPro)'
2019-11-28 14:08:56.438 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 230.02380000000002ms 200 text/html; charset=utf-8
2019-11-28 14:08:56.551 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentListItems?searchcriteria=&_=1574942936470  
2019-11-28 14:08:56.588 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 14:08:56.594 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 14:08:56.612 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentListItems", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 14:08:56.639 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 14:08:56.680 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Name], [i].[Id], [i].[Name], [i].[StockValue], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[InitialQuantity], [t2].[ValidUntil], [t2].[Price], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
INNER JOIN [IngredientCategories] AS [i0] ON [i].[IngredientCategoriesId] = [i0].[Id]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[InitialQuantity], [t].[ValidUntil], [t].[Price], [i1].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i1]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i1].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i1].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [i0].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 14:08:56.723 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ConsignmentListItems.
2019-11-28 14:08:57.748 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 1028.2638ms.
2019-11-28 14:08:57.751 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro) in 1136.7814ms
2019-11-28 14:08:57.753 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 14:08:57.756 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1209.4895000000001ms 200 text/html; charset=utf-8
2019-11-28 14:09:00.711 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentListItems?sortfield=IngredientName&sortorder=asc&searchcriteria=&_=1574942936471  
2019-11-28 14:09:00.716 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 14:09:00.719 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 14:09:00.722 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentListItems", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 14:09:00.726 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 14:09:00.732 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Name], [i].[Id], [i].[Name], [i].[StockValue], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[InitialQuantity], [t2].[ValidUntil], [t2].[Price], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
INNER JOIN [IngredientCategories] AS [i0] ON [i].[IngredientCategoriesId] = [i0].[Id]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[InitialQuantity], [t].[ValidUntil], [t].[Price], [i1].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i1]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i1].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i1].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [i0].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 14:09:00.748 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ConsignmentListItems.
2019-11-28 14:09:01.108 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 361.3283ms.
2019-11-28 14:09:01.110 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro) in 386.16810000000004ms
2019-11-28 14:09:01.112 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 14:09:01.115 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 404.5457ms 200 text/html; charset=utf-8
2019-11-28 14:09:18.291 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentListItems?sortfield=IngredientName&sortorder=desc&searchcriteria=&_=1574942936472  
2019-11-28 14:09:18.295 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 14:09:18.298 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 14:09:18.300 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentListItems", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 14:09:27.764 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 14:10:02.746 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[AvgPrice], [i].[CompanyId], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue], [i0].[Id], [i0].[Code], [i0].[CompanyId], [i0].[Description], [i0].[Name]
FROM [Ingredients] AS [i]
INNER JOIN [IngredientCategories] AS [i0] ON [i].[IngredientCategoriesId] = [i0].[Id]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
2019-11-28 14:10:15.724 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Name], [i].[Id], [i].[Name], [i].[StockValue], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[InitialQuantity], [t2].[ValidUntil], [t2].[Price], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
INNER JOIN [IngredientCategories] AS [i0] ON [i].[IngredientCategoriesId] = [i0].[Id]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[InitialQuantity], [t].[ValidUntil], [t].[Price], [i1].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i1]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i1].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i1].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [i0].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 14:10:15.727 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 14:10:15.735 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 14:10:15.738 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 14:10:15.742 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 14:10:15.745 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 14:10:15.747 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 14:10:15,1
2019-11-28 14:10:15.751 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 14:10:15.756 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 14:10:15.768 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 14:10:15.774 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ConsignmentListItems.
2019-11-28 14:10:15.782 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 14:10:15.829 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 14:10:15,2
2019-11-28 14:10:15.831 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 14:10:16.141 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 366.8858ms.
2019-11-28 14:10:16.144 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro) in 57840.958900000005ms
2019-11-28 14:10:16.148 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 14:10:16.151 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 57859.565800000004ms 200 text/html; charset=utf-8
2019-11-28 14:10:50.281 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentListItems?sortfield=IngredientCategoryName&sortorder=asc&searchcriteria=&_=1574942936473  
2019-11-28 14:10:50.285 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 14:10:50.287 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 14:10:50.289 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentListItems", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 14:11:04.131 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 14:11:05.949 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Name], [i].[Id], [i].[Name], [i].[StockValue], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[InitialQuantity], [t2].[ValidUntil], [t2].[Price], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
INNER JOIN [IngredientCategories] AS [i0] ON [i].[IngredientCategoriesId] = [i0].[Id]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[InitialQuantity], [t].[ValidUntil], [t].[Price], [i1].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i1]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i1].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i1].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [i0].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 14:11:26.642 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ConsignmentListItems.
2019-11-28 14:11:31.944 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 11218.8745ms.
2019-11-28 14:11:31.980 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro) in 41658.7304ms
2019-11-28 14:11:31.992 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 14:11:32.016 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 41714.0319ms 200 text/html; charset=utf-8
2019-11-28 14:13:51.850 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Complex'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:13:51.864 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'InitialQuantity' on entity type 'Consignment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:13:51.867 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Consignment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:13:51.869 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Quantity' on entity type 'Consignment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:13:51.872 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:13:51.875 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'ReadyWeight' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:13:51.878 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Proportion' on entity type 'DishIngredients'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:13:51.880 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Amount' on entity type 'DocLines'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:13:51.883 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'DocLines'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:13:51.885 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Quantity' on entity type 'DocLines'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:13:51.888 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Amount' on entity type 'Docs'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:13:51.891 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'AvgPrice' on entity type 'Ingredients'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:13:51.894 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'StockValue' on entity type 'Ingredients'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:13:51.896 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Pizzas'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:13:51.899 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Total' on entity type 'UserDay'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:13:51.902 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'TotalPaid' on entity type 'UserDay'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:13:51.905 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'UserDayComplex'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:13:51.907 +02:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'UserDayDish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-11-28 14:13:51.952 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 14:13:52.444 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2019-11-28 14:13:52.567 +02:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-11-28 14:13:52.797 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2019-11-28 14:13:53.203 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 14:13:53.219 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 14:13:53.311 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 14:13:53.333 +02:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2019-11-28 14:13:53.353 +02:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2019-11-28 14:13:53.356 +02:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2019-11-28 14:13:53.358 +02:00 [Information] Microsoft.Hosting.Lifetime: Content root path: C:\Users\yurik\source\repos\Ferolka\catering\CateringPro
2019-11-28 14:13:53.389 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 14:13:53,1
2019-11-28 14:13:53.411 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-11-28 14:13:53.422 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 14:13:53.435 +02:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2019-11-28 14:13:53.444 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 14:13:53.482 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2019-11-28 14:13:53.772 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2019-11-28 14:13:53.831 +02:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 11/28/2019 14:13:53,2
2019-11-28 14:13:53.838 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2019-11-28 14:13:53.889 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2019-11-28 14:13:53.964 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-11-28 14:13:53.994 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 14:13:54.054 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE ([m].[CompanyId] = @__companyId_0) AND @__companyId_0 IS NOT NULL
2019-11-28 14:13:54.359 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 418.1736ms.
2019-11-28 14:13:54.391 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 471.9225ms
2019-11-28 14:13:54.399 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2019-11-28 14:13:54.437 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1009.4677ms 200 text/html; charset=utf-8
2019-11-28 14:14:08.222 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentStock  
2019-11-28 14:14:08.237 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 14:14:08.240 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentStock (CateringPro)'
2019-11-28 14:14:08.249 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentStock() on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 14:14:08.258 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 14:14:08.353 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Name], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[ValidUntil], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[ValidUntil], [i0].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i0]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i0].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 14:14:08.400 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view ConsignmentStock.
2019-11-28 14:14:08.416 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view ConsignmentStock executed in 13.202ms.
2019-11-28 14:14:08.425 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentStock (CateringPro) in 170.8454ms
2019-11-28 14:14:08.432 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentStock (CateringPro)'
2019-11-28 14:14:08.440 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 217.54510000000002ms 200 text/html; charset=utf-8
2019-11-28 14:14:08.535 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentListItems?searchcriteria=&_=1574943248478  
2019-11-28 14:14:08.555 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 14:14:08.558 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 14:14:08.570 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentListItems", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 14:14:09.913 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 14:14:09.949 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Name], [i].[Id], [i].[Name], [i].[StockValue], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[InitialQuantity], [t2].[ValidUntil], [t2].[Price], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
INNER JOIN [IngredientCategories] AS [i0] ON [i].[IngredientCategoriesId] = [i0].[Id]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[InitialQuantity], [t].[ValidUntil], [t].[Price], [i1].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i1]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i1].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i1].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [i0].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 14:14:09.989 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ConsignmentListItems.
2019-11-28 14:14:10.859 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 870.1809000000001ms.
2019-11-28 14:14:10.863 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro) in 2289.7394ms
2019-11-28 14:14:10.869 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 14:14:10.874 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 2337.3155ms 200 text/html; charset=utf-8
2019-11-28 14:14:12.664 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentListItems?sortfield=IngredientName&sortorder=asc&searchcriteria=&_=1574943248479  
2019-11-28 14:14:12.672 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 14:14:12.677 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 14:14:12.680 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentListItems", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 14:14:13.719 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 14:14:13.749 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Name], [i].[Id], [i].[Name], [i].[StockValue], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[InitialQuantity], [t2].[ValidUntil], [t2].[Price], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
INNER JOIN [IngredientCategories] AS [i0] ON [i].[IngredientCategoriesId] = [i0].[Id]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[InitialQuantity], [t].[ValidUntil], [t].[Price], [i1].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i1]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i1].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i1].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Name], [i].[Id], [i0].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 14:14:13.784 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ConsignmentListItems.
2019-11-28 14:14:14.443 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 658.4264000000001ms.
2019-11-28 14:14:14.447 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro) in 1763.4724ms
2019-11-28 14:14:14.450 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 14:14:14.454 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1790.5393000000001ms 200 text/html; charset=utf-8
2019-11-28 14:14:31.906 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentListItems?searchcriteria=%D0%BC%D0%BE%D0%BB%D0%BE&_=1574943248480  
2019-11-28 14:14:31.910 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 14:14:31.913 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 14:14:31.915 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentListItems", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 14:14:31.918 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 14:14:31.943 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_2='?' (Size = 4000), @__companyid_0='?' (DbType = Int32), @__querymodel_SearchCriteria_1='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Name], [i].[Id], [i].[Name], [i].[StockValue], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[InitialQuantity], [t2].[ValidUntil], [t2].[Price], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
INNER JOIN [IngredientCategories] AS [i0] ON [i].[IngredientCategoriesId] = [i0].[Id]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_2
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[InitialQuantity], [t].[ValidUntil], [t].[Price], [i1].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i1]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i1].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i1].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE (([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL) AND (((@__querymodel_SearchCriteria_1 = N'') AND @__querymodel_SearchCriteria_1 IS NOT NULL) OR (CHARINDEX(@__querymodel_SearchCriteria_1, [i].[Name]) > 0))
ORDER BY [i].[Id], [i0].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 14:14:31.972 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ConsignmentListItems.
2019-11-28 14:14:31.984 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 11.387500000000001ms.
2019-11-28 14:14:31.986 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro) in 68.7185ms
2019-11-28 14:14:31.988 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 14:14:31.990 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 84.3938ms 200 text/html; charset=utf-8
2019-11-28 14:14:42.393 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Stock/ConsignmentListItems?searchcriteria=&_=1574943248481  
2019-11-28 14:14:42.397 +02:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-11-28 14:14:42.400 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 14:14:42.402 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ConsignmentListItems", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsignmentListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.StockController (CateringPro).
2019-11-28 14:14:42.406 +02:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-11-28 14:14:42.415 +02:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__p_1='?' (Size = 4000), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Name], [i].[Id], [i].[Name], [i].[StockValue], [i].[MeasureUnit], [t2].[Number], [t2].[Date], [t2].[c], [t2].[LineId], [t2].[IngredientsId], [t2].[Quantity], [t2].[InitialQuantity], [t2].[ValidUntil], [t2].[Price], [t2].[Id], [t2].[CompanyId], [t2].[Id0], [t2].[Id1]
FROM [Ingredients] AS [i]
INNER JOIN [IngredientCategories] AS [i0] ON [i].[IngredientCategoriesId] = [i0].[Id]
LEFT JOIN (
    SELECT [t1].[Number], [t1].[Date], CASE
        WHEN [t1].[Type] = 1 THEN @__p_1
        ELSE N'...'
    END AS [c], [t].[LineId], [t].[IngredientsId], [t].[Quantity], [t].[InitialQuantity], [t].[ValidUntil], [t].[Price], [i1].[Id], [t].[CompanyId], [t0].[Id] AS [Id0], [t1].[Id] AS [Id1]
    FROM [Ingredients] AS [i1]
    INNER JOIN (
        SELECT [c].[CompanyId], [c].[LineId], [c].[IngredientsId], [c].[InitialQuantity], [c].[Price], [c].[Quantity], [c].[ValidUntil]
        FROM [Consignment] AS [c]
        WHERE ([c].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t] ON [i1].[Id] = [t].[IngredientsId]
    INNER JOIN (
        SELECT [d].[Id], [d].[Amount], [d].[CompanyId], [d].[DocsId], [d].[IngredientsId], [d].[Number], [d].[Price], [d].[Quantity], [d].[ValidTo]
        FROM [DocLines] AS [d]
        WHERE ([d].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t0] ON [t].[LineId] = [t0].[Id]
    INNER JOIN (
        SELECT [d0].[Id], [d0].[Amount], [d0].[CompanyId], [d0].[Date], [d0].[Description], [d0].[Number], [d0].[Type]
        FROM [Docs] AS [d0]
        WHERE ([d0].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
    ) AS [t1] ON [t0].[DocsId] = [t1].[Id]
    WHERE ([i1].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
) AS [t2] ON [i].[Id] = [t2].[IngredientsId]
WHERE ([i].[CompanyId] = @__companyid_0) AND @__companyid_0 IS NOT NULL
ORDER BY [i].[Id], [i0].[Id], [t2].[Id], [t2].[CompanyId], [t2].[LineId], [t2].[IngredientsId], [t2].[Id0], [t2].[Id1]
2019-11-28 14:14:42.426 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ConsignmentListItems.
2019-11-28 14:14:42.767 +02:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 342.01930000000004ms.
2019-11-28 14:14:42.769 +02:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro) in 364.82410000000004ms
2019-11-28 14:14:42.771 +02:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.StockController.ConsignmentListItems (CateringPro)'
2019-11-28 14:14:42.774 +02:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 380.6377ms 200 text/html; charset=utf-8
