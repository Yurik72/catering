2019-09-20 13:57:15.908 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 13:57:15.922 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'OrderTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 13:57:15.924 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 13:57:15.926 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Pizzas'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 13:57:15.968 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 13:57:16.097 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (29ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-09-20 13:57:16.156 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-09-20 13:57:16.296 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2019-09-20 13:57:16.930 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 DEBUG http://localhost:51321/  0
2019-09-20 13:57:16.935 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-09-20 13:57:16.979 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 46.9323ms 200 
2019-09-20 13:57:17.215 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Index", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 13:57:17.227 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed.
2019-09-20 13:57:17.230 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-09-20 13:57:17.236 +03:00 [Information] Microsoft.AspNetCore.Mvc.ChallengeResult: Executing ChallengeResult with authentication schemes ().
2019-09-20 13:57:17.244 +03:00 [Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: AuthenticationScheme: Identity.Application was challenged.
2019-09-20 13:57:17.247 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.Index (CateringPro) in 28.8968ms
2019-09-20 13:57:17.256 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 326.7125ms 302 
2019-09-20 13:57:17.259 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/Account/Login?ReturnUrl=%2F  
2019-09-20 13:57:17.275 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller CateringPro.Controllers.AccountController (CateringPro).
2019-09-20 13:57:17.303 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.AccountController.Login (CateringPro) - Validation state: Valid
2019-09-20 13:57:17.307 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.AccountController.Login (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.972ms.
2019-09-20 13:57:17.328 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Login.
2019-09-20 13:57:17.492 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Login executed in 178.1023ms.
2019-09-20 13:57:17.494 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.AccountController.Login (CateringPro) in 217.5659ms
2019-09-20 13:57:17.500 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 239.7276ms 200 text/html; charset=utf-8
2019-09-20 13:57:19.822 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/Account/Login application/x-www-form-urlencoded 232
2019-09-20 13:57:19.830 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CateringPro.ViewModels.LoginViewModel) on controller CateringPro.Controllers.AccountController (CateringPro).
2019-09-20 13:57:19.863 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.AccountController.Login (CateringPro) - Validation state: Valid
2019-09-20 13:57:19.869 +03:00 [Information] CateringPro.Models.CompanyUser: User admin is going to login 
2019-09-20 13:57:19.877 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 13:57:19.959 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2019-09-20 13:57:20.044 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2019-09-20 13:57:20.091 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2019-09-20 13:57:20.127 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0
2019-09-20 13:57:20.148 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2019-09-20 13:57:20.170 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2019-09-20 13:57:22.719 +03:00 [Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: AuthenticationScheme: Identity.Application signed in.
2019-09-20 13:57:22.726 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.AccountController.Login (CateringPro), returned result Microsoft.AspNetCore.Mvc.RedirectResult in 2861.0132ms.
2019-09-20 13:57:22.734 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor: Executing RedirectResult, redirecting to /.
2019-09-20 13:57:22.739 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.AccountController.Login (CateringPro) in 2906.7955ms
2019-09-20 13:57:22.750 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 2926.1073ms 302 
2019-09-20 13:57:22.755 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-09-20 13:57:22.762 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Index", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 13:57:22.766 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 13:57:22.769 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro) - Validation state: Valid
2019-09-20 13:57:22.772 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.8571ms.
2019-09-20 13:57:22.777 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-09-20 13:57:22.812 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 13:57:22.840 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 13:57:22.843 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 13:57:22.845 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 13:57:22.847 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 13:57:22.864 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.868 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.871 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.876 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.878 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.880 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.882 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.885 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.886 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.888 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.890 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.892 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.894 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.897 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.899 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.901 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.905 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType14`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.911 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.913 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.915 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.917 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.919 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.921 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.923 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.926 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.928 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.930 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.932 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.935 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.937 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.940 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.942 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.944 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.946 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType14`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.949 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'join Categories cat in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[CateringPro.Models.Categories]) on [catgroup].Key equals [cat].Id' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.952 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'orderby [cat].Code asc' could not be translated and will be evaluated locally.
2019-09-20 13:57:22.983 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Id], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 13:57:22.990 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Id], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 13:57:22.994 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Id], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 13:57:22.998 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Id], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 13:57:23.002 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Id], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 13:57:23.006 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Id], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 13:57:23.010 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Id], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 13:57:23.017 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 243.1788ms.
2019-09-20 13:57:23.022 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.Index (CateringPro) in 255.0338ms
2019-09-20 13:57:23.028 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 270.4172ms 200 text/html; charset=utf-8
2019-09-20 13:57:26.300 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/Categories  
2019-09-20 13:57:26.309 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Index", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.CategoriesController (CateringPro).
2019-09-20 13:57:26.312 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 13:57:26.321 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.CategoriesController.Index (CateringPro) - Validation state: Valid
2019-09-20 13:57:26.326 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 13:57:26.336 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name]
FROM [Categories] AS [c]
2019-09-20 13:57:26.362 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.CategoriesController.Index (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 38.4737ms.
2019-09-20 13:57:26.368 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-09-20 13:57:26.376 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 11.3735ms.
2019-09-20 13:57:26.382 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.CategoriesController.Index (CateringPro) in 66.7598ms
2019-09-20 13:57:26.385 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 84.7624ms 200 text/html; charset=utf-8
2019-09-20 13:57:26.468 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/Categories/ListItems?searchcriteria=&_=1568977046417  
2019-09-20 13:57:26.476 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(System.String) on controller CateringPro.Controllers.CategoriesController (CateringPro).
2019-09-20 13:57:26.479 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 13:57:26.483 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.CategoriesController.ListItems (CateringPro) - Validation state: Valid
2019-09-20 13:57:26.489 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 13:57:26.493 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name]
FROM [Categories] AS [c]
2019-09-20 13:57:26.500 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.CategoriesController.ListItems (CateringPro), returned result Microsoft.AspNetCore.Mvc.PartialViewResult in 12.1962ms.
2019-09-20 13:57:26.506 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2019-09-20 13:57:26.529 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 25.3283ms.
2019-09-20 13:57:26.532 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.CategoriesController.ListItems (CateringPro) in 52.863ms
2019-09-20 13:57:26.534 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 70.8613ms 200 text/html; charset=utf-8
2019-09-20 13:57:37.791 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/Categories/EditModal/3?_=1568977046418  
2019-09-20 13:57:37.795 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/Categories/EditModal/3?_=1568977046419  
2019-09-20 13:57:37.806 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.CategoriesController (CateringPro).
2019-09-20 13:57:37.811 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 13:57:37.814 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.CategoriesController.EditModal (CateringPro) - Validation state: Valid
2019-09-20 13:57:37.816 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.CategoriesController (CateringPro).
2019-09-20 13:57:37.818 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 13:57:37.820 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.CategoriesController.EditModal (CateringPro) - Validation state: Valid
2019-09-20 13:57:37.822 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 13:57:37.824 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 13:57:37.841 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Code], [e].[CompanyId], [e].[Description], [e].[Name]
FROM [Categories] AS [e]
WHERE [e].[Id] = @__get_Item_0
2019-09-20 13:57:37.854 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Code], [e].[CompanyId], [e].[Description], [e].[Name]
FROM [Categories] AS [e]
WHERE [e].[Id] = @__get_Item_0
2019-09-20 13:57:37.861 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.CategoriesController.EditModal (CateringPro), returned result Microsoft.AspNetCore.Mvc.PartialViewResult in 44.025ms.
2019-09-20 13:57:37.864 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.CategoriesController.EditModal (CateringPro), returned result Microsoft.AspNetCore.Mvc.PartialViewResult in 37.555ms.
2019-09-20 13:57:37.868 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2019-09-20 13:57:37.871 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2019-09-20 13:57:37.896 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 31.7244ms.
2019-09-20 13:57:37.898 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 29.684ms.
2019-09-20 13:57:37.900 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.CategoriesController.EditModal (CateringPro) in 91.3937ms
2019-09-20 13:57:37.902 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.CategoriesController.EditModal (CateringPro) in 82.6757ms
2019-09-20 13:57:37.904 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 109.3634ms 200 text/html; charset=utf-8
2019-09-20 13:57:37.906 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 114.8285ms 200 text/html; charset=utf-8
2019-09-20 13:57:40.591 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/Categories/EditModal/3 application/x-www-form-urlencoded; charset=UTF-8 296
2019-09-20 13:57:40.612 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Categories) on controller CateringPro.Controllers.CategoriesController (CateringPro).
2019-09-20 13:57:40.614 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 13:57:40.622 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.CategoriesController.EditModal (CateringPro) - Validation state: Valid
2019-09-20 13:57:56.110 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 13:57:56.191 +03:00 [Error] Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (6ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 10), @p1='?' (DbType = Int32), @p2='?' (Size = 255), @p3='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Categories] SET [Code] = @p0, [CompanyId] = @p1, [Description] = @p2, [Name] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
System.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Categories_Companies_CompanyId". The conflict occurred in database "CateringPro", table "dbo.Companies", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
ClientConnectionId:f82694d8-6f32-4ca8-bacb-dcd1c1115caf
Error Number:547,State:0,Class:16
2019-09-20 13:57:56.208 +03:00 [Error] Microsoft.EntityFrameworkCore.Update: An exception occurred in the database while saving changes for context type 'CateringPro.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Categories_Companies_CompanyId". The conflict occurred in database "CateringPro", table "dbo.Companies", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Categories_Companies_CompanyId". The conflict occurred in database "CateringPro", table "dbo.Companies", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2019-09-20 13:57:56.264 +03:00 [Error] CateringPro.Models.CompanyUser: Update Categories
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Categories_Companies_CompanyId". The conflict occurred in database "CateringPro", table "dbo.Companies", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CateringPro.Repositories.CompanyExtension.UpdateCompanyData[TEntity](Controller ctl, TEntity entity, AppDbContext _context, ILogger`1 _logger) in C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\Repositories\CompanyExtension.cs:line 24
2019-09-20 13:57:56.266 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.CategoriesController.EditModal (CateringPro), returned result Microsoft.AspNetCore.Mvc.NotFoundResult in 15642.5918ms.
2019-09-20 13:57:56.269 +03:00 [Information] Microsoft.AspNetCore.Mvc.StatusCodeResult: Executing HttpStatusCodeResult, setting HTTP status code 404
2019-09-20 13:57:56.271 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.CategoriesController.EditModal (CateringPro) in 15657.5403ms
2019-09-20 13:57:56.274 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 15683.5004ms 404 
2019-09-20 13:59:26.963 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/Categories/EditModal/3 application/x-www-form-urlencoded; charset=UTF-8 296
2019-09-20 14:00:58.944 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Categories) on controller CateringPro.Controllers.CategoriesController (CateringPro).
2019-09-20 14:01:09.252 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 14:01:11.324 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.CategoriesController.EditModal (CateringPro) - Validation state: Valid
2019-09-20 14:01:21.634 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 14:02:48.844 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 10), @p1='?' (DbType = Int32), @p2='?' (Size = 255), @p3='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Categories] SET [Code] = @p0, [CompanyId] = @p1, [Description] = @p2, [Name] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2019-09-20 14:02:48.862 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.CategoriesController.EditModal (CateringPro), returned result Microsoft.AspNetCore.Mvc.JsonResult in 97535.5831ms.
2019-09-20 14:02:48.867 +03:00 [Information] Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-09-20 14:02:48.980 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.CategoriesController.EditModal (CateringPro) in 104854.7959ms
2019-09-20 14:02:48.982 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 209406.3539ms 200 application/json; charset=utf-8
2019-09-20 14:02:48.990 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/Categories/ListItems?searchcriteria=&_=1568977046420  
2019-09-20 14:02:48.993 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(System.String) on controller CateringPro.Controllers.CategoriesController (CateringPro).
2019-09-20 14:02:48.995 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 14:02:48.997 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.CategoriesController.ListItems (CateringPro) - Validation state: Valid
2019-09-20 14:02:49.000 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 14:02:49.004 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name]
FROM [Categories] AS [c]
2019-09-20 14:02:49.006 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.CategoriesController.ListItems (CateringPro), returned result Microsoft.AspNetCore.Mvc.PartialViewResult in 7.4107ms.
2019-09-20 14:02:49.008 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2019-09-20 14:02:49.013 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 4.4094ms.
2019-09-20 14:02:49.014 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.CategoriesController.ListItems (CateringPro) in 19.6972ms
2019-09-20 14:02:49.016 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 25.864ms 200 text/html; charset=utf-8
2019-09-20 14:56:42.250 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 14:56:42.264 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'OrderTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 14:56:42.266 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 14:56:42.268 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Pizzas'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 14:56:42.306 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 14:56:52.596 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (134ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CateringPro];
2019-09-20 14:56:52.645 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CateringPro] SET READ_COMMITTED_SNAPSHOT ON;
END;
2019-09-20 14:56:52.699 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2019-09-20 14:56:52.704 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    [CompanyId] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2019-09-20 14:56:52.707 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Companies] (
    [Id] int NOT NULL IDENTITY,
    [Code] nvarchar(10) NOT NULL,
    [Name] nvarchar(40) NOT NULL,
    CONSTRAINT [PK_Companies] PRIMARY KEY ([Id])
);
2019-09-20 14:56:52.712 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [IdentityUser] (
    [Id] nvarchar(450) NOT NULL,
    [UserName] nvarchar(max) NULL,
    [NormalizedUserName] nvarchar(max) NULL,
    [Email] nvarchar(max) NULL,
    [NormalizedEmail] nvarchar(max) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_IdentityUser] PRIMARY KEY ([Id])
);
2019-09-20 14:56:52.715 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Ingredients] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    CONSTRAINT [PK_Ingredients] PRIMARY KEY ([Id])
);
2019-09-20 14:56:52.719 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2019-09-20 14:56:52.723 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2019-09-20 14:56:52.727 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2019-09-20 14:56:52.731 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2019-09-20 14:56:52.736 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2019-09-20 14:56:52.740 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Categories] (
    [Id] int NOT NULL IDENTITY,
    [CompanyId] int NOT NULL,
    [Code] nvarchar(10) NOT NULL,
    [Name] nvarchar(100) NOT NULL,
    [Description] nvarchar(255) NULL,
    CONSTRAINT [PK_Categories] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Categories_Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [Companies] ([Id]) ON DELETE CASCADE
);
2019-09-20 14:56:52.744 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserWeekBasket] (
    [UserId] nvarchar(450) NOT NULL,
    [BasketDate] datetime2 NOT NULL,
    [Id] int NOT NULL,
    [CompanyId] int NOT NULL,
    CONSTRAINT [PK_UserWeekBasket] PRIMARY KEY ([UserId], [BasketDate]),
    CONSTRAINT [FK_UserWeekBasket_Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [Companies] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserWeekBasket_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2019-09-20 14:56:52.749 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Orders] (
    [OrderId] int NOT NULL IDENTITY,
    [FirstName] nvarchar(50) NOT NULL,
    [LastName] nvarchar(50) NOT NULL,
    [AddressLine1] nvarchar(100) NOT NULL,
    [AddressLine2] nvarchar(max) NULL,
    [ZipCode] nvarchar(10) NOT NULL,
    [City] nvarchar(50) NOT NULL,
    [State] nvarchar(10) NULL,
    [Country] nvarchar(50) NOT NULL,
    [PhoneNumber] nvarchar(25) NOT NULL,
    [Email] nvarchar(50) NOT NULL,
    [OrderTotal] decimal(18,2) NOT NULL,
    [OrderPlaced] datetime2 NOT NULL,
    [UserId] nvarchar(450) NULL,
    CONSTRAINT [PK_Orders] PRIMARY KEY ([OrderId]),
    CONSTRAINT [FK_Orders_IdentityUser_UserId] FOREIGN KEY ([UserId]) REFERENCES [IdentityUser] ([Id]) ON DELETE NO ACTION
);
2019-09-20 14:56:52.754 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Dishes] (
    [Id] int NOT NULL IDENTITY,
    [CompanyId] int NOT NULL,
    [Code] nvarchar(10) NOT NULL,
    [Name] nvarchar(100) NOT NULL,
    [Price] decimal(18,2) NOT NULL,
    [Description] nvarchar(255) NOT NULL,
    [CategoriesId] int NOT NULL,
    CONSTRAINT [PK_Dishes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Dishes_Categories_CategoriesId] FOREIGN KEY ([CategoriesId]) REFERENCES [Categories] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Dishes_Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [Companies] ([Id]) ON DELETE CASCADE
);
2019-09-20 14:56:52.758 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Pizzas] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Price] decimal(18,2) NOT NULL,
    [Description] nvarchar(255) NOT NULL,
    [ImageUrl] nvarchar(max) NULL,
    [IsPizzaOfTheWeek] bit NOT NULL,
    [CategoriesId] int NOT NULL,
    CONSTRAINT [PK_Pizzas] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Pizzas_Categories_CategoriesId] FOREIGN KEY ([CategoriesId]) REFERENCES [Categories] ([Id]) ON DELETE CASCADE
);
2019-09-20 14:56:52.762 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [DayDish] (
    [CompanyId] int NOT NULL,
    [Date] date NOT NULL,
    [DishId] int NOT NULL,
    [Id] int NOT NULL,
    CONSTRAINT [PK_DayDish] PRIMARY KEY ([Date], [DishId], [CompanyId]),
    CONSTRAINT [FK_DayDish_Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [Companies] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_DayDish_Dishes_DishId] FOREIGN KEY ([DishId]) REFERENCES [Dishes] ([Id]) ON DELETE NO ACTION
);
2019-09-20 14:56:52.766 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [DishCategory] (
    [DishId] int NOT NULL,
    [CategoryId] int NOT NULL,
    CONSTRAINT [PK_DishCategory] PRIMARY KEY ([DishId], [CategoryId]),
    CONSTRAINT [FK_DishCategory_Categories_CategoryId] FOREIGN KEY ([CategoryId]) REFERENCES [Categories] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_DishCategory_Dishes_DishId] FOREIGN KEY ([DishId]) REFERENCES [Dishes] ([Id]) ON DELETE CASCADE
);
2019-09-20 14:56:52.771 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserDayDish] (
    [CompanyId] int NOT NULL,
    [UserId] nvarchar(450) NOT NULL,
    [Date] date NOT NULL,
    [DishId] int NOT NULL,
    [Id] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_UserDayDish] PRIMARY KEY ([UserId], [Date], [DishId], [CompanyId]),
    CONSTRAINT [FK_UserDayDish_Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [Companies] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserDayDish_Dishes_DishId] FOREIGN KEY ([DishId]) REFERENCES [Dishes] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserDayDish_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2019-09-20 14:56:52.779 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [OrderDetails] (
    [OrderDetailId] int NOT NULL IDENTITY,
    [OrderId] int NOT NULL,
    [PizzaId] int NOT NULL,
    [Amount] int NOT NULL,
    [Price] decimal(18,2) NOT NULL,
    CONSTRAINT [PK_OrderDetails] PRIMARY KEY ([OrderDetailId]),
    CONSTRAINT [FK_OrderDetails_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([OrderId]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderDetails_Pizzas_PizzaId] FOREIGN KEY ([PizzaId]) REFERENCES [Pizzas] ([Id]) ON DELETE CASCADE
);
2019-09-20 14:56:52.784 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [PizzaIngredients] (
    [Id] int NOT NULL IDENTITY,
    [PizzaId] int NOT NULL,
    [IngredientId] int NOT NULL,
    CONSTRAINT [PK_PizzaIngredients] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_PizzaIngredients_Ingredients_IngredientId] FOREIGN KEY ([IngredientId]) REFERENCES [Ingredients] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_PizzaIngredients_Pizzas_PizzaId] FOREIGN KEY ([PizzaId]) REFERENCES [Pizzas] ([Id]) ON DELETE CASCADE
);
2019-09-20 14:56:52.788 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Reviews] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(100) NOT NULL,
    [Description] nvarchar(500) NOT NULL,
    [Grade] int NOT NULL,
    [Date] datetime2 NOT NULL,
    [PizzaId] int NOT NULL,
    [UserId] nvarchar(450) NULL,
    CONSTRAINT [PK_Reviews] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Reviews_Pizzas_PizzaId] FOREIGN KEY ([PizzaId]) REFERENCES [Pizzas] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Reviews_IdentityUser_UserId] FOREIGN KEY ([UserId]) REFERENCES [IdentityUser] ([Id]) ON DELETE NO ACTION
);
2019-09-20 14:56:52.793 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [ShoppingCartItems] (
    [ShoppingCartItemId] int NOT NULL IDENTITY,
    [PizzaId] int NULL,
    [Amount] int NOT NULL,
    [ShoppingCartId] nvarchar(max) NULL,
    CONSTRAINT [PK_ShoppingCartItems] PRIMARY KEY ([ShoppingCartItemId]),
    CONSTRAINT [FK_ShoppingCartItems_Pizzas_PizzaId] FOREIGN KEY ([PizzaId]) REFERENCES [Pizzas] ([Id]) ON DELETE NO ACTION
);
2019-09-20 14:56:52.796 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2019-09-20 14:56:52.798 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2019-09-20 14:56:52.800 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2019-09-20 14:56:52.803 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2019-09-20 14:56:52.805 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2019-09-20 14:56:52.808 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2019-09-20 14:56:52.812 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2019-09-20 14:56:52.814 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Categories_CompanyId] ON [Categories] ([CompanyId]);
2019-09-20 14:56:52.817 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_DayDish_CompanyId] ON [DayDish] ([CompanyId]);
2019-09-20 14:56:52.819 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_DayDish_DishId] ON [DayDish] ([DishId]);
2019-09-20 14:56:52.821 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_DishCategory_CategoryId] ON [DishCategory] ([CategoryId]);
2019-09-20 14:56:52.824 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Dishes_CategoriesId] ON [Dishes] ([CategoriesId]);
2019-09-20 14:56:52.827 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Dishes_CompanyId] ON [Dishes] ([CompanyId]);
2019-09-20 14:56:52.829 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_OrderDetails_OrderId] ON [OrderDetails] ([OrderId]);
2019-09-20 14:56:52.831 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_OrderDetails_PizzaId] ON [OrderDetails] ([PizzaId]);
2019-09-20 14:56:52.833 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Orders_UserId] ON [Orders] ([UserId]);
2019-09-20 14:56:52.834 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_PizzaIngredients_IngredientId] ON [PizzaIngredients] ([IngredientId]);
2019-09-20 14:56:52.836 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_PizzaIngredients_PizzaId] ON [PizzaIngredients] ([PizzaId]);
2019-09-20 14:56:52.838 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Pizzas_CategoriesId] ON [Pizzas] ([CategoriesId]);
2019-09-20 14:56:52.841 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Reviews_PizzaId] ON [Reviews] ([PizzaId]);
2019-09-20 14:56:52.844 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Reviews_UserId] ON [Reviews] ([UserId]);
2019-09-20 14:56:52.846 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_ShoppingCartItems_PizzaId] ON [ShoppingCartItems] ([PizzaId]);
2019-09-20 14:56:52.849 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserDayDish_CompanyId] ON [UserDayDish] ([CompanyId]);
2019-09-20 14:56:52.851 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserDayDish_DishId] ON [UserDayDish] ([DishId]);
2019-09-20 14:56:52.853 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserWeekBasket_CompanyId] ON [UserWeekBasket] ([CompanyId]);
2019-09-20 14:56:52.898 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-09-20 14:56:52.970 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2019-09-20 14:56:52.988 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[IngredientId], [p].[PizzaId]
FROM [PizzaIngredients] AS [p]
2019-09-20 14:56:52.996 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Name]
FROM [Ingredients] AS [i]
2019-09-20 14:56:53.002 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[Date], [r].[Description], [r].[Grade], [r].[PizzaId], [r].[Title], [r].[UserId]
FROM [Reviews] AS [r]
2019-09-20 14:56:53.010 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [s].[ShoppingCartItemId], [s].[Amount], [s].[PizzaId], [s].[ShoppingCartId]
FROM [ShoppingCartItems] AS [s]
2019-09-20 14:56:53.018 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[CompanyId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2019-09-20 14:56:53.026 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
2019-09-20 14:56:53.032 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [o].[OrderDetailId], [o].[Amount], [o].[OrderId], [o].[PizzaId], [o].[Price]
FROM [OrderDetails] AS [o]
2019-09-20 14:56:53.041 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [o].[OrderId], [o].[AddressLine1], [o].[AddressLine2], [o].[City], [o].[Country], [o].[Email], [o].[FirstName], [o].[LastName], [o].[OrderPlaced], [o].[OrderTotal], [o].[PhoneNumber], [o].[State], [o].[UserId], [o].[ZipCode]
FROM [Orders] AS [o]
2019-09-20 14:56:53.049 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoriesId], [p].[Description], [p].[ImageUrl], [p].[IsPizzaOfTheWeek], [p].[Name], [p].[Price]
FROM [Pizzas] AS [p]
2019-09-20 14:56:53.056 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name]
FROM [Categories] AS [c]
2019-09-20 14:56:53.109 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2019-09-20 14:56:53.136 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2019-09-20 14:56:53.178 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2019-09-20 14:56:53.232 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2019-09-20 14:56:53.252 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2019-09-20 14:56:53.306 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [CompanyId], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2019-09-20 14:56:53.324 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2019-09-20 14:56:53.339 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450), @__get_Item_1='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[UserId], [e].[RoleId]
FROM [AspNetUserRoles] AS [e]
WHERE ([e].[UserId] = @__get_Item_0) AND ([e].[RoleId] = @__get_Item_1)
2019-09-20 14:56:53.345 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2019-09-20 14:56:53.357 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2019-09-20 14:56:53.364 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2019-09-20 14:56:53.372 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([UserId], [RoleId])
VALUES (@p0, @p1);
2019-09-20 14:56:53.382 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p16='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CompanyId] = @p1, [ConcurrencyStamp] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;
2019-09-20 14:56:53.402 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2019-09-20 14:56:53.406 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2019-09-20 14:56:53.411 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [CompanyId], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2019-09-20 14:56:53.422 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2019-09-20 14:56:53.425 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2019-09-20 14:56:53.428 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [CompanyId], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2019-09-20 14:56:53.438 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2019-09-20 14:56:53.441 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2019-09-20 14:56:53.445 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [CompanyId], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2019-09-20 14:56:53.455 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2019-09-20 14:56:53.458 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2019-09-20 14:56:53.461 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [CompanyId], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2019-09-20 14:56:53.471 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2019-09-20 14:56:53.474 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2019-09-20 14:56:53.478 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [CompanyId], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2019-09-20 14:56:56.617 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 10), @p1='?' (Size = 40)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Companies] ([Code], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Companies]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-09-20 14:56:56.625 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 10), @p1='?' (Size = 40)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Companies] ([Code], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Companies]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-09-20 14:56:57.872 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (26ms) [Parameters=[@p0='?' (Size = 10), @p1='?' (DbType = Int32), @p2='?' (Size = 255), @p3='?' (Size = 100), @p4='?' (Size = 10), @p5='?' (DbType = Int32), @p6='?' (Size = 255), @p7='?' (Size = 100), @p8='?' (Size = 10), @p9='?' (DbType = Int32), @p10='?' (Size = 255), @p11='?' (Size = 100), @p12='?' (Size = 10), @p13='?' (DbType = Int32), @p14='?' (Size = 255), @p15='?' (Size = 100), @p16='?' (Size = 10), @p17='?' (DbType = Int32), @p18='?' (Size = 255), @p19='?' (Size = 100), @p20='?' (DbType = Int32), @p21='?' (Size = 10), @p22='?' (DbType = Int32), @p23='?' (Size = 255), @p24='?' (Size = 100), @p25='?' (DbType = Decimal), @p26='?' (DbType = Int32), @p27='?' (Size = 10), @p28='?' (DbType = Int32), @p29='?' (Size = 255), @p30='?' (Size = 100), @p31='?' (DbType = Decimal), @p32='?' (DbType = Int32), @p33='?' (Size = 10), @p34='?' (DbType = Int32), @p35='?' (Size = 255), @p36='?' (Size = 100), @p37='?' (DbType = Decimal), @p38='?' (DbType = Int32), @p39='?' (Size = 10), @p40='?' (DbType = Int32), @p41='?' (Size = 255), @p42='?' (Size = 100), @p43='?' (DbType = Decimal), @p44='?' (Size = 100), @p45='?' (Size = 100), @p46='?' (Size = 100), @p47='?' (Size = 100), @p48='?' (Size = 100), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (Size = 100), @p53='?' (Size = 100), @p54='?' (Size = 100), @p55='?' (Size = 100), @p56='?' (Size = 100), @p57='?' (Size = 100), @p58='?' (Size = 100), @p59='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Categories] USING (
VALUES (@p0, @p1, @p2, @p3, 0),
(@p4, @p5, @p6, @p7, 1),
(@p8, @p9, @p10, @p11, 2),
(@p12, @p13, @p14, @p15, 3),
(@p16, @p17, @p18, @p19, 4)) AS i ([Code], [CompanyId], [Description], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Code], [CompanyId], [Description], [Name])
VALUES (i.[Code], i.[CompanyId], i.[Description], i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [t].[Id] FROM [Categories] t
INNER JOIN @inserted0 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];

DECLARE @inserted5 TABLE ([Id] int, [_Position] [int]);
MERGE [Dishes] USING (
VALUES (@p20, @p21, @p22, @p23, @p24, @p25, 0),
(@p26, @p27, @p28, @p29, @p30, @p31, 1),
(@p32, @p33, @p34, @p35, @p36, @p37, 2),
(@p38, @p39, @p40, @p41, @p42, @p43, 3)) AS i ([CategoriesId], [Code], [CompanyId], [Description], [Name], [Price], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CategoriesId], [Code], [CompanyId], [Description], [Name], [Price])
VALUES (i.[CategoriesId], i.[Code], i.[CompanyId], i.[Description], i.[Name], i.[Price])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted5;

SELECT [t].[Id] FROM [Dishes] t
INNER JOIN @inserted5 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];

DECLARE @inserted9 TABLE ([Id] int, [_Position] [int]);
MERGE [Ingredients] USING (
VALUES (@p44, 0),
(@p45, 1),
(@p46, 2),
(@p47, 3),
(@p48, 4),
(@p49, 5),
(@p50, 6),
(@p51, 7),
(@p52, 8),
(@p53, 9),
(@p54, 10),
(@p55, 11),
(@p56, 12),
(@p57, 13),
(@p58, 14),
(@p59, 15)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted9;

SELECT [t].[Id] FROM [Ingredients] t
INNER JOIN @inserted9 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];
2019-09-20 14:56:57.904 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@p60='?' (DbType = Int32), @p61='?' (Size = 255), @p62='?' (Size = 4000), @p63='?' (DbType = Boolean), @p64='?' (Size = 100), @p65='?' (DbType = Decimal), @p66='?' (DbType = Int32), @p67='?' (Size = 255), @p68='?' (Size = 4000), @p69='?' (DbType = Boolean), @p70='?' (Size = 100), @p71='?' (DbType = Decimal), @p72='?' (DbType = Int32), @p73='?' (Size = 255), @p74='?' (Size = 4000), @p75='?' (DbType = Boolean), @p76='?' (Size = 100), @p77='?' (DbType = Decimal), @p78='?' (DbType = Int32), @p79='?' (Size = 255), @p80='?' (Size = 4000), @p81='?' (DbType = Boolean), @p82='?' (Size = 100), @p83='?' (DbType = Decimal), @p84='?' (DbType = Int32), @p85='?' (Size = 255), @p86='?' (Size = 4000), @p87='?' (DbType = Boolean), @p88='?' (Size = 100), @p89='?' (DbType = Decimal), @p90='?' (DbType = Int32), @p91='?' (Size = 255), @p92='?' (Size = 4000), @p93='?' (DbType = Boolean), @p94='?' (Size = 100), @p95='?' (DbType = Decimal), @p96='?' (DbType = Int32), @p97='?' (Size = 255), @p98='?' (Size = 4000), @p99='?' (DbType = Boolean), @p100='?' (Size = 100), @p101='?' (DbType = Decimal), @p102='?' (DbType = Int32), @p103='?' (Size = 255), @p104='?' (Size = 4000), @p105='?' (DbType = Boolean), @p106='?' (Size = 100), @p107='?' (DbType = Decimal), @p108='?' (DbType = Int32), @p109='?' (Size = 255), @p110='?' (Size = 4000), @p111='?' (DbType = Boolean), @p112='?' (Size = 100), @p113='?' (DbType = Decimal), @p114='?' (DbType = Int32), @p115='?' (Size = 255), @p116='?' (Size = 4000), @p117='?' (DbType = Boolean), @p118='?' (Size = 100), @p119='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Pizzas] USING (
VALUES (@p60, @p61, @p62, @p63, @p64, @p65, 0),
(@p66, @p67, @p68, @p69, @p70, @p71, 1),
(@p72, @p73, @p74, @p75, @p76, @p77, 2),
(@p78, @p79, @p80, @p81, @p82, @p83, 3),
(@p84, @p85, @p86, @p87, @p88, @p89, 4),
(@p90, @p91, @p92, @p93, @p94, @p95, 5),
(@p96, @p97, @p98, @p99, @p100, @p101, 6),
(@p102, @p103, @p104, @p105, @p106, @p107, 7),
(@p108, @p109, @p110, @p111, @p112, @p113, 8),
(@p114, @p115, @p116, @p117, @p118, @p119, 9)) AS i ([CategoriesId], [Description], [ImageUrl], [IsPizzaOfTheWeek], [Name], [Price], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CategoriesId], [Description], [ImageUrl], [IsPizzaOfTheWeek], [Name], [Price])
VALUES (i.[CategoriesId], i.[Description], i.[ImageUrl], i.[IsPizzaOfTheWeek], i.[Name], i.[Price])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [t].[Id] FROM [Pizzas] t
INNER JOIN @inserted0 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];
2019-09-20 14:56:58.288 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-09-20 14:56:58.289 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 DEBUG http://localhost:51321/  0
2019-09-20 14:56:58.329 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 39.8751ms 200 
2019-09-20 14:56:58.473 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Index", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 14:56:58.484 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed.
2019-09-20 14:56:58.486 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-09-20 14:56:58.492 +03:00 [Information] Microsoft.AspNetCore.Mvc.ChallengeResult: Executing ChallengeResult with authentication schemes ().
2019-09-20 14:56:58.499 +03:00 [Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: AuthenticationScheme: Identity.Application was challenged.
2019-09-20 14:56:58.502 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.Index (CateringPro) in 25.5975ms
2019-09-20 14:56:58.509 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 222.2338ms 302 
2019-09-20 14:56:58.513 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/Account/Login?ReturnUrl=%2F  
2019-09-20 14:56:58.529 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller CateringPro.Controllers.AccountController (CateringPro).
2019-09-20 14:56:58.551 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.AccountController.Login (CateringPro) - Validation state: Valid
2019-09-20 14:56:58.555 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.AccountController.Login (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.826ms.
2019-09-20 14:56:58.578 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Login.
2019-09-20 14:56:58.715 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Login executed in 152.9812ms.
2019-09-20 14:56:58.717 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.AccountController.Login (CateringPro) in 186.9418ms
2019-09-20 14:56:58.723 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 209.3444ms 200 text/html; charset=utf-8
2019-09-20 14:57:08.458 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/Account/Login application/x-www-form-urlencoded 232
2019-09-20 14:57:08.465 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CateringPro.ViewModels.LoginViewModel) on controller CateringPro.Controllers.AccountController (CateringPro).
2019-09-20 14:57:08.492 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.AccountController.Login (CateringPro) - Validation state: Valid
2019-09-20 14:57:08.497 +03:00 [Information] CateringPro.Models.CompanyUser: User admin is going to login 
2019-09-20 14:57:08.500 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 14:57:08.505 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2019-09-20 14:57:08.544 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2019-09-20 14:57:08.585 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2019-09-20 14:57:08.618 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0
2019-09-20 14:57:08.628 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2019-09-20 14:57:08.642 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2019-09-20 14:57:08.654 +03:00 [Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: AuthenticationScheme: Identity.Application signed in.
2019-09-20 14:57:08.660 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.AccountController.Login (CateringPro), returned result Microsoft.AspNetCore.Mvc.RedirectResult in 165.848ms.
2019-09-20 14:57:08.667 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor: Executing RedirectResult, redirecting to /.
2019-09-20 14:57:08.670 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.AccountController.Login (CateringPro) in 203.1638ms
2019-09-20 14:57:08.678 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 220.3881ms 302 
2019-09-20 14:57:08.684 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-09-20 14:57:08.692 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Index", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 14:57:08.694 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 14:57:08.696 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro) - Validation state: Valid
2019-09-20 14:57:08.699 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.9053ms.
2019-09-20 14:57:08.704 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-09-20 14:57:08.748 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 14:57:08.788 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 14:57:08.790 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 14:57:08.792 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 14:57:08.794 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 14:57:08.830 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.833 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.841 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.846 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.854 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.857 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.859 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.865 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.867 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.868 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.874 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.876 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.878 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.885 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.887 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.889 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.892 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType14`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.897 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.899 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.901 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.903 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.905 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.907 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.908 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.910 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.912 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.914 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.916 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.918 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.921 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.923 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.925 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.928 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.930 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType14`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.934 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'join Categories cat in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[CateringPro.Models.Categories]) on [catgroup].Key equals [cat].Id' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.936 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'orderby [cat].Code asc' could not be translated and will be evaluated locally.
2019-09-20 14:57:08.968 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [dd0].[Id], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Id], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 14:57:08.975 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [dd0].[Id], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Id], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 14:57:08.979 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [dd0].[Id], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Id], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 14:57:08.983 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [dd0].[Id], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Id], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 14:57:08.986 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [dd0].[Id], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Id], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 14:57:08.990 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [dd0].[Id], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Id], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 14:57:08.993 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [dd0].[Id], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Id], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 14:57:09.007 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 299.7626ms.
2019-09-20 14:57:09.009 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.Index (CateringPro) in 314.9985ms
2019-09-20 14:57:09.011 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 327.8051ms 200 text/html; charset=utf-8
2019-09-20 14:57:11.832 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/Categories  
2019-09-20 14:57:11.837 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Index", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.CategoriesController (CateringPro).
2019-09-20 14:57:11.839 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 14:57:11.842 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.CategoriesController.Index (CateringPro) - Validation state: Valid
2019-09-20 14:57:11.846 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 14:57:11.853 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name]
FROM [Categories] AS [c]
2019-09-20 14:57:11.860 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.CategoriesController.Index (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 16.2571ms.
2019-09-20 14:57:11.865 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-09-20 14:57:11.875 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 12.6688ms.
2019-09-20 14:57:11.880 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.CategoriesController.Index (CateringPro) in 37.982ms
2019-09-20 14:57:11.883 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 50.5236ms 200 text/html; charset=utf-8
2019-09-20 14:57:11.958 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/Categories/ListItems?searchcriteria=&_=1568980631915  
2019-09-20 14:57:11.964 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(System.String) on controller CateringPro.Controllers.CategoriesController (CateringPro).
2019-09-20 14:57:11.968 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 14:57:11.994 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.CategoriesController.ListItems (CateringPro) - Validation state: Valid
2019-09-20 14:57:11.999 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 14:57:12.002 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name]
FROM [Categories] AS [c]
2019-09-20 14:57:12.006 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.CategoriesController.ListItems (CateringPro), returned result Microsoft.AspNetCore.Mvc.PartialViewResult in 9.6214ms.
2019-09-20 14:57:12.011 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2019-09-20 14:57:12.029 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 19.8378ms.
2019-09-20 14:57:12.031 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.CategoriesController.ListItems (CateringPro) in 64.6181ms
2019-09-20 14:57:12.033 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 77.5105ms 200 text/html; charset=utf-8
2019-09-20 14:57:13.452 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/Categories/EditModal/1?_=1568980631916  
2019-09-20 14:57:13.454 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/Categories/EditModal/1?_=1568980631917  
2019-09-20 14:57:13.460 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.CategoriesController (CateringPro).
2019-09-20 14:57:13.462 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.CategoriesController (CateringPro).
2019-09-20 14:57:13.464 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 14:57:13.466 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 14:57:13.468 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.CategoriesController.EditModal (CateringPro) - Validation state: Valid
2019-09-20 14:57:13.472 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 14:57:13.474 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.CategoriesController.EditModal (CateringPro) - Validation state: Valid
2019-09-20 14:57:13.476 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 14:57:13.487 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Code], [e].[CompanyId], [e].[Description], [e].[Name]
FROM [Categories] AS [e]
WHERE [e].[Id] = @__get_Item_0
2019-09-20 14:57:13.500 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Code], [e].[CompanyId], [e].[Description], [e].[Name]
FROM [Categories] AS [e]
WHERE [e].[Id] = @__get_Item_0
2019-09-20 14:57:13.503 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.CategoriesController.EditModal (CateringPro), returned result Microsoft.AspNetCore.Mvc.PartialViewResult in 33.2204ms.
2019-09-20 14:57:13.505 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.CategoriesController.EditModal (CateringPro), returned result Microsoft.AspNetCore.Mvc.PartialViewResult in 27.0361ms.
2019-09-20 14:57:13.509 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2019-09-20 14:57:13.511 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2019-09-20 14:57:13.537 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 30.632ms.
2019-09-20 14:57:13.539 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 29.4853ms.
2019-09-20 14:57:13.540 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.CategoriesController.EditModal (CateringPro) in 75.5021ms
2019-09-20 14:57:13.542 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.CategoriesController.EditModal (CateringPro) in 79.4601ms
2019-09-20 14:57:13.544 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 90.9335ms 200 text/html; charset=utf-8
2019-09-20 14:57:13.546 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 94.9082ms 200 text/html; charset=utf-8
2019-09-20 14:57:16.422 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/Categories/EditModal/1 application/x-www-form-urlencoded; charset=UTF-8 309
2019-09-20 14:57:16.444 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(Int32, CateringPro.Models.Categories) on controller CateringPro.Controllers.CategoriesController (CateringPro).
2019-09-20 14:57:16.446 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 14:57:16.453 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.CategoriesController.EditModal (CateringPro) - Validation state: Valid
2019-09-20 14:57:16.459 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 14:57:16.467 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 10), @p1='?' (DbType = Int32), @p2='?' (Size = 255), @p3='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Categories] SET [Code] = @p0, [CompanyId] = @p1, [Description] = @p2, [Name] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2019-09-20 14:57:16.473 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.CategoriesController.EditModal (CateringPro), returned result Microsoft.AspNetCore.Mvc.JsonResult in 17.7674ms.
2019-09-20 14:57:16.476 +03:00 [Information] Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-09-20 14:57:16.586 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.CategoriesController.EditModal (CateringPro) in 139.097ms
2019-09-20 14:57:16.588 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 165.725ms 200 application/json; charset=utf-8
2019-09-20 14:57:16.595 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/Categories/ListItems?searchcriteria=&_=1568980631918  
2019-09-20 14:57:16.598 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(System.String) on controller CateringPro.Controllers.CategoriesController (CateringPro).
2019-09-20 14:57:16.599 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 14:57:16.601 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.CategoriesController.ListItems (CateringPro) - Validation state: Valid
2019-09-20 14:57:16.604 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 14:57:16.607 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name]
FROM [Categories] AS [c]
2019-09-20 14:57:16.610 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.CategoriesController.ListItems (CateringPro), returned result Microsoft.AspNetCore.Mvc.PartialViewResult in 6.5651ms.
2019-09-20 14:57:16.612 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2019-09-20 14:57:16.619 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 5.8018ms.
2019-09-20 14:57:16.621 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.CategoriesController.ListItems (CateringPro) in 21.5192ms
2019-09-20 14:57:16.623 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 28.0828ms 200 text/html; charset=utf-8
2019-09-20 14:57:19.451 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/Categories/EditModal/1?_=1568980631919  
2019-09-20 14:57:19.453 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/Categories/EditModal/1?_=1568980631920  
2019-09-20 14:57:19.455 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.CategoriesController (CateringPro).
2019-09-20 14:57:19.457 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.CategoriesController (CateringPro).
2019-09-20 14:57:19.459 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 14:57:19.460 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 14:57:19.462 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.CategoriesController.EditModal (CateringPro) - Validation state: Valid
2019-09-20 14:57:19.463 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.CategoriesController.EditModal (CateringPro) - Validation state: Valid
2019-09-20 14:57:19.465 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 14:57:19.467 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 14:57:19.471 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Code], [e].[CompanyId], [e].[Description], [e].[Name]
FROM [Categories] AS [e]
WHERE [e].[Id] = @__get_Item_0
2019-09-20 14:57:19.473 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Code], [e].[CompanyId], [e].[Description], [e].[Name]
FROM [Categories] AS [e]
WHERE [e].[Id] = @__get_Item_0
2019-09-20 14:57:19.475 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.CategoriesController.EditModal (CateringPro), returned result Microsoft.AspNetCore.Mvc.PartialViewResult in 11.751ms.
2019-09-20 14:57:19.477 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.CategoriesController.EditModal (CateringPro), returned result Microsoft.AspNetCore.Mvc.PartialViewResult in 11.1538ms.
2019-09-20 14:57:19.479 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2019-09-20 14:57:19.481 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2019-09-20 14:57:19.484 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 5.4533ms.
2019-09-20 14:57:19.486 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 3.7211ms.
2019-09-20 14:57:19.487 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.CategoriesController.EditModal (CateringPro) in 29.1078ms
2019-09-20 14:57:19.489 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.CategoriesController.EditModal (CateringPro) in 28.4142ms
2019-09-20 14:57:19.491 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 39.5525ms 200 text/html; charset=utf-8
2019-09-20 14:57:19.493 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 41.4783ms 200 text/html; charset=utf-8
2019-09-20 14:57:33.381 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/DayDishes/EditDay  
2019-09-20 14:57:33.385 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "EditDay", controller = "DayDishes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ViewResult EditDay(System.DateTime) on controller CateringPro.Controllers.DayDishesController (CateringPro).
2019-09-20 14:57:33.388 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 14:57:33.390 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.DayDishesController.EditDay (CateringPro) - Validation state: Valid
2019-09-20 14:57:33.392 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.DayDishesController.EditDay (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.2054ms.
2019-09-20 14:57:33.397 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view EditDay.
2019-09-20 14:57:33.414 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 14:57:33.434 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 14:57:33.436 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 14:57:33.439 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from DayDish dayd in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 14:57:33.441 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:33.443 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:33.445 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:33.448 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:33.450 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([dish].CategoriesId, new <>f__AnonymousType9`5(DishId = [dish].Id, CategoryID = [dish].CategoriesId, DishName = [dish].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0)))' could not be translated and will be evaluated locally.
2019-09-20 14:57:33.455 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 14:57:33.456 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 14:57:33.458 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from DayDish dayd in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 14:57:33.460 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:33.463 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:33.465 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:33.467 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 14:57:33.469 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([dish].CategoriesId, new <>f__AnonymousType9`5(DishId = [dish].Id, CategoryID = [dish].CategoriesId, DishName = [dish].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0)))' could not be translated and will be evaluated locally.
2019-09-20 14:57:33.471 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'join Categories cat in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[CateringPro.Models.Categories]) on [catgroup].Key equals [cat].Id' could not be translated and will be evaluated locally.
2019-09-20 14:57:33.473 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'orderby [cat].Code asc' could not be translated and will be evaluated locally.
2019-09-20 14:57:33.493 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId], [t0].[Id]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId], [subday0].[Id]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 14:57:33.506 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 14:57:33.526 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId], [t0].[Id]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId], [subday0].[Id]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 14:57:33.529 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 14:57:33.535 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId], [t0].[Id]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId], [subday0].[Id]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 14:57:33.538 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 14:57:33.545 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId], [t0].[Id]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId], [subday0].[Id]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 14:57:33.547 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 14:57:33.554 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId], [t0].[Id]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId], [subday0].[Id]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 14:57:33.556 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 14:57:33.566 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId], [t0].[Id]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId], [subday0].[Id]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 14:57:33.568 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 14:57:33.575 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId], [t0].[Id]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId], [subday0].[Id]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 14:57:33.578 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 14:57:33.591 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view EditDay executed in 193.2291ms.
2019-09-20 14:57:33.594 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.DayDishesController.EditDay (CateringPro) in 205.9993ms
2019-09-20 14:57:33.596 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 215.0069ms 200 text/html; charset=utf-8
2019-09-20 14:57:36.872 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/lib/font-awesome/fonts/fontawesome-webfont.woff2?v=4.3.0  
2019-09-20 14:57:36.875 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/DayDishes/SaveDayDish application/x-www-form-urlencoded; charset=UTF-8 53
2019-09-20 14:57:36.884 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "SaveDayDish", controller = "DayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] SaveDayDish(Int32, System.DateTime, Boolean) on controller CateringPro.Controllers.DayDishesController (CateringPro).
2019-09-20 14:57:36.887 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 14:57:36.890 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/lib/font-awesome/fonts/fontawesome-webfont.woff2'. Physical path: 'C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\wwwroot\lib\font-awesome\fonts\fontawesome-webfont.woff2'
2019-09-20 14:57:36.894 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 21.0893ms 200 font/woff2
2019-09-20 14:57:36.897 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.DayDishesController.SaveDayDish (CateringPro) - Validation state: Valid
2019-09-20 14:57:36.904 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 14:57:36.917 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__src_DishId_0='?' (DbType = Int32), @__src_Date_1='?' (DbType = Date), @__src_CompanyId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [dd].[Date], [dd].[DishId], [dd].[CompanyId], [dd].[Id]
FROM [DayDish] AS [dd]
WHERE (([dd].[DishId] = @__src_DishId_0) AND ([dd].[Date] = @__src_Date_1)) AND ([dd].[CompanyId] = @__src_CompanyId_2)
2019-09-20 14:57:36.998 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.DayDishesController.SaveDayDish (CateringPro) in 111.7224ms
2019-09-20 14:57:37.053 +03:00 [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at CateringPro.Repositories.CompanyExtension.AssignCompantAttr[TEntity](Controller ctl, TEntity entity) in C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\Repositories\CompanyExtension.cs:line 18
   at CateringPro.Controllers.DayDishesController.SaveDayDish(Int32 DishId, DateTime daydate, Boolean enabled) in C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\Controllers\DayDishesController.cs:line 53
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-20 14:57:37.083 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 212.2945ms 500 text/html; charset=utf-8
2019-09-20 14:57:37.483 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/DayDishes/SaveDayDish application/x-www-form-urlencoded; charset=UTF-8 53
2019-09-20 14:57:37.486 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "SaveDayDish", controller = "DayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] SaveDayDish(Int32, System.DateTime, Boolean) on controller CateringPro.Controllers.DayDishesController (CateringPro).
2019-09-20 14:57:37.488 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 14:57:37.491 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.DayDishesController.SaveDayDish (CateringPro) - Validation state: Valid
2019-09-20 14:57:37.493 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 14:57:37.496 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__src_DishId_0='?' (DbType = Int32), @__src_Date_1='?' (DbType = Date), @__src_CompanyId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [dd].[Date], [dd].[DishId], [dd].[CompanyId], [dd].[Id]
FROM [DayDish] AS [dd]
WHERE (([dd].[DishId] = @__src_DishId_0) AND ([dd].[Date] = @__src_Date_1)) AND ([dd].[CompanyId] = @__src_CompanyId_2)
2019-09-20 14:57:37.533 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.DayDishesController.SaveDayDish (CateringPro) in 45.4977ms
2019-09-20 14:57:37.538 +03:00 [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at CateringPro.Repositories.CompanyExtension.AssignCompantAttr[TEntity](Controller ctl, TEntity entity) in C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\Repositories\CompanyExtension.cs:line 18
   at CateringPro.Controllers.DayDishesController.SaveDayDish(Int32 DishId, DateTime daydate, Boolean enabled) in C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\Controllers\DayDishesController.cs:line 53
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-20 14:57:37.552 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 69.2118ms 500 text/html; charset=utf-8
2019-09-20 14:57:38.133 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/DayDishes/SaveDayDish application/x-www-form-urlencoded; charset=UTF-8 53
2019-09-20 14:57:38.136 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "SaveDayDish", controller = "DayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] SaveDayDish(Int32, System.DateTime, Boolean) on controller CateringPro.Controllers.DayDishesController (CateringPro).
2019-09-20 14:57:38.137 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 14:57:38.140 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.DayDishesController.SaveDayDish (CateringPro) - Validation state: Valid
2019-09-20 14:57:38.144 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 14:57:38.148 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__src_DishId_0='?' (DbType = Int32), @__src_Date_1='?' (DbType = Date), @__src_CompanyId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [dd].[Date], [dd].[DishId], [dd].[CompanyId], [dd].[Id]
FROM [DayDish] AS [dd]
WHERE (([dd].[DishId] = @__src_DishId_0) AND ([dd].[Date] = @__src_Date_1)) AND ([dd].[CompanyId] = @__src_CompanyId_2)
2019-09-20 14:57:38.185 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.DayDishesController.SaveDayDish (CateringPro) in 47.5467ms
2019-09-20 14:57:38.190 +03:00 [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at CateringPro.Repositories.CompanyExtension.AssignCompantAttr[TEntity](Controller ctl, TEntity entity) in C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\Repositories\CompanyExtension.cs:line 18
   at CateringPro.Controllers.DayDishesController.SaveDayDish(Int32 DishId, DateTime daydate, Boolean enabled) in C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\Controllers\DayDishesController.cs:line 53
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-20 14:57:38.205 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 71.4688ms 500 text/html; charset=utf-8
2019-09-20 15:08:11.471 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:08:11.483 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'OrderTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:08:11.485 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:08:11.486 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Pizzas'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:08:11.523 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:08:22.062 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (330ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CateringPro];
2019-09-20 15:08:22.135 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (70ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CateringPro] SET READ_COMMITTED_SNAPSHOT ON;
END;
2019-09-20 15:08:22.240 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2019-09-20 15:08:22.327 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (84ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    [CompanyId] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2019-09-20 15:08:22.331 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Companies] (
    [Id] int NOT NULL IDENTITY,
    [Code] nvarchar(10) NOT NULL,
    [Name] nvarchar(40) NOT NULL,
    CONSTRAINT [PK_Companies] PRIMARY KEY ([Id])
);
2019-09-20 15:08:22.357 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [IdentityUser] (
    [Id] nvarchar(450) NOT NULL,
    [UserName] nvarchar(max) NULL,
    [NormalizedUserName] nvarchar(max) NULL,
    [Email] nvarchar(max) NULL,
    [NormalizedEmail] nvarchar(max) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_IdentityUser] PRIMARY KEY ([Id])
);
2019-09-20 15:08:22.363 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Ingredients] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    CONSTRAINT [PK_Ingredients] PRIMARY KEY ([Id])
);
2019-09-20 15:08:22.388 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2019-09-20 15:08:22.393 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2019-09-20 15:08:22.398 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2019-09-20 15:08:22.404 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2019-09-20 15:08:22.409 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2019-09-20 15:08:22.414 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Categories] (
    [Id] int NOT NULL IDENTITY,
    [CompanyId] int NOT NULL,
    [Code] nvarchar(10) NOT NULL,
    [Name] nvarchar(100) NOT NULL,
    [Description] nvarchar(255) NULL,
    CONSTRAINT [PK_Categories] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Categories_Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [Companies] ([Id]) ON DELETE CASCADE
);
2019-09-20 15:08:22.440 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserWeekBasket] (
    [UserId] nvarchar(450) NOT NULL,
    [BasketDate] datetime2 NOT NULL,
    [CompanyId] int NOT NULL,
    CONSTRAINT [PK_UserWeekBasket] PRIMARY KEY ([UserId], [BasketDate]),
    CONSTRAINT [FK_UserWeekBasket_Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [Companies] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserWeekBasket_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2019-09-20 15:08:22.489 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Orders] (
    [OrderId] int NOT NULL IDENTITY,
    [FirstName] nvarchar(50) NOT NULL,
    [LastName] nvarchar(50) NOT NULL,
    [AddressLine1] nvarchar(100) NOT NULL,
    [AddressLine2] nvarchar(max) NULL,
    [ZipCode] nvarchar(10) NOT NULL,
    [City] nvarchar(50) NOT NULL,
    [State] nvarchar(10) NULL,
    [Country] nvarchar(50) NOT NULL,
    [PhoneNumber] nvarchar(25) NOT NULL,
    [Email] nvarchar(50) NOT NULL,
    [OrderTotal] decimal(18,2) NOT NULL,
    [OrderPlaced] datetime2 NOT NULL,
    [UserId] nvarchar(450) NULL,
    CONSTRAINT [PK_Orders] PRIMARY KEY ([OrderId]),
    CONSTRAINT [FK_Orders_IdentityUser_UserId] FOREIGN KEY ([UserId]) REFERENCES [IdentityUser] ([Id]) ON DELETE NO ACTION
);
2019-09-20 15:08:22.529 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Dishes] (
    [Id] int NOT NULL IDENTITY,
    [CompanyId] int NOT NULL,
    [Code] nvarchar(10) NOT NULL,
    [Name] nvarchar(100) NOT NULL,
    [Price] decimal(18,2) NOT NULL,
    [Description] nvarchar(255) NOT NULL,
    [CategoriesId] int NOT NULL,
    CONSTRAINT [PK_Dishes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Dishes_Categories_CategoriesId] FOREIGN KEY ([CategoriesId]) REFERENCES [Categories] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Dishes_Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [Companies] ([Id]) ON DELETE CASCADE
);
2019-09-20 15:08:22.534 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Pizzas] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Price] decimal(18,2) NOT NULL,
    [Description] nvarchar(255) NOT NULL,
    [ImageUrl] nvarchar(max) NULL,
    [IsPizzaOfTheWeek] bit NOT NULL,
    [CategoriesId] int NOT NULL,
    CONSTRAINT [PK_Pizzas] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Pizzas_Categories_CategoriesId] FOREIGN KEY ([CategoriesId]) REFERENCES [Categories] ([Id]) ON DELETE CASCADE
);
2019-09-20 15:08:22.539 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [DayDish] (
    [CompanyId] int NOT NULL,
    [Date] date NOT NULL,
    [DishId] int NOT NULL,
    CONSTRAINT [PK_DayDish] PRIMARY KEY ([Date], [DishId], [CompanyId]),
    CONSTRAINT [FK_DayDish_Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [Companies] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_DayDish_Dishes_DishId] FOREIGN KEY ([DishId]) REFERENCES [Dishes] ([Id]) ON DELETE NO ACTION
);
2019-09-20 15:08:22.546 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [DishCategory] (
    [DishId] int NOT NULL,
    [CategoryId] int NOT NULL,
    CONSTRAINT [PK_DishCategory] PRIMARY KEY ([DishId], [CategoryId]),
    CONSTRAINT [FK_DishCategory_Categories_CategoryId] FOREIGN KEY ([CategoryId]) REFERENCES [Categories] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_DishCategory_Dishes_DishId] FOREIGN KEY ([DishId]) REFERENCES [Dishes] ([Id]) ON DELETE CASCADE
);
2019-09-20 15:08:22.563 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserDayDish] (
    [CompanyId] int NOT NULL,
    [UserId] nvarchar(450) NOT NULL,
    [Date] date NOT NULL,
    [DishId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_UserDayDish] PRIMARY KEY ([UserId], [Date], [DishId], [CompanyId]),
    CONSTRAINT [FK_UserDayDish_Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [Companies] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserDayDish_Dishes_DishId] FOREIGN KEY ([DishId]) REFERENCES [Dishes] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserDayDish_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2019-09-20 15:08:22.609 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [OrderDetails] (
    [OrderDetailId] int NOT NULL IDENTITY,
    [OrderId] int NOT NULL,
    [PizzaId] int NOT NULL,
    [Amount] int NOT NULL,
    [Price] decimal(18,2) NOT NULL,
    CONSTRAINT [PK_OrderDetails] PRIMARY KEY ([OrderDetailId]),
    CONSTRAINT [FK_OrderDetails_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([OrderId]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderDetails_Pizzas_PizzaId] FOREIGN KEY ([PizzaId]) REFERENCES [Pizzas] ([Id]) ON DELETE CASCADE
);
2019-09-20 15:08:22.686 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (71ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [PizzaIngredients] (
    [Id] int NOT NULL IDENTITY,
    [PizzaId] int NOT NULL,
    [IngredientId] int NOT NULL,
    CONSTRAINT [PK_PizzaIngredients] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_PizzaIngredients_Ingredients_IngredientId] FOREIGN KEY ([IngredientId]) REFERENCES [Ingredients] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_PizzaIngredients_Pizzas_PizzaId] FOREIGN KEY ([PizzaId]) REFERENCES [Pizzas] ([Id]) ON DELETE CASCADE
);
2019-09-20 15:08:22.694 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Reviews] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(100) NOT NULL,
    [Description] nvarchar(500) NOT NULL,
    [Grade] int NOT NULL,
    [Date] datetime2 NOT NULL,
    [PizzaId] int NOT NULL,
    [UserId] nvarchar(450) NULL,
    CONSTRAINT [PK_Reviews] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Reviews_Pizzas_PizzaId] FOREIGN KEY ([PizzaId]) REFERENCES [Pizzas] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Reviews_IdentityUser_UserId] FOREIGN KEY ([UserId]) REFERENCES [IdentityUser] ([Id]) ON DELETE NO ACTION
);
2019-09-20 15:08:22.740 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [ShoppingCartItems] (
    [ShoppingCartItemId] int NOT NULL IDENTITY,
    [PizzaId] int NULL,
    [Amount] int NOT NULL,
    [ShoppingCartId] nvarchar(max) NULL,
    CONSTRAINT [PK_ShoppingCartItems] PRIMARY KEY ([ShoppingCartItemId]),
    CONSTRAINT [FK_ShoppingCartItems_Pizzas_PizzaId] FOREIGN KEY ([PizzaId]) REFERENCES [Pizzas] ([Id]) ON DELETE NO ACTION
);
2019-09-20 15:08:22.761 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2019-09-20 15:08:22.769 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2019-09-20 15:08:22.774 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2019-09-20 15:08:22.780 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2019-09-20 15:08:22.784 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2019-09-20 15:08:22.787 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2019-09-20 15:08:22.790 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2019-09-20 15:08:22.815 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Categories_CompanyId] ON [Categories] ([CompanyId]);
2019-09-20 15:08:22.817 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_DayDish_CompanyId] ON [DayDish] ([CompanyId]);
2019-09-20 15:08:22.820 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_DayDish_DishId] ON [DayDish] ([DishId]);
2019-09-20 15:08:22.823 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_DishCategory_CategoryId] ON [DishCategory] ([CategoryId]);
2019-09-20 15:08:22.827 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Dishes_CategoriesId] ON [Dishes] ([CategoriesId]);
2019-09-20 15:08:22.829 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Dishes_CompanyId] ON [Dishes] ([CompanyId]);
2019-09-20 15:08:22.832 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_OrderDetails_OrderId] ON [OrderDetails] ([OrderId]);
2019-09-20 15:08:22.834 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_OrderDetails_PizzaId] ON [OrderDetails] ([PizzaId]);
2019-09-20 15:08:22.836 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Orders_UserId] ON [Orders] ([UserId]);
2019-09-20 15:08:22.839 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_PizzaIngredients_IngredientId] ON [PizzaIngredients] ([IngredientId]);
2019-09-20 15:08:22.843 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_PizzaIngredients_PizzaId] ON [PizzaIngredients] ([PizzaId]);
2019-09-20 15:08:22.846 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Pizzas_CategoriesId] ON [Pizzas] ([CategoriesId]);
2019-09-20 15:08:22.848 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Reviews_PizzaId] ON [Reviews] ([PizzaId]);
2019-09-20 15:08:22.850 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Reviews_UserId] ON [Reviews] ([UserId]);
2019-09-20 15:08:22.853 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_ShoppingCartItems_PizzaId] ON [ShoppingCartItems] ([PizzaId]);
2019-09-20 15:08:22.855 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserDayDish_CompanyId] ON [UserDayDish] ([CompanyId]);
2019-09-20 15:08:22.858 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserDayDish_DishId] ON [UserDayDish] ([DishId]);
2019-09-20 15:08:22.860 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserWeekBasket_CompanyId] ON [UserWeekBasket] ([CompanyId]);
2019-09-20 15:08:22.909 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-09-20 15:08:22.986 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2019-09-20 15:08:23.007 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[IngredientId], [p].[PizzaId]
FROM [PizzaIngredients] AS [p]
2019-09-20 15:08:23.015 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Name]
FROM [Ingredients] AS [i]
2019-09-20 15:08:23.023 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[Date], [r].[Description], [r].[Grade], [r].[PizzaId], [r].[Title], [r].[UserId]
FROM [Reviews] AS [r]
2019-09-20 15:08:23.032 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [s].[ShoppingCartItemId], [s].[Amount], [s].[PizzaId], [s].[ShoppingCartId]
FROM [ShoppingCartItems] AS [s]
2019-09-20 15:08:23.042 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[CompanyId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2019-09-20 15:08:23.050 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
2019-09-20 15:08:23.057 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [o].[OrderDetailId], [o].[Amount], [o].[OrderId], [o].[PizzaId], [o].[Price]
FROM [OrderDetails] AS [o]
2019-09-20 15:08:23.067 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [o].[OrderId], [o].[AddressLine1], [o].[AddressLine2], [o].[City], [o].[Country], [o].[Email], [o].[FirstName], [o].[LastName], [o].[OrderPlaced], [o].[OrderTotal], [o].[PhoneNumber], [o].[State], [o].[UserId], [o].[ZipCode]
FROM [Orders] AS [o]
2019-09-20 15:08:23.076 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoriesId], [p].[Description], [p].[ImageUrl], [p].[IsPizzaOfTheWeek], [p].[Name], [p].[Price]
FROM [Pizzas] AS [p]
2019-09-20 15:08:23.085 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name]
FROM [Categories] AS [c]
2019-09-20 15:08:23.149 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2019-09-20 15:08:23.182 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2019-09-20 15:08:23.232 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2019-09-20 15:08:23.289 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2019-09-20 15:08:23.316 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2019-09-20 15:08:23.380 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [CompanyId], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2019-09-20 15:08:23.405 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2019-09-20 15:08:23.423 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450), @__get_Item_1='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[UserId], [e].[RoleId]
FROM [AspNetUserRoles] AS [e]
WHERE ([e].[UserId] = @__get_Item_0) AND ([e].[RoleId] = @__get_Item_1)
2019-09-20 15:08:23.430 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2019-09-20 15:08:23.444 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2019-09-20 15:08:23.450 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2019-09-20 15:08:23.459 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([UserId], [RoleId])
VALUES (@p0, @p1);
2019-09-20 15:08:23.467 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p16='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CompanyId] = @p1, [ConcurrencyStamp] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;
2019-09-20 15:08:23.484 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2019-09-20 15:08:23.487 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2019-09-20 15:08:23.493 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [CompanyId], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2019-09-20 15:08:23.504 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2019-09-20 15:08:23.508 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2019-09-20 15:08:23.512 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [CompanyId], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2019-09-20 15:08:23.522 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2019-09-20 15:08:23.526 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2019-09-20 15:08:23.530 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [CompanyId], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2019-09-20 15:08:23.540 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2019-09-20 15:08:23.544 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2019-09-20 15:08:23.548 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [CompanyId], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2019-09-20 15:08:23.559 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2019-09-20 15:08:23.563 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2019-09-20 15:08:23.567 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [CompanyId], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2019-09-20 15:08:23.597 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 10), @p1='?' (Size = 40)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Companies] ([Code], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Companies]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-09-20 15:08:23.604 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 10), @p1='?' (Size = 40)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Companies] ([Code], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Companies]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-09-20 15:08:23.721 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (28ms) [Parameters=[@p0='?' (Size = 10), @p1='?' (DbType = Int32), @p2='?' (Size = 255), @p3='?' (Size = 100), @p4='?' (Size = 10), @p5='?' (DbType = Int32), @p6='?' (Size = 255), @p7='?' (Size = 100), @p8='?' (Size = 10), @p9='?' (DbType = Int32), @p10='?' (Size = 255), @p11='?' (Size = 100), @p12='?' (Size = 10), @p13='?' (DbType = Int32), @p14='?' (Size = 255), @p15='?' (Size = 100), @p16='?' (Size = 10), @p17='?' (DbType = Int32), @p18='?' (Size = 255), @p19='?' (Size = 100), @p20='?' (DbType = Int32), @p21='?' (Size = 10), @p22='?' (DbType = Int32), @p23='?' (Size = 255), @p24='?' (Size = 100), @p25='?' (DbType = Decimal), @p26='?' (DbType = Int32), @p27='?' (Size = 10), @p28='?' (DbType = Int32), @p29='?' (Size = 255), @p30='?' (Size = 100), @p31='?' (DbType = Decimal), @p32='?' (DbType = Int32), @p33='?' (Size = 10), @p34='?' (DbType = Int32), @p35='?' (Size = 255), @p36='?' (Size = 100), @p37='?' (DbType = Decimal), @p38='?' (DbType = Int32), @p39='?' (Size = 10), @p40='?' (DbType = Int32), @p41='?' (Size = 255), @p42='?' (Size = 100), @p43='?' (DbType = Decimal), @p44='?' (Size = 100), @p45='?' (Size = 100), @p46='?' (Size = 100), @p47='?' (Size = 100), @p48='?' (Size = 100), @p49='?' (Size = 100), @p50='?' (Size = 100), @p51='?' (Size = 100), @p52='?' (Size = 100), @p53='?' (Size = 100), @p54='?' (Size = 100), @p55='?' (Size = 100), @p56='?' (Size = 100), @p57='?' (Size = 100), @p58='?' (Size = 100), @p59='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Categories] USING (
VALUES (@p0, @p1, @p2, @p3, 0),
(@p4, @p5, @p6, @p7, 1),
(@p8, @p9, @p10, @p11, 2),
(@p12, @p13, @p14, @p15, 3),
(@p16, @p17, @p18, @p19, 4)) AS i ([Code], [CompanyId], [Description], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Code], [CompanyId], [Description], [Name])
VALUES (i.[Code], i.[CompanyId], i.[Description], i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [t].[Id] FROM [Categories] t
INNER JOIN @inserted0 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];

DECLARE @inserted5 TABLE ([Id] int, [_Position] [int]);
MERGE [Dishes] USING (
VALUES (@p20, @p21, @p22, @p23, @p24, @p25, 0),
(@p26, @p27, @p28, @p29, @p30, @p31, 1),
(@p32, @p33, @p34, @p35, @p36, @p37, 2),
(@p38, @p39, @p40, @p41, @p42, @p43, 3)) AS i ([CategoriesId], [Code], [CompanyId], [Description], [Name], [Price], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CategoriesId], [Code], [CompanyId], [Description], [Name], [Price])
VALUES (i.[CategoriesId], i.[Code], i.[CompanyId], i.[Description], i.[Name], i.[Price])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted5;

SELECT [t].[Id] FROM [Dishes] t
INNER JOIN @inserted5 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];

DECLARE @inserted9 TABLE ([Id] int, [_Position] [int]);
MERGE [Ingredients] USING (
VALUES (@p44, 0),
(@p45, 1),
(@p46, 2),
(@p47, 3),
(@p48, 4),
(@p49, 5),
(@p50, 6),
(@p51, 7),
(@p52, 8),
(@p53, 9),
(@p54, 10),
(@p55, 11),
(@p56, 12),
(@p57, 13),
(@p58, 14),
(@p59, 15)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted9;

SELECT [t].[Id] FROM [Ingredients] t
INNER JOIN @inserted9 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];
2019-09-20 15:08:23.754 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@p60='?' (DbType = Int32), @p61='?' (Size = 255), @p62='?' (Size = 4000), @p63='?' (DbType = Boolean), @p64='?' (Size = 100), @p65='?' (DbType = Decimal), @p66='?' (DbType = Int32), @p67='?' (Size = 255), @p68='?' (Size = 4000), @p69='?' (DbType = Boolean), @p70='?' (Size = 100), @p71='?' (DbType = Decimal), @p72='?' (DbType = Int32), @p73='?' (Size = 255), @p74='?' (Size = 4000), @p75='?' (DbType = Boolean), @p76='?' (Size = 100), @p77='?' (DbType = Decimal), @p78='?' (DbType = Int32), @p79='?' (Size = 255), @p80='?' (Size = 4000), @p81='?' (DbType = Boolean), @p82='?' (Size = 100), @p83='?' (DbType = Decimal), @p84='?' (DbType = Int32), @p85='?' (Size = 255), @p86='?' (Size = 4000), @p87='?' (DbType = Boolean), @p88='?' (Size = 100), @p89='?' (DbType = Decimal), @p90='?' (DbType = Int32), @p91='?' (Size = 255), @p92='?' (Size = 4000), @p93='?' (DbType = Boolean), @p94='?' (Size = 100), @p95='?' (DbType = Decimal), @p96='?' (DbType = Int32), @p97='?' (Size = 255), @p98='?' (Size = 4000), @p99='?' (DbType = Boolean), @p100='?' (Size = 100), @p101='?' (DbType = Decimal), @p102='?' (DbType = Int32), @p103='?' (Size = 255), @p104='?' (Size = 4000), @p105='?' (DbType = Boolean), @p106='?' (Size = 100), @p107='?' (DbType = Decimal), @p108='?' (DbType = Int32), @p109='?' (Size = 255), @p110='?' (Size = 4000), @p111='?' (DbType = Boolean), @p112='?' (Size = 100), @p113='?' (DbType = Decimal), @p114='?' (DbType = Int32), @p115='?' (Size = 255), @p116='?' (Size = 4000), @p117='?' (DbType = Boolean), @p118='?' (Size = 100), @p119='?' (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Pizzas] USING (
VALUES (@p60, @p61, @p62, @p63, @p64, @p65, 0),
(@p66, @p67, @p68, @p69, @p70, @p71, 1),
(@p72, @p73, @p74, @p75, @p76, @p77, 2),
(@p78, @p79, @p80, @p81, @p82, @p83, 3),
(@p84, @p85, @p86, @p87, @p88, @p89, 4),
(@p90, @p91, @p92, @p93, @p94, @p95, 5),
(@p96, @p97, @p98, @p99, @p100, @p101, 6),
(@p102, @p103, @p104, @p105, @p106, @p107, 7),
(@p108, @p109, @p110, @p111, @p112, @p113, 8),
(@p114, @p115, @p116, @p117, @p118, @p119, 9)) AS i ([CategoriesId], [Description], [ImageUrl], [IsPizzaOfTheWeek], [Name], [Price], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CategoriesId], [Description], [ImageUrl], [IsPizzaOfTheWeek], [Name], [Price])
VALUES (i.[CategoriesId], i.[Description], i.[ImageUrl], i.[IsPizzaOfTheWeek], i.[Name], i.[Price])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [t].[Id] FROM [Pizzas] t
INNER JOIN @inserted0 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];
2019-09-20 15:08:24.383 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 DEBUG http://localhost:51321/  0
2019-09-20 15:08:24.385 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-09-20 15:08:24.430 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 39.1572ms 200 
2019-09-20 15:08:24.660 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Index", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 15:08:24.670 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed.
2019-09-20 15:08:24.672 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-09-20 15:08:24.677 +03:00 [Information] Microsoft.AspNetCore.Mvc.ChallengeResult: Executing ChallengeResult with authentication schemes ().
2019-09-20 15:08:24.683 +03:00 [Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: AuthenticationScheme: Identity.Application was challenged.
2019-09-20 15:08:24.687 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.Index (CateringPro) in 23.0224ms
2019-09-20 15:08:24.694 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 311.0325ms 302 
2019-09-20 15:08:24.698 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/Account/Login?ReturnUrl=%2F  
2019-09-20 15:08:24.714 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller CateringPro.Controllers.AccountController (CateringPro).
2019-09-20 15:08:24.736 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.AccountController.Login (CateringPro) - Validation state: Valid
2019-09-20 15:08:24.740 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.AccountController.Login (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.7697ms.
2019-09-20 15:08:24.768 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Login.
2019-09-20 15:08:24.896 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Login executed in 148.6462ms.
2019-09-20 15:08:24.899 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.AccountController.Login (CateringPro) in 183.2149ms
2019-09-20 15:08:24.905 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 206.4654ms 200 text/html; charset=utf-8
2019-09-20 15:09:14.920 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/Account/Login application/x-www-form-urlencoded 232
2019-09-20 15:09:14.928 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CateringPro.ViewModels.LoginViewModel) on controller CateringPro.Controllers.AccountController (CateringPro).
2019-09-20 15:09:14.957 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.AccountController.Login (CateringPro) - Validation state: Valid
2019-09-20 15:09:14.962 +03:00 [Information] CateringPro.Models.CompanyUser: User admin is going to login 
2019-09-20 15:09:14.980 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:09:15.004 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2019-09-20 15:09:15.039 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2019-09-20 15:09:15.084 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2019-09-20 15:09:15.116 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0
2019-09-20 15:09:15.123 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2019-09-20 15:09:15.135 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2019-09-20 15:09:15.148 +03:00 [Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: AuthenticationScheme: Identity.Application signed in.
2019-09-20 15:09:15.153 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.AccountController.Login (CateringPro), returned result Microsoft.AspNetCore.Mvc.RedirectResult in 194.6068ms.
2019-09-20 15:09:15.160 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor: Executing RedirectResult, redirecting to /.
2019-09-20 15:09:15.164 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.AccountController.Login (CateringPro) in 232.9365ms
2019-09-20 15:09:15.171 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 251.1053ms 302 
2019-09-20 15:09:15.180 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-09-20 15:09:15.186 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Index", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 15:09:15.189 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 15:09:15.191 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro) - Validation state: Valid
2019-09-20 15:09:15.194 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 1.1202ms.
2019-09-20 15:09:15.200 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-09-20 15:09:15.232 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:09:15.254 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:09:15.256 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:09:15.258 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:09:15.260 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:09:15.273 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.276 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.279 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.283 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.285 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.287 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.289 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.291 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.294 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.296 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.298 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.299 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.301 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.304 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.306 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.309 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.313 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType14`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.318 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.320 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.322 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.324 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.326 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.328 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.330 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.332 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.334 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.336 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.338 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.340 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.342 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.345 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.346 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.348 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.350 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType14`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.353 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'join Categories cat in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[CateringPro.Models.Categories]) on [catgroup].Key equals [cat].Id' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.355 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'orderby [cat].Code asc' could not be translated and will be evaluated locally.
2019-09-20 15:09:15.384 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 15:09:15.391 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 15:09:15.395 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 15:09:15.399 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 15:09:15.402 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 15:09:15.406 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 15:09:15.410 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 15:09:15.417 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 221.4946ms.
2019-09-20 15:09:15.426 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.Index (CateringPro) in 230.8828ms
2019-09-20 15:09:15.429 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 247.9488ms 200 text/html; charset=utf-8
2019-09-20 15:09:20.464 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/Dishes  
2019-09-20 15:09:20.470 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Index", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.DishesController (CateringPro).
2019-09-20 15:09:20.473 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.DishesController.Index (CateringPro) - Validation state: Valid
2019-09-20 15:09:20.477 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:09:20.489 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[Name], [d].[Price]
FROM [Dishes] AS [d]
2019-09-20 15:09:20.496 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.DishesController.Index (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 20.3307ms.
2019-09-20 15:09:20.501 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-09-20 15:09:20.508 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 9.9723ms.
2019-09-20 15:09:20.513 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.Index (CateringPro) in 37.973ms
2019-09-20 15:09:20.516 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 51.5506ms 200 text/html; charset=utf-8
2019-09-20 15:09:20.601 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/ListItems?searchcriteria=&_=1568981360547  
2019-09-20 15:09:20.613 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(System.String) on controller CateringPro.Controllers.DishesController (CateringPro).
2019-09-20 15:09:20.615 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.DishesController.ListItems (CateringPro) - Validation state: Valid
2019-09-20 15:09:20.619 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:09:20.622 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[Name], [d].[Price]
FROM [Dishes] AS [d]
2019-09-20 15:09:20.626 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.DishesController.ListItems (CateringPro), returned result Microsoft.AspNetCore.Mvc.PartialViewResult in 8.3666ms.
2019-09-20 15:09:20.633 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2019-09-20 15:09:20.661 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 29.3948ms.
2019-09-20 15:09:20.663 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.ListItems (CateringPro) in 48.4352ms
2019-09-20 15:09:20.665 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 65.7707ms 200 text/html; charset=utf-8
2019-09-20 15:09:22.458 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/DayDishes/EditDay  
2019-09-20 15:09:22.462 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "EditDay", controller = "DayDishes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ViewResult EditDay(System.DateTime) on controller CateringPro.Controllers.DayDishesController (CateringPro).
2019-09-20 15:09:22.465 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 15:09:22.468 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.DayDishesController.EditDay (CateringPro) - Validation state: Valid
2019-09-20 15:09:22.470 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.DayDishesController.EditDay (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.3084ms.
2019-09-20 15:09:22.477 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view EditDay.
2019-09-20 15:09:22.492 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:09:22.514 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:09:22.516 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:09:22.519 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from DayDish dayd in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 15:09:22.521 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:22.523 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:22.525 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:22.527 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:22.530 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([dish].CategoriesId, new <>f__AnonymousType9`5(DishId = [dish].Id, CategoryID = [dish].CategoriesId, DishName = [dish].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0)))' could not be translated and will be evaluated locally.
2019-09-20 15:09:22.535 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:09:22.537 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:09:22.539 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from DayDish dayd in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 15:09:22.541 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:22.543 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:22.545 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:22.548 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:09:22.550 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([dish].CategoriesId, new <>f__AnonymousType9`5(DishId = [dish].Id, CategoryID = [dish].CategoriesId, DishName = [dish].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0)))' could not be translated and will be evaluated locally.
2019-09-20 15:09:22.552 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'join Categories cat in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[CateringPro.Models.Categories]) on [catgroup].Key equals [cat].Id' could not be translated and will be evaluated locally.
2019-09-20 15:09:22.554 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'orderby [cat].Code asc' could not be translated and will be evaluated locally.
2019-09-20 15:09:22.574 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 15:09:22.591 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:09:22.617 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 15:09:22.619 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:09:22.626 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 15:09:22.629 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:09:22.635 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 15:09:22.637 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:09:22.644 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 15:09:22.647 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:09:22.653 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 15:09:22.657 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:09:22.663 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 15:09:22.665 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:09:22.678 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view EditDay executed in 203.2847ms.
2019-09-20 15:09:22.680 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.DayDishesController.EditDay (CateringPro) in 215.8978ms
2019-09-20 15:09:22.683 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 225.1266ms 200 text/html; charset=utf-8
2019-09-20 15:09:24.807 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/DayDishes/SaveDayDish application/x-www-form-urlencoded; charset=UTF-8 53
2019-09-20 15:09:24.813 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "SaveDayDish", controller = "DayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] SaveDayDish(Int32, System.DateTime, Boolean) on controller CateringPro.Controllers.DayDishesController (CateringPro).
2019-09-20 15:09:24.815 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 15:09:24.818 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.DayDishesController.SaveDayDish (CateringPro) - Validation state: Valid
2019-09-20 15:09:24.824 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:09:24.832 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__src_DishId_0='?' (DbType = Int32), @__src_Date_1='?' (DbType = Date), @__src_CompanyId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [dd].[Date], [dd].[DishId], [dd].[CompanyId]
FROM [DayDish] AS [dd]
WHERE (([dd].[DishId] = @__src_DishId_0) AND ([dd].[Date] = @__src_Date_1)) AND ([dd].[CompanyId] = @__src_CompanyId_2)
2019-09-20 15:09:24.897 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.DayDishesController.SaveDayDish (CateringPro) in 82.4783ms
2019-09-20 15:09:24.940 +03:00 [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at CateringPro.Repositories.CompanyExtension.AssignCompantAttr[TEntity](Controller ctl, TEntity entity) in C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\Repositories\CompanyExtension.cs:line 18
   at CateringPro.Controllers.DayDishesController.SaveDayDish(Int32 DishId, DateTime daydate, Boolean enabled) in C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\Controllers\DayDishesController.cs:line 56
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-20 15:09:24.968 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 162.3089ms 500 text/html; charset=utf-8
2019-09-20 15:09:25.451 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/DayDishes/SaveDayDish application/x-www-form-urlencoded; charset=UTF-8 53
2019-09-20 15:09:25.455 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "SaveDayDish", controller = "DayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] SaveDayDish(Int32, System.DateTime, Boolean) on controller CateringPro.Controllers.DayDishesController (CateringPro).
2019-09-20 15:09:25.457 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 15:09:25.460 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.DayDishesController.SaveDayDish (CateringPro) - Validation state: Valid
2019-09-20 15:09:25.463 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:09:25.466 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__src_DishId_0='?' (DbType = Int32), @__src_Date_1='?' (DbType = Date), @__src_CompanyId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [dd].[Date], [dd].[DishId], [dd].[CompanyId]
FROM [DayDish] AS [dd]
WHERE (([dd].[DishId] = @__src_DishId_0) AND ([dd].[Date] = @__src_Date_1)) AND ([dd].[CompanyId] = @__src_CompanyId_2)
2019-09-20 15:09:25.500 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.DayDishesController.SaveDayDish (CateringPro) in 43.8625ms
2019-09-20 15:09:25.505 +03:00 [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at CateringPro.Repositories.CompanyExtension.AssignCompantAttr[TEntity](Controller ctl, TEntity entity) in C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\Repositories\CompanyExtension.cs:line 18
   at CateringPro.Controllers.DayDishesController.SaveDayDish(Int32 DishId, DateTime daydate, Boolean enabled) in C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\Controllers\DayDishesController.cs:line 56
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-20 15:09:25.517 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 65.8266ms 500 text/html; charset=utf-8
2019-09-20 15:10:03.260 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/DayDishes/SaveDayDish application/x-www-form-urlencoded; charset=UTF-8 53
2019-09-20 15:10:03.262 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "SaveDayDish", controller = "DayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] SaveDayDish(Int32, System.DateTime, Boolean) on controller CateringPro.Controllers.DayDishesController (CateringPro).
2019-09-20 15:10:03.264 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 15:10:03.266 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.DayDishesController.SaveDayDish (CateringPro) - Validation state: Valid
2019-09-20 15:11:23.790 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:11:23.804 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'OrderTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:11:23.806 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:11:23.808 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Pizzas'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:11:23.850 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:11:23.977 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-09-20 15:11:24.027 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-09-20 15:11:24.146 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2019-09-20 15:11:24.744 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-09-20 15:11:24.746 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 DEBUG http://localhost:51321/  0
2019-09-20 15:11:24.777 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 31.6872ms 200 
2019-09-20 15:11:24.939 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Index", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 15:11:24.950 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 15:11:24.962 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro) - Validation state: Valid
2019-09-20 15:11:24.969 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 2.9612ms.
2019-09-20 15:11:24.991 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-09-20 15:11:25.069 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:11:25.112 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:11:25.114 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:11:25.116 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:11:25.118 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:11:25.154 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.156 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.160 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.164 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.166 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.169 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.172 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.175 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.177 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.180 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.183 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.185 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.188 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.193 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.195 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.198 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.203 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType14`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.210 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.212 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.214 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.218 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.220 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.222 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.224 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.226 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.228 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.230 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.232 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.234 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.236 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.239 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.241 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.243 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.245 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType14`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.248 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'join Categories cat in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[CateringPro.Models.Categories]) on [catgroup].Key equals [cat].Id' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.250 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'orderby [cat].Code asc' could not be translated and will be evaluated locally.
2019-09-20 15:11:25.282 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 15:11:25.294 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 15:11:25.297 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 15:11:25.301 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 15:11:25.304 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 15:11:25.307 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 15:11:25.311 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 15:11:25.378 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 401.2524ms.
2019-09-20 15:11:25.381 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.Index (CateringPro) in 439.4301ms
2019-09-20 15:11:25.394 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 650.1671ms 200 text/html; charset=utf-8
2019-09-20 15:11:28.572 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/DayDishes/EditDay  
2019-09-20 15:11:28.595 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "EditDay", controller = "DayDishes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ViewResult EditDay(System.DateTime) on controller CateringPro.Controllers.DayDishesController (CateringPro).
2019-09-20 15:11:28.598 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 15:11:28.609 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.DayDishesController.EditDay (CateringPro) - Validation state: Valid
2019-09-20 15:11:28.612 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.DayDishesController.EditDay (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.3128ms.
2019-09-20 15:11:28.619 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view EditDay.
2019-09-20 15:11:28.636 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:11:28.659 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:11:28.662 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:11:28.665 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from DayDish dayd in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 15:11:28.668 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:28.670 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:28.673 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:28.676 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:28.679 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([dish].CategoriesId, new <>f__AnonymousType9`5(DishId = [dish].Id, CategoryID = [dish].CategoriesId, DishName = [dish].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0)))' could not be translated and will be evaluated locally.
2019-09-20 15:11:28.685 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:11:28.687 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:11:28.690 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from DayDish dayd in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 15:11:28.692 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:28.694 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:28.698 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:28.700 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:11:28.703 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([dish].CategoriesId, new <>f__AnonymousType9`5(DishId = [dish].Id, CategoryID = [dish].CategoriesId, DishName = [dish].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0)))' could not be translated and will be evaluated locally.
2019-09-20 15:11:28.707 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'join Categories cat in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[CateringPro.Models.Categories]) on [catgroup].Key equals [cat].Id' could not be translated and will be evaluated locally.
2019-09-20 15:11:28.709 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'orderby [cat].Code asc' could not be translated and will be evaluated locally.
2019-09-20 15:11:28.730 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 15:11:28.775 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:11:28.808 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 15:11:28.812 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:11:28.820 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 15:11:28.822 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:11:28.830 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 15:11:28.833 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:11:28.840 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 15:11:28.843 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:11:28.851 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 15:11:28.854 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:11:28.861 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 15:11:28.864 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:11:28.886 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view EditDay executed in 267.6598ms.
2019-09-20 15:11:28.890 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.DayDishesController.EditDay (CateringPro) in 291.9868ms
2019-09-20 15:11:28.892 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 320.7848ms 200 text/html; charset=utf-8
2019-09-20 15:11:31.490 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/DayDishes/SaveDayDish application/x-www-form-urlencoded; charset=UTF-8 53
2019-09-20 15:11:31.500 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "SaveDayDish", controller = "DayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] SaveDayDish(Int32, System.DateTime, Boolean) on controller CateringPro.Controllers.DayDishesController (CateringPro).
2019-09-20 15:11:31.502 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 15:11:31.531 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.DayDishesController.SaveDayDish (CateringPro) - Validation state: Valid
2019-09-20 15:12:21.229 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:12:21.242 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'OrderTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:12:21.244 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:12:21.246 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Pizzas'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:12:21.286 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:12:21.399 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-09-20 15:12:21.447 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-09-20 15:12:21.558 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2019-09-20 15:12:21.956 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 DEBUG http://localhost:51321/  0
2019-09-20 15:12:21.957 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-09-20 15:12:21.992 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 34.8848ms 200 
2019-09-20 15:12:22.170 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Index", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 15:12:22.181 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 15:12:22.192 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro) - Validation state: Valid
2019-09-20 15:12:22.200 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 3.7374ms.
2019-09-20 15:12:22.227 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-09-20 15:12:22.314 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:12:22.359 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:12:22.361 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:12:22.363 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:12:22.365 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:12:22.401 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.404 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.407 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.413 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.416 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.418 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.420 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.423 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.425 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.427 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.429 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.432 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.433 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.438 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.441 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.443 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.448 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType14`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.455 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.457 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.459 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.463 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.464 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.466 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.467 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.469 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.471 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.473 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.475 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.478 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.481 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.483 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.485 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.488 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.490 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType14`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.493 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'join Categories cat in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[CateringPro.Models.Categories]) on [catgroup].Key equals [cat].Id' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.495 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'orderby [cat].Code asc' could not be translated and will be evaluated locally.
2019-09-20 15:12:22.530 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 15:12:22.540 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 15:12:22.544 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 15:12:22.548 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 15:12:22.552 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 15:12:22.556 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 15:12:22.559 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_1='?' (Size = 450), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON (([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_1 = [ud0].[UserId])
WHERE [dd0].[Date] = @__daydate_0
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1)
2019-09-20 15:12:22.631 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 421.7915ms.
2019-09-20 15:12:22.633 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.Index (CateringPro) in 461.0703ms
2019-09-20 15:12:22.648 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 689.3544ms 200 text/html; charset=utf-8
2019-09-20 15:12:27.330 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/DayDishes/EditDay  
2019-09-20 15:12:27.349 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "EditDay", controller = "DayDishes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ViewResult EditDay(System.DateTime) on controller CateringPro.Controllers.DayDishesController (CateringPro).
2019-09-20 15:12:27.352 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 15:12:27.362 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.DayDishesController.EditDay (CateringPro) - Validation state: Valid
2019-09-20 15:12:27.364 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.DayDishesController.EditDay (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.2578ms.
2019-09-20 15:12:27.369 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view EditDay.
2019-09-20 15:12:27.385 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:12:27.405 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:12:27.407 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:12:27.409 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from DayDish dayd in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 15:12:27.412 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:27.414 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:27.415 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:27.417 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:27.420 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([dish].CategoriesId, new <>f__AnonymousType9`5(DishId = [dish].Id, CategoryID = [dish].CategoriesId, DishName = [dish].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0)))' could not be translated and will be evaluated locally.
2019-09-20 15:12:27.424 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:12:27.427 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:12:27.429 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from DayDish dayd in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 15:12:27.431 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:27.433 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:27.434 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:27.436 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:12:27.438 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([dish].CategoriesId, new <>f__AnonymousType9`5(DishId = [dish].Id, CategoryID = [dish].CategoriesId, DishName = [dish].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0)))' could not be translated and will be evaluated locally.
2019-09-20 15:12:27.441 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'join Categories cat in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[CateringPro.Models.Categories]) on [catgroup].Key equals [cat].Id' could not be translated and will be evaluated locally.
2019-09-20 15:12:27.443 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'orderby [cat].Code asc' could not be translated and will be evaluated locally.
2019-09-20 15:12:27.460 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 15:12:27.499 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:12:27.524 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 15:12:27.526 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:12:27.534 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 15:12:27.536 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:12:27.543 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 15:12:27.546 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:12:27.552 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 15:12:27.555 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:12:27.561 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 15:12:27.564 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:12:27.570 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE [subday0].[Date] = @__daydate_0
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
ORDER BY [DishId0]
2019-09-20 15:12:27.572 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:12:27.584 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view EditDay executed in 215.7155ms.
2019-09-20 15:12:27.589 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.DayDishesController.EditDay (CateringPro) in 238.2367ms
2019-09-20 15:12:27.591 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 261.4294ms 200 text/html; charset=utf-8
2019-09-20 15:12:30.082 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/DayDishes/SaveDayDish application/x-www-form-urlencoded; charset=UTF-8 53
2019-09-20 15:12:30.091 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "SaveDayDish", controller = "DayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] SaveDayDish(Int32, System.DateTime, Boolean) on controller CateringPro.Controllers.DayDishesController (CateringPro).
2019-09-20 15:12:30.093 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 15:12:30.117 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.DayDishesController.SaveDayDish (CateringPro) - Validation state: Valid
2019-09-20 15:12:33.912 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:12:33.924 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__src_DishId_0='?' (DbType = Int32), @__src_Date_1='?' (DbType = Date), @__src_CompanyId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [dd].[Date], [dd].[DishId], [dd].[CompanyId]
FROM [DayDish] AS [dd]
WHERE (([dd].[DishId] = @__src_DishId_0) AND ([dd].[Date] = @__src_Date_1)) AND ([dd].[CompanyId] = @__src_CompanyId_2)
2019-09-20 15:12:40.579 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (81ms) [Parameters=[@p0='?' (DbType = Date), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DayDish] ([Date], [DishId], [CompanyId])
VALUES (@p0, @p1, @p2);
2019-09-20 15:12:40.593 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.DayDishesController.SaveDayDish (CateringPro), returned result Microsoft.AspNetCore.Mvc.JsonResult in 10472.9899ms.
2019-09-20 15:12:40.600 +03:00 [Information] Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor: Executing JsonResult, writing value of type 'System.Int32'.
2019-09-20 15:12:40.665 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.DayDishesController.SaveDayDish (CateringPro) in 10571.8461ms
2019-09-20 15:12:40.673 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 10590.5771ms 200 application/json; charset=utf-8
2019-09-20 15:46:17.129 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:46:17.144 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'OrderTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:46:17.146 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:46:17.147 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Pizzas'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:46:17.191 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:46:17.317 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-09-20 15:46:17.366 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-09-20 15:46:17.483 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2019-09-20 15:46:18.081 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 DEBUG http://localhost:51321/  0
2019-09-20 15:46:18.084 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-09-20 15:46:18.116 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 33.5556ms 200 
2019-09-20 15:46:18.139 +03:00 [Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: Identity.Application was not authenticated. Failure message: Ticket expired
2019-09-20 15:46:18.275 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Index", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 15:46:18.287 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed.
2019-09-20 15:46:18.289 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-09-20 15:46:18.294 +03:00 [Information] Microsoft.AspNetCore.Mvc.ChallengeResult: Executing ChallengeResult with authentication schemes ().
2019-09-20 15:46:18.301 +03:00 [Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: AuthenticationScheme: Identity.Application was challenged.
2019-09-20 15:46:18.304 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.Index (CateringPro) in 25.7702ms
2019-09-20 15:46:18.311 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 231.2238ms 302 
2019-09-20 15:46:18.317 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/Account/Login?ReturnUrl=%2F  
2019-09-20 15:46:18.319 +03:00 [Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: Identity.Application was not authenticated. Failure message: Ticket expired
2019-09-20 15:46:18.334 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller CateringPro.Controllers.AccountController (CateringPro).
2019-09-20 15:46:18.357 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.AccountController.Login (CateringPro) - Validation state: Valid
2019-09-20 15:46:18.361 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.AccountController.Login (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.7278ms.
2019-09-20 15:46:18.379 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Login.
2019-09-20 15:46:18.534 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Login executed in 167.1147ms.
2019-09-20 15:46:18.537 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.AccountController.Login (CateringPro) in 201.1785ms
2019-09-20 15:46:18.543 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 226.7133ms 200 text/html; charset=utf-8
2019-09-20 15:46:21.439 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/Account/Login application/x-www-form-urlencoded 232
2019-09-20 15:46:21.441 +03:00 [Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: Identity.Application was not authenticated. Failure message: Ticket expired
2019-09-20 15:46:21.449 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CateringPro.ViewModels.LoginViewModel) on controller CateringPro.Controllers.AccountController (CateringPro).
2019-09-20 15:46:21.478 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.AccountController.Login (CateringPro) - Validation state: Valid
2019-09-20 15:46:21.484 +03:00 [Information] CateringPro.Models.CompanyUser: User admin is going to login 
2019-09-20 15:46:21.493 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:46:21.568 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (17ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[CompanyId], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2019-09-20 15:46:21.641 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2019-09-20 15:46:21.688 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2019-09-20 15:46:21.719 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0
2019-09-20 15:46:21.736 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2019-09-20 15:46:21.757 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2019-09-20 15:46:21.769 +03:00 [Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: AuthenticationScheme: Identity.Application signed in.
2019-09-20 15:46:21.775 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.AccountController.Login (CateringPro), returned result Microsoft.AspNetCore.Mvc.RedirectResult in 294.7722ms.
2019-09-20 15:46:21.781 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor: Executing RedirectResult, redirecting to /.
2019-09-20 15:46:21.785 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.AccountController.Login (CateringPro) in 334.2532ms
2019-09-20 15:46:21.794 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 355.8521ms 302 
2019-09-20 15:46:21.799 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-09-20 15:46:21.806 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Index", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 15:46:21.808 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 15:46:21.810 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro) - Validation state: Valid
2019-09-20 15:46:21.813 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.9534ms.
2019-09-20 15:46:21.822 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-09-20 15:46:21.859 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:46:21.889 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:46:21.891 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:46:21.892 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:46:21.894 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:46:21.909 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.911 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.914 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.918 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.920 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.922 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.924 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.926 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.928 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.930 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.933 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.935 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.938 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.941 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.943 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.945 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.950 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType15`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.956 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.958 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.960 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.962 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.964 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.967 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.969 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.971 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.973 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.975 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.977 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.979 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.981 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.984 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.986 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.988 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.991 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType15`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.994 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'join Categories cat in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[CateringPro.Models.Categories]) on new <>f__AnonymousType11`2(id = [catgroup].Key, cid = __companyid_1) equals new <>f__AnonymousType11`2(id = [cat].Id, cid = [cat].CompanyId)' could not be translated and will be evaluated locally.
2019-09-20 15:46:21.996 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'orderby [cat].Code asc' could not be translated and will be evaluated locally.
2019-09-20 15:46:22.040 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (17ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:46:22.048 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:46:22.063 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[CompanyId], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:46:22.089 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:46:22.093 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:46:22.099 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:46:22.103 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:46:22.108 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:46:22.126 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 308.5895ms.
2019-09-20 15:46:22.130 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.Index (CateringPro) in 320.9259ms
2019-09-20 15:46:22.133 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 333.3665ms 200 text/html; charset=utf-8
2019-09-20 15:46:27.723 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/DayDishes/EditDay  
2019-09-20 15:46:27.730 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "EditDay", controller = "DayDishes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ViewResult EditDay(System.DateTime) on controller CateringPro.Controllers.DayDishesController (CateringPro).
2019-09-20 15:46:27.734 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 15:46:27.738 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.DayDishesController.EditDay (CateringPro) - Validation state: Valid
2019-09-20 15:46:27.741 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.DayDishesController.EditDay (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.2959ms.
2019-09-20 15:46:27.748 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view EditDay.
2019-09-20 15:46:27.768 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:46:27.794 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:46:27.797 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:46:27.800 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from DayDish dayd in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 15:46:27.803 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:27.805 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:27.808 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:27.810 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:27.813 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([dish].CategoriesId, new <>f__AnonymousType9`5(DishId = [dish].Id, CategoryID = [dish].CategoriesId, DishName = [dish].Name, Date = __daydate_1, Enabled = ({[proto] => Count()} > 0)))' could not be translated and will be evaluated locally.
2019-09-20 15:46:27.819 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:46:27.821 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:46:27.823 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from DayDish dayd in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 15:46:27.825 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:27.828 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:27.831 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:27.834 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:46:27.836 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([dish].CategoriesId, new <>f__AnonymousType9`5(DishId = [dish].Id, CategoryID = [dish].CategoriesId, DishName = [dish].Name, Date = __daydate_1, Enabled = ({[proto] => Count()} > 0)))' could not be translated and will be evaluated locally.
2019-09-20 15:46:27.839 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'join Categories cat in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[CateringPro.Models.Categories]) on new <>f__AnonymousType11`2(id = [catgroup].Key, cid = __companyid_0) equals new <>f__AnonymousType11`2(id = [cat].Id, cid = [cat].CompanyId)' could not be translated and will be evaluated locally.
2019-09-20 15:46:27.841 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'orderby [cat].Code asc' could not be translated and will be evaluated locally.
2019-09-20 15:46:27.861 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__daydate_1='?' (DbType = Date), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE ([subday0].[Date] = @__daydate_1) AND ([subday0].[CompanyId] = @__companyid_0)
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
WHERE [dish0].[CompanyId] = @__companyid_0
ORDER BY [DishId0]
2019-09-20 15:46:27.885 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[CompanyId], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:46:27.898 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_1='?' (DbType = Date), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE ([subday0].[Date] = @__daydate_1) AND ([subday0].[CompanyId] = @__companyid_0)
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
WHERE [dish0].[CompanyId] = @__companyid_0
ORDER BY [DishId0]
2019-09-20 15:46:27.902 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[CompanyId], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:46:27.908 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_1='?' (DbType = Date), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE ([subday0].[Date] = @__daydate_1) AND ([subday0].[CompanyId] = @__companyid_0)
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
WHERE [dish0].[CompanyId] = @__companyid_0
ORDER BY [DishId0]
2019-09-20 15:46:27.911 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[CompanyId], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:46:27.918 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_1='?' (DbType = Date), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE ([subday0].[Date] = @__daydate_1) AND ([subday0].[CompanyId] = @__companyid_0)
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
WHERE [dish0].[CompanyId] = @__companyid_0
ORDER BY [DishId0]
2019-09-20 15:46:27.921 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[CompanyId], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:46:27.927 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_1='?' (DbType = Date), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE ([subday0].[Date] = @__daydate_1) AND ([subday0].[CompanyId] = @__companyid_0)
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
WHERE [dish0].[CompanyId] = @__companyid_0
ORDER BY [DishId0]
2019-09-20 15:46:27.931 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[CompanyId], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:46:27.937 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_1='?' (DbType = Date), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE ([subday0].[Date] = @__daydate_1) AND ([subday0].[CompanyId] = @__companyid_0)
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
WHERE [dish0].[CompanyId] = @__companyid_0
ORDER BY [DishId0]
2019-09-20 15:46:27.940 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[CompanyId], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:46:27.947 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__daydate_1='?' (DbType = Date), @__companyid_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [dish0].[Id] AS [DishId0], [dish0].[CategoriesId] AS [CategoryID], [dish0].[Code], [dish0].[CompanyId], [dish0].[Description], [dish0].[Name] AS [DishName], [dish0].[Price], [t0].[Date], [t0].[DishId], [t0].[CompanyId]
FROM [Dishes] AS [dish0]
LEFT JOIN (
    SELECT [subday0].[Date], [subday0].[DishId], [subday0].[CompanyId]
    FROM [DayDish] AS [subday0]
    WHERE ([subday0].[Date] = @__daydate_1) AND ([subday0].[CompanyId] = @__companyid_0)
) AS [t0] ON [dish0].[Id] = [t0].[DishId]
WHERE [dish0].[CompanyId] = @__companyid_0
ORDER BY [DishId0]
2019-09-20 15:46:27.950 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[CompanyId], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:46:27.961 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view EditDay executed in 215.4533ms.
2019-09-20 15:46:27.966 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.DayDishesController.EditDay (CateringPro) in 230.5297ms
2019-09-20 15:46:27.972 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 246.8762ms 200 text/html; charset=utf-8
2019-09-20 15:46:34.139 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/MyOrders  
2019-09-20 15:46:34.146 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Index", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 15:46:34.148 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 15:46:34.151 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro) - Validation state: Valid
2019-09-20 15:46:34.153 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0536ms.
2019-09-20 15:46:34.155 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-09-20 15:46:34.158 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:46:34.162 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:46:34.167 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:46:34.170 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[CompanyId], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:46:34.175 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:46:34.180 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:46:34.185 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:46:34.189 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:46:34.193 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:46:34.200 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 40.7289ms.
2019-09-20 15:46:34.204 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.Index (CateringPro) in 54.1592ms
2019-09-20 15:46:34.206 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 66.6165ms 200 text/html; charset=utf-8
2019-09-20 15:46:38.297 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/UserDayDishes/SaveDay application/x-www-form-urlencoded; charset=UTF-8 114
2019-09-20 15:46:38.320 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "SaveDay", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] SaveDay(System.Collections.Generic.List`1[CateringPro.Models.UserDayDish]) on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 15:46:38.322 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 15:46:38.336 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.SaveDay (CateringPro) - Validation state: Valid
2019-09-20 15:46:38.339 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:46:38.405 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.SaveDay (CateringPro) in 83.4993ms
2019-09-20 15:46:38.445 +03:00 [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
System.ArgumentException: Entity type 'UserDayDish' is defined with a 4-part composite key, but 3 values were passed to the 'DbSet.Find' method.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(Object[] keyValues, IReadOnlyList`1& keyProperties)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.Find(Object[] keyValues)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Find(Object[] keyValues)
   at CateringPro.Controllers.UserDayDishesController.<SaveDay>b__10_1(UserDayDish d) in C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\Controllers\UserDayDishesController.cs:line 133
   at System.Collections.Generic.List`1.ForEach(Action`1 action)
   at CateringPro.Controllers.UserDayDishesController.SaveDay(List`1 daydishes) in C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\Controllers\UserDayDishesController.cs:line 130
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-20 15:46:38.476 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 178.7994ms 500 text/html; charset=utf-8
2019-09-20 15:55:35.877 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:55:35.891 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'OrderTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:55:35.914 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:55:35.920 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Pizzas'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:55:35.993 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:55:36.106 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-09-20 15:55:36.163 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-09-20 15:55:36.291 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2019-09-20 15:55:36.879 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-09-20 15:55:36.881 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 DEBUG http://localhost:51321/  0
2019-09-20 15:55:36.914 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 32.2687ms 200 
2019-09-20 15:55:37.084 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Index", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 15:55:37.095 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 15:55:37.107 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro) - Validation state: Valid
2019-09-20 15:55:37.113 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 1.9499ms.
2019-09-20 15:55:37.136 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-09-20 15:55:37.214 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:55:37.252 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:55:37.253 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:55:37.255 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:55:37.257 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:55:37.289 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.291 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.295 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.300 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.302 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.304 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.306 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.309 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.312 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.314 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.316 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.318 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.320 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.324 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.326 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.328 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.333 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType15`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.339 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.341 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.343 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.347 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.348 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.350 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.352 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.354 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.356 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.358 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.360 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.363 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.365 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.367 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.369 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.371 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.374 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType15`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.377 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'join Categories cat in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[CateringPro.Models.Categories]) on new <>f__AnonymousType11`2(id = [catgroup].Key, cid = __companyid_1) equals new <>f__AnonymousType11`2(id = [cat].Id, cid = [cat].CompanyId)' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.379 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'orderby [cat].Code asc' could not be translated and will be evaluated locally.
2019-09-20 15:55:37.413 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:55:37.422 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:55:37.447 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[CompanyId], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:55:37.478 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:55:37.482 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:55:37.486 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:55:37.490 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:55:37.495 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:55:37.569 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 448.9865ms.
2019-09-20 15:55:37.572 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.Index (CateringPro) in 485.397ms
2019-09-20 15:55:37.589 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 709.8716ms 200 text/html; charset=utf-8
2019-09-20 15:55:45.718 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/UserDayDishes/SaveDay application/x-www-form-urlencoded; charset=UTF-8 115
2019-09-20 15:55:45.762 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "SaveDay", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] SaveDay(System.Collections.Generic.List`1[CateringPro.Models.UserDayDish]) on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 15:55:45.764 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 15:55:45.804 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.SaveDay (CateringPro) - Validation state: Valid
2019-09-20 15:55:45.810 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:55:45.937 +03:00 [Error] Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (15ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Date), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserDayDish] ([UserId], [Date], [DishId], [CompanyId], [Quantity])
VALUES (@p0, @p1, @p2, @p3, @p4);
System.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserDayDish_AspNetUsers_UserId". The conflict occurred in database "CateringPro", table "dbo.AspNetUsers", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
ClientConnectionId:b2f719a0-6a3e-4e3d-82b0-0033b78f1c1e
Error Number:547,State:0,Class:16
2019-09-20 15:55:45.957 +03:00 [Error] Microsoft.EntityFrameworkCore.Update: An exception occurred in the database while saving changes for context type 'CateringPro.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserDayDish_AspNetUsers_UserId". The conflict occurred in database "CateringPro", table "dbo.AspNetUsers", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserDayDish_AspNetUsers_UserId". The conflict occurred in database "CateringPro", table "dbo.AspNetUsers", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2019-09-20 15:55:46.032 +03:00 [Error] CateringPro.Models.CompanyUser: Update user day dish
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserDayDish_AspNetUsers_UserId". The conflict occurred in database "CateringPro", table "dbo.AspNetUsers", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CateringPro.Controllers.UserDayDishesController.SaveDay(List`1 daydishes) in C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\Controllers\UserDayDishesController.cs:line 153
2019-09-20 15:55:46.038 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.UserDayDishesController.SaveDay (CateringPro), returned result Microsoft.AspNetCore.Mvc.JsonResult in 231.1574ms.
2019-09-20 15:55:46.047 +03:00 [Information] Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-09-20 15:55:46.158 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.SaveDay (CateringPro) in 394.1097ms
2019-09-20 15:55:46.167 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 450.5404ms 200 application/json; charset=utf-8
2019-09-20 15:56:00.766 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/UserDayDishes/SaveDay application/x-www-form-urlencoded; charset=UTF-8 115
2019-09-20 15:56:00.771 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "SaveDay", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] SaveDay(System.Collections.Generic.List`1[CateringPro.Models.UserDayDish]) on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 15:56:00.774 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 15:56:00.777 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.SaveDay (CateringPro) - Validation state: Valid
2019-09-20 15:56:04.477 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:56:50.090 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:56:50.106 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'OrderTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:56:50.107 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:56:50.109 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Pizzas'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:56:50.152 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:56:50.263 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-09-20 15:56:50.315 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-09-20 15:56:50.442 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2019-09-20 15:56:50.994 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-09-20 15:56:50.995 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 DEBUG http://localhost:51321/  0
2019-09-20 15:56:51.045 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 49.5831ms 200 
2019-09-20 15:56:51.225 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Index", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 15:56:51.235 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 15:56:51.251 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro) - Validation state: Valid
2019-09-20 15:56:51.257 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 2.4478ms.
2019-09-20 15:56:51.282 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-09-20 15:56:51.358 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:56:51.396 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:56:51.398 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:56:51.401 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:56:51.404 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:56:51.433 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.435 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.437 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.441 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.443 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.444 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.446 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.448 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.450 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.452 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.453 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.455 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.457 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.461 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.462 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.464 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.467 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType15`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.473 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.474 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.476 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.479 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.481 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.483 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.485 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.487 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.489 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.491 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.492 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.494 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.495 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.498 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.499 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.501 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.502 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType15`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.506 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'join Categories cat in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[CateringPro.Models.Categories]) on new <>f__AnonymousType11`2(id = [catgroup].Key, cid = __companyid_1) equals new <>f__AnonymousType11`2(id = [cat].Id, cid = [cat].CompanyId)' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.507 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'orderby [cat].Code asc' could not be translated and will be evaluated locally.
2019-09-20 15:56:51.541 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:56:51.550 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:56:51.569 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[CompanyId], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:56:51.603 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:56:51.607 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:56:51.611 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:56:51.615 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:56:51.620 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:56:51.691 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 426.086ms.
2019-09-20 15:56:51.693 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.Index (CateringPro) in 466.3902ms
2019-09-20 15:56:51.711 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 712.2516ms 200 text/html; charset=utf-8
2019-09-20 15:56:57.372 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/UserDayDishes/SaveDay application/x-www-form-urlencoded; charset=UTF-8 115
2019-09-20 15:56:57.407 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "SaveDay", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] SaveDay(System.Collections.Generic.List`1[CateringPro.Models.UserDayDish]) on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 15:56:57.409 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 15:56:57.447 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.SaveDay (CateringPro) - Validation state: Valid
2019-09-20 15:57:33.651 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:57:33.665 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'OrderTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:57:33.667 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:57:33.668 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Pizzas'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 15:57:33.706 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:57:33.831 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-09-20 15:57:33.897 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-09-20 15:57:34.032 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2019-09-20 15:57:34.695 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 DEBUG http://localhost:51321/  0
2019-09-20 15:57:34.697 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-09-20 15:57:34.726 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 29.9717ms 200 
2019-09-20 15:57:34.894 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Index", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 15:57:34.905 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 15:57:34.916 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro) - Validation state: Valid
2019-09-20 15:57:34.921 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 2.0329ms.
2019-09-20 15:57:34.946 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-09-20 15:57:35.028 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:57:35.066 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:57:35.068 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:57:35.070 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:57:35.073 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 15:57:35.102 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.105 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.107 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.111 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.113 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.115 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.117 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.119 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.121 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.123 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.125 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.127 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.129 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.133 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.134 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.137 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.141 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType15`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.146 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.148 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.151 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.154 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.156 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.158 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.160 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.162 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.164 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.165 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.167 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.169 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.172 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.174 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.176 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.178 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.180 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType15`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.184 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'join Categories cat in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[CateringPro.Models.Categories]) on new <>f__AnonymousType11`2(id = [catgroup].Key, cid = __companyid_1) equals new <>f__AnonymousType11`2(id = [cat].Id, cid = [cat].CompanyId)' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.186 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'orderby [cat].Code asc' could not be translated and will be evaluated locally.
2019-09-20 15:57:35.225 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:57:35.234 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:57:35.258 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[CompanyId], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 15:57:35.289 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:57:35.293 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:57:35.297 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:57:35.301 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:57:35.306 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 15:57:35.376 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 445.9631ms.
2019-09-20 15:57:35.378 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.Index (CateringPro) in 482.3443ms
2019-09-20 15:57:35.394 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 696.685ms 200 text/html; charset=utf-8
2019-09-20 15:57:40.029 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/UserDayDishes/SaveDay application/x-www-form-urlencoded; charset=UTF-8 115
2019-09-20 15:57:40.067 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "SaveDay", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] SaveDay(System.Collections.Generic.List`1[CateringPro.Models.UserDayDish]) on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 15:57:40.069 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 15:57:40.113 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.SaveDay (CateringPro) - Validation state: Valid
2019-09-20 15:57:47.118 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 15:57:47.197 +03:00 [Error] CateringPro.Models.CompanyUser: Update user day dish
System.ArgumentException: The key value at position 0 of the call to 'DbSet<UserDayDish>.Find' was of type 'int', which does not match the property type of 'string'.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(Object[] keyValues, IReadOnlyList`1& keyProperties)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.Find(Object[] keyValues)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Find(Object[] keyValues)
   at CateringPro.Controllers.UserDayDishesController.<SaveDay>b__11_1(UserDayDish d) in C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\Controllers\UserDayDishesController.cs:line 139
   at System.Collections.Generic.List`1.ForEach(Action`1 action)
   at CateringPro.Controllers.UserDayDishesController.SaveDay(List`1 daydishes) in C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\Controllers\UserDayDishesController.cs:line 135
2019-09-20 15:57:47.199 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.UserDayDishesController.SaveDay (CateringPro), returned result Microsoft.AspNetCore.Mvc.JsonResult in 7084.412ms.
2019-09-20 15:57:47.203 +03:00 [Information] Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-09-20 15:57:47.327 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.SaveDay (CateringPro) in 7257.8229ms
2019-09-20 15:57:47.329 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 7300.4828ms 200 application/json; charset=utf-8
2019-09-20 15:57:57.368 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/UserDayDishes/SaveDay application/x-www-form-urlencoded; charset=UTF-8 115
2019-09-20 15:57:57.371 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "SaveDay", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] SaveDay(System.Collections.Generic.List`1[CateringPro.Models.UserDayDish]) on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 15:57:57.373 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 15:57:57.376 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.SaveDay (CateringPro) - Validation state: Valid
2019-09-20 15:58:01.151 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 16:03:53.524 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 16:03:53.557 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'OrderTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 16:03:53.559 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 16:03:53.561 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Pizzas'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 16:03:53.602 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 16:03:53.749 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-09-20 16:03:53.799 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-09-20 16:03:53.915 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2019-09-20 16:03:54.432 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-09-20 16:03:54.433 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 DEBUG http://localhost:51321/  0
2019-09-20 16:03:54.471 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 37.1387ms 200 
2019-09-20 16:03:54.690 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Index", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 16:03:54.701 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 16:03:54.714 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro) - Validation state: Valid
2019-09-20 16:03:54.721 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 3.6301ms.
2019-09-20 16:03:54.747 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-09-20 16:03:54.820 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 16:03:54.857 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 16:03:54.860 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 16:03:54.862 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 16:03:54.864 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 16:03:54.898 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.900 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.903 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.907 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.909 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.911 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.913 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.916 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.917 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.919 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.920 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.922 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.924 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.929 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.931 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.933 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.937 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType15`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.942 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.944 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.946 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.949 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.952 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.954 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.956 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.958 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.960 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.962 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.964 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.966 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.967 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.970 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.972 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.974 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.976 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType15`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.979 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'join Categories cat in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[CateringPro.Models.Categories]) on new <>f__AnonymousType11`2(id = [catgroup].Key, cid = __companyid_1) equals new <>f__AnonymousType11`2(id = [cat].Id, cid = [cat].CompanyId)' could not be translated and will be evaluated locally.
2019-09-20 16:03:54.981 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'orderby [cat].Code asc' could not be translated and will be evaluated locally.
2019-09-20 16:03:55.016 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:03:55.025 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:03:55.045 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[CompanyId], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 16:03:55.074 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:03:55.078 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:03:55.082 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:03:55.086 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:03:55.089 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:03:55.176 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 445.433ms.
2019-09-20 16:03:55.179 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.Index (CateringPro) in 487.128ms
2019-09-20 16:03:55.192 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 759.8879ms 200 text/html; charset=utf-8
2019-09-20 16:04:00.077 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/UserDayDishes/SaveDay application/x-www-form-urlencoded; charset=UTF-8 115
2019-09-20 16:04:00.116 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "SaveDay", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] SaveDay(System.Collections.Generic.List`1[CateringPro.Models.UserDayDish]) on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 16:04:00.118 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 16:04:00.166 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.SaveDay (CateringPro) - Validation state: Valid
2019-09-20 16:04:02.805 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 16:04:05.005 +03:00 [Error] CateringPro.Models.CompanyUser: Update user day dish
System.ArgumentException: The key value at position 0 of the call to 'DbSet<UserDayDish>.Find' was of type 'DateTime', which does not match the property type of 'string'.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(Object[] keyValues, IReadOnlyList`1& keyProperties)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.Find(Object[] keyValues)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Find(Object[] keyValues)
   at CateringPro.Controllers.UserDayDishesController.<SaveDay>b__11_1(UserDayDish d) in C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\Controllers\UserDayDishesController.cs:line 139
   at System.Collections.Generic.List`1.ForEach(Action`1 action)
   at CateringPro.Controllers.UserDayDishesController.SaveDay(List`1 daydishes) in C:\Users\yurik\source\repos\Ferolka\catering\CateringPro\Controllers\UserDayDishesController.cs:line 135
2019-09-20 16:04:07.123 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.UserDayDishesController.SaveDay (CateringPro), returned result Microsoft.AspNetCore.Mvc.JsonResult in 6954.4607ms.
2019-09-20 16:04:07.127 +03:00 [Information] Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-09-20 16:04:07.243 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.SaveDay (CateringPro) in 7124.8184ms
2019-09-20 16:04:07.245 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 7169.1797ms 200 application/json; charset=utf-8
2019-09-20 16:04:09.792 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/UserDayDishes/SaveDay application/x-www-form-urlencoded; charset=UTF-8 115
2019-09-20 16:04:09.795 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "SaveDay", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] SaveDay(System.Collections.Generic.List`1[CateringPro.Models.UserDayDish]) on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 16:04:09.796 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 16:04:09.799 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.SaveDay (CateringPro) - Validation state: Valid
2019-09-20 16:04:56.371 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 16:04:56.382 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'OrderTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 16:04:56.384 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 16:04:56.386 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Pizzas'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 16:04:56.423 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 16:04:56.526 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-09-20 16:04:56.577 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-09-20 16:04:56.700 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2019-09-20 16:04:57.307 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-09-20 16:04:57.308 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 DEBUG http://localhost:51321/  0
2019-09-20 16:04:57.346 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 33.6982ms 200 
2019-09-20 16:04:57.518 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Index", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 16:04:57.528 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 16:04:57.538 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro) - Validation state: Valid
2019-09-20 16:04:57.543 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 2.0266ms.
2019-09-20 16:04:57.565 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-09-20 16:04:57.639 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 16:04:57.678 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 16:04:57.680 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 16:04:57.682 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 16:04:57.684 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 16:04:57.712 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.715 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.717 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.721 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.724 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.726 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.727 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.730 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.732 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.734 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.736 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.738 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.740 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.743 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.745 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.747 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.751 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType15`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.756 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.758 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.760 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.763 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.765 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.767 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.769 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.771 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.773 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.774 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.776 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.778 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.780 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.782 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.784 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.786 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.788 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType15`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.791 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'join Categories cat in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[CateringPro.Models.Categories]) on new <>f__AnonymousType11`2(id = [catgroup].Key, cid = __companyid_1) equals new <>f__AnonymousType11`2(id = [cat].Id, cid = [cat].CompanyId)' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.793 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'orderby [cat].Code asc' could not be translated and will be evaluated locally.
2019-09-20 16:04:57.827 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:04:57.836 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:04:57.859 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[CompanyId], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 16:04:57.886 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:04:57.890 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:04:57.894 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:04:57.900 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:04:57.905 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:04:57.978 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 427.2692ms.
2019-09-20 16:04:57.980 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.Index (CateringPro) in 460.4967ms
2019-09-20 16:04:57.997 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 687.4103ms 200 text/html; charset=utf-8
2019-09-20 16:05:02.909 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/UserDayDishes/SaveDay application/x-www-form-urlencoded; charset=UTF-8 115
2019-09-20 16:05:02.944 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "SaveDay", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] SaveDay(System.Collections.Generic.List`1[CateringPro.Models.UserDayDish]) on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 16:05:02.947 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 16:05:02.995 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.SaveDay (CateringPro) - Validation state: Valid
2019-09-20 16:05:59.902 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 16:05:59.916 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'OrderTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 16:05:59.917 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 16:05:59.919 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Pizzas'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 16:05:59.959 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 16:06:00.091 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-09-20 16:06:00.163 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-09-20 16:06:00.325 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2019-09-20 16:06:00.862 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 DEBUG http://localhost:51321/  0
2019-09-20 16:06:00.864 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-09-20 16:06:00.899 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 36.4302ms 200 
2019-09-20 16:06:01.050 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Index", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 16:06:01.060 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 16:06:01.074 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro) - Validation state: Valid
2019-09-20 16:06:01.079 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 1.9149ms.
2019-09-20 16:06:01.106 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-09-20 16:06:01.181 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 16:06:01.218 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 16:06:01.220 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 16:06:01.221 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 16:06:01.223 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 16:06:01.254 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.257 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.260 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.264 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.266 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.268 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.270 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.272 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.274 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.276 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.278 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.279 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.282 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.287 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.289 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.291 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.295 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType15`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.300 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.302 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.305 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.307 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.309 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.311 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.313 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.315 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.318 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.320 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.321 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.323 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.325 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.327 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.329 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.331 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.334 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType15`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.338 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'join Categories cat in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[CateringPro.Models.Categories]) on new <>f__AnonymousType11`2(id = [catgroup].Key, cid = __companyid_1) equals new <>f__AnonymousType11`2(id = [cat].Id, cid = [cat].CompanyId)' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.340 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'orderby [cat].Code asc' could not be translated and will be evaluated locally.
2019-09-20 16:06:01.380 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:06:01.392 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:06:01.417 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[CompanyId], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 16:06:01.447 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:06:01.452 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:06:01.455 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:06:01.459 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:06:01.463 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:06:01.527 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 438.07ms.
2019-09-20 16:06:01.530 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.Index (CateringPro) in 477.3125ms
2019-09-20 16:06:01.543 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 681.1653ms 200 text/html; charset=utf-8
2019-09-20 16:06:05.797 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/UserDayDishes/SaveDay application/x-www-form-urlencoded; charset=UTF-8 115
2019-09-20 16:06:05.837 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "SaveDay", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] SaveDay(System.Collections.Generic.List`1[CateringPro.Models.UserDayDish]) on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 16:06:05.839 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 16:06:05.880 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.SaveDay (CateringPro) - Validation state: Valid
2019-09-20 16:06:08.419 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 16:06:54.755 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 16:06:54.768 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'OrderTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 16:06:54.770 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 16:06:54.772 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Pizzas'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 16:06:54.812 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 16:06:54.922 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-09-20 16:06:54.973 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-09-20 16:06:55.083 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2019-09-20 16:06:55.607 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 DEBUG http://localhost:51321/  0
2019-09-20 16:06:55.609 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-09-20 16:06:55.645 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 36.813ms 200 
2019-09-20 16:06:55.805 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Index", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 16:06:55.815 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 16:06:55.828 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro) - Validation state: Valid
2019-09-20 16:06:55.835 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 2.1393ms.
2019-09-20 16:06:55.856 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-09-20 16:06:55.923 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 16:06:55.962 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 16:06:55.964 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 16:06:55.966 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 16:06:55.968 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 16:06:55.999 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.001 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.004 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.008 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.010 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.012 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.014 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.017 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.019 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.021 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.023 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.025 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.027 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.031 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.034 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.036 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.040 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType15`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.046 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.049 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.051 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.054 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.056 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.058 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.060 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.062 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.064 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.066 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.068 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.070 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.071 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.074 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.075 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.077 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.080 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType15`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.083 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'join Categories cat in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[CateringPro.Models.Categories]) on new <>f__AnonymousType11`2(id = [catgroup].Key, cid = __companyid_1) equals new <>f__AnonymousType11`2(id = [cat].Id, cid = [cat].CompanyId)' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.085 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'orderby [cat].Code asc' could not be translated and will be evaluated locally.
2019-09-20 16:06:56.119 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:06:56.129 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:06:56.150 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[CompanyId], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 16:06:56.178 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:06:56.182 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:06:56.186 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:06:56.189 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:06:56.193 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:06:56.257 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 413.9219ms.
2019-09-20 16:06:56.259 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.Index (CateringPro) in 452.5493ms
2019-09-20 16:06:56.275 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 667.8939ms 200 text/html; charset=utf-8
2019-09-20 16:07:00.163 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/UserDayDishes/SaveDay application/x-www-form-urlencoded; charset=UTF-8 115
2019-09-20 16:07:00.199 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "SaveDay", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] SaveDay(System.Collections.Generic.List`1[CateringPro.Models.UserDayDish]) on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 16:07:00.201 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 16:07:00.244 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.SaveDay (CateringPro) - Validation state: Valid
2019-09-20 16:07:31.880 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 16:07:31.893 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'OrderTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 16:07:31.894 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 16:07:31.896 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Pizzas'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 16:07:31.936 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 16:07:32.048 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-09-20 16:07:32.103 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-09-20 16:07:32.217 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2019-09-20 16:07:32.821 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-09-20 16:07:32.823 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 DEBUG http://localhost:51321/  0
2019-09-20 16:07:32.862 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 39.7796ms 200 
2019-09-20 16:07:33.068 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Index", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 16:07:33.079 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 16:07:33.091 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro) - Validation state: Valid
2019-09-20 16:07:33.095 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 1.7564ms.
2019-09-20 16:07:33.115 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-09-20 16:07:33.186 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 16:07:33.227 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 16:07:33.230 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 16:07:33.232 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 16:07:33.234 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 16:07:33.263 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.265 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.268 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.273 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.275 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.276 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.278 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.281 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.282 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.284 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.286 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.289 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.291 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.294 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.296 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.298 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.302 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType15`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.308 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.310 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.312 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.315 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.317 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.319 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.322 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.325 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.327 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.328 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.330 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.332 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.334 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.337 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.340 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.342 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.344 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType15`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.347 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'join Categories cat in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[CateringPro.Models.Categories]) on new <>f__AnonymousType11`2(id = [catgroup].Key, cid = __companyid_1) equals new <>f__AnonymousType11`2(id = [cat].Id, cid = [cat].CompanyId)' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.349 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'orderby [cat].Code asc' could not be translated and will be evaluated locally.
2019-09-20 16:07:33.385 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:07:33.394 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:07:33.416 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[CompanyId], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 16:07:33.460 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:07:33.464 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:07:33.468 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:07:33.473 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:07:33.478 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:07:33.548 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 444.5475ms.
2019-09-20 16:07:33.550 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.Index (CateringPro) in 480.1917ms
2019-09-20 16:07:33.564 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 742.9056ms 200 text/html; charset=utf-8
2019-09-20 16:07:36.808 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/UserDayDishes/SaveDay application/x-www-form-urlencoded; charset=UTF-8 115
2019-09-20 16:07:36.852 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "SaveDay", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] SaveDay(System.Collections.Generic.List`1[CateringPro.Models.UserDayDish]) on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 16:07:36.855 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 16:07:36.901 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.SaveDay (CateringPro) - Validation state: Valid
2019-09-20 16:07:38.834 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 16:07:38.848 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450), @__get_Item_1='?' (DbType = Date), @__get_Item_2='?' (DbType = Int32), @__get_Item_3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[UserId], [e].[Date], [e].[DishId], [e].[CompanyId], [e].[Quantity]
FROM [UserDayDish] AS [e]
WHERE ((([e].[UserId] = @__get_Item_0) AND ([e].[Date] = @__get_Item_1)) AND ([e].[DishId] = @__get_Item_2)) AND ([e].[CompanyId] = @__get_Item_3)
2019-09-20 16:07:46.053 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Date), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserDayDish] ([UserId], [Date], [DishId], [CompanyId], [Quantity])
VALUES (@p0, @p1, @p2, @p3, @p4);
2019-09-20 16:07:46.073 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.UserDayDishesController.SaveDay (CateringPro), returned result Microsoft.AspNetCore.Mvc.JsonResult in 9169.5348ms.
2019-09-20 16:07:46.083 +03:00 [Information] Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-09-20 16:07:46.190 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.SaveDay (CateringPro) in 9335.1901ms
2019-09-20 16:07:46.200 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 9391.8085ms 200 application/json; charset=utf-8
2019-09-20 16:07:57.834 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/UserDayDishes/SaveDay application/x-www-form-urlencoded; charset=UTF-8 115
2019-09-20 16:07:57.837 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "SaveDay", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] SaveDay(System.Collections.Generic.List`1[CateringPro.Models.UserDayDish]) on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 16:07:57.838 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 16:07:57.842 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.SaveDay (CateringPro) - Validation state: Valid
2019-09-20 16:08:00.320 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 16:08:00.324 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450), @__get_Item_1='?' (DbType = Date), @__get_Item_2='?' (DbType = Int32), @__get_Item_3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[UserId], [e].[Date], [e].[DishId], [e].[CompanyId], [e].[Quantity]
FROM [UserDayDish] AS [e]
WHERE ((([e].[UserId] = @__get_Item_0) AND ([e].[Date] = @__get_Item_1)) AND ([e].[DishId] = @__get_Item_2)) AND ([e].[CompanyId] = @__get_Item_3)
2019-09-20 16:08:08.050 +03:00 [Error] Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (27ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Date), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserDayDish] ([UserId], [Date], [DishId], [CompanyId], [Quantity])
VALUES (@p0, @p1, @p2, @p3, @p4);
System.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_UserDayDish'. Cannot insert duplicate key in object 'dbo.UserDayDish'. The duplicate key value is (27fb457f-8b4f-4a66-96ce-5e98ae2f1d91, 2019-09-16, 3, 1).
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
ClientConnectionId:b65573c9-0057-4335-81eb-0c8aaed2bd4f
Error Number:2627,State:1,Class:14
2019-09-20 16:08:08.062 +03:00 [Error] Microsoft.EntityFrameworkCore.Update: An exception occurred in the database while saving changes for context type 'CateringPro.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Violation of PRIMARY KEY constraint 'PK_UserDayDish'. Cannot insert duplicate key in object 'dbo.UserDayDish'. The duplicate key value is (27fb457f-8b4f-4a66-96ce-5e98ae2f1d91, 2019-09-16, 3, 1).
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Violation of PRIMARY KEY constraint 'PK_UserDayDish'. Cannot insert duplicate key in object 'dbo.UserDayDish'. The duplicate key value is (27fb457f-8b4f-4a66-96ce-5e98ae2f1d91, 2019-09-16, 3, 1).
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2019-09-20 16:08:32.617 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Dish'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 16:08:32.633 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'OrderTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 16:08:32.635 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 16:08:32.637 +03:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation: No type was specified for the decimal column 'Price' on entity type 'Pizzas'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-09-20 16:08:32.683 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 16:08:32.804 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-09-20 16:08:32.870 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\yurik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-09-20 16:08:33.015 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2019-09-20 16:08:33.549 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 GET http://localhost:51321/  
2019-09-20 16:08:33.551 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 DEBUG http://localhost:51321/  0
2019-09-20 16:08:33.585 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 35.0469ms 200 
2019-09-20 16:08:33.741 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "Index", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 16:08:33.752 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 16:08:33.762 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro) - Validation state: Valid
2019-09-20 16:08:33.767 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.UserDayDishesController.Index (CateringPro), returned result Microsoft.AspNetCore.Mvc.ViewResult in 1.7405ms.
2019-09-20 16:08:33.790 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2019-09-20 16:08:33.876 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 16:08:33.923 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 16:08:33.926 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 16:08:33.928 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 16:08:33.930 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: Query: '(from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity).First()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 16:08:33.967 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 16:08:33.969 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 16:08:33.972 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 16:08:33.975 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:08:33.977 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:08:33.979 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:08:33.981 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:08:33.984 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:08:33.985 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:08:33.987 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:08:33.989 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:08:33.990 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:08:33.992 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:08:33.995 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:08:33.997 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:08:33.999 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:08:34.002 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType15`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 16:08:34.007 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 16:08:34.009 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'DefaultIfEmpty()' could not be translated and will be evaluated locally.
2019-09-20 16:08:34.012 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'from UserDayDish userday in {[proto] => DefaultIfEmpty()}' could not be translated and will be evaluated locally.
2019-09-20 16:08:34.014 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:08:34.016 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:08:34.017 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:08:34.019 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:08:34.021 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:08:34.022 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:08:34.025 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:08:34.027 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:08:34.029 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:08:34.032 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:08:34.035 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:08:34.036 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'Count()' could not be translated and will be evaluated locally.
2019-09-20 16:08:34.039 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'First()' could not be translated and will be evaluated locally.
2019-09-20 16:08:34.041 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'GroupBy([d].CategoriesId, new <>f__AnonymousType15`6(DishId = [d].Id, CategoryID = [d].CategoriesId, DishName = [d].Name, Date = __daydate_0, Enabled = ({[proto] => Count()} > 0), Quantity = IIF(({[proto] => Count()} > 0), {from UserDayDish <generated>_5 in [proto] select [<generated>_5].Quantity => First()}, 0)))' could not be translated and will be evaluated locally.
2019-09-20 16:08:34.044 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'join Categories cat in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[CateringPro.Models.Categories]) on new <>f__AnonymousType11`2(id = [catgroup].Key, cid = __companyid_1) equals new <>f__AnonymousType11`2(id = [cat].Id, cid = [cat].CompanyId)' could not be translated and will be evaluated locally.
2019-09-20 16:08:34.046 +03:00 [Warning] Microsoft.EntityFrameworkCore.Query: The LINQ expression 'orderby [cat].Code asc' could not be translated and will be evaluated locally.
2019-09-20 16:08:34.093 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:08:34.103 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:08:34.128 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [cat].[Id], [cat].[CompanyId], [cat].[Code], [cat].[Name]
FROM [Categories] AS [cat]
2019-09-20 16:08:34.157 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:08:34.161 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:08:34.165 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:08:34.168 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:08:34.171 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__userId_2='?' (Size = 450), @__companyid_1='?' (DbType = Int32), @__daydate_0='?' (DbType = Date)], CommandType='Text', CommandTimeout='30']
SELECT [dd0].[Date], [dd0].[DishId], [dd0].[CompanyId], [ud0].[UserId], [ud0].[Date], [ud0].[DishId], [ud0].[CompanyId], [ud0].[Quantity], [d0].[Id] AS [DishId0], [d0].[CategoriesId] AS [CategoryID], [d0].[Name] AS [DishName]
FROM [DayDish] AS [dd0]
INNER JOIN [Dishes] AS [d0] ON [dd0].[DishId] = [d0].[Id]
LEFT JOIN [UserDayDish] AS [ud0] ON ((([dd0].[DishId] = [ud0].[DishId]) AND ([dd0].[Date] = [ud0].[Date])) AND (@__userId_2 = [ud0].[UserId])) AND (@__companyid_1 = [ud0].[CompanyId])
WHERE ([dd0].[Date] = @__daydate_0) AND ([dd0].[CompanyId] = @__companyid_1)
ORDER BY [dd0].[DishId], [dd0].[Date], (SELECT 1), (SELECT 1)
2019-09-20 16:08:34.243 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 467.5524ms.
2019-09-20 16:08:34.246 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.Index (CateringPro) in 502.6312ms
2019-09-20 16:08:34.273 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 714.6207ms 200 text/html; charset=utf-8
2019-09-20 16:08:38.007 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request starting HTTP/1.1 POST http://localhost:51321/UserDayDishes/SaveDay application/x-www-form-urlencoded; charset=UTF-8 115
2019-09-20 16:08:38.045 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Route matched with {action = "SaveDay", controller = "UserDayDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] SaveDay(System.Collections.Generic.List`1[CateringPro.Models.UserDayDish]) on controller CateringPro.Controllers.UserDayDishesController (CateringPro).
2019-09-20 16:08:38.048 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2019-09-20 16:08:38.095 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executing action method CateringPro.Controllers.UserDayDishesController.SaveDay (CateringPro) - Validation state: Valid
2019-09-20 16:08:41.643 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 2.2.6-servicing-10079 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-09-20 16:08:41.660 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450), @__get_Item_1='?' (DbType = Date), @__get_Item_2='?' (DbType = Int32), @__get_Item_3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[UserId], [e].[Date], [e].[DishId], [e].[CompanyId], [e].[Quantity]
FROM [UserDayDish] AS [e]
WHERE ((([e].[UserId] = @__get_Item_0) AND ([e].[Date] = @__get_Item_1)) AND ([e].[DishId] = @__get_Item_2)) AND ([e].[CompanyId] = @__get_Item_3)
2019-09-20 16:08:55.092 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (21ms) [Parameters=[@p1='?' (Size = 450), @p2='?' (DbType = Date), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserDayDish] SET [Quantity] = @p0
WHERE [UserId] = @p1 AND [Date] = @p2 AND [DishId] = @p3 AND [CompanyId] = @p4;
SELECT @@ROWCOUNT;
2019-09-20 16:08:55.111 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action method CateringPro.Controllers.UserDayDishesController.SaveDay (CateringPro), returned result Microsoft.AspNetCore.Mvc.JsonResult in 17014.364ms.
2019-09-20 16:08:55.120 +03:00 [Information] Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor: Executing JsonResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-09-20 16:08:55.223 +03:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker: Executed action CateringPro.Controllers.UserDayDishesController.SaveDay (CateringPro) in 17175.8711ms
2019-09-20 16:08:55.232 +03:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost: Request finished in 17225.2804ms 200 application/json; charset=utf-8
