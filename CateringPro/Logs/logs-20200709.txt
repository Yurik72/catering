2020-07-09 10:47:19.549 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 10:47:19.554 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:47:19.739 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 10:47:19.740 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:47:19.744 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 10:47:19.746 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 10:47:19,1
2020-07-09 10:47:19.754 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 10:47:19.770 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 10:47:20.011 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (242ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 10:47:20.012 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 10:47:20,2
2020-07-09 10:47:20.021 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 10:47:20.135 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (103ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-09 10:47:20.206 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-09 10:47:20.221 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-09 10:47:20.226 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 10:48:34.387 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:48:34.713 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-09 10:48:34.750 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-09 10:48:34.767 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-09 10:48:34.922 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-09 10:48:35.084 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 10:48:35.087 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:48:35.115 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-09 10:48:35.115 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-09 10:48:35.116 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-09 10:48:35.132 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 10:48:35.132 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-09 10:48:35.146 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-09 10:48:35.147 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 10:48:35.151 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 10:48:35.163 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 10:48:35,1
2020-07-09 10:48:35.187 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:48:35.200 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:48:35.200 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:48:35.203 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 10:48:35.256 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address1], [a].[Address2], [a].[City], [a].[CompanyId], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MenuType], [a].[NameSurname], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[ZipCode]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2020-07-09 10:48:35.256 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address1], [a].[Address2], [a].[City], [a].[CompanyId], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MenuType], [a].[NameSurname], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[ZipCode]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2020-07-09 10:48:35.278 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (104ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 10:48:35.281 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 10:48:35,2
2020-07-09 10:48:35.285 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 10:48:35.296 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 10:48:35.300 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 10:48:35.342 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2020-07-09 10:48:35.342 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2020-07-09 10:48:35.378 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2020-07-09 10:48:35.378 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2020-07-09 10:48:35.388 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2020-07-09 10:48:35.388 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2020-07-09 10:48:35.400 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2020-07-09 10:48:35.400 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2020-07-09 10:48:35.408 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-09 10:48:35.411 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:48:35.411 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 10:48:35.427 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:48:35.432 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-09 10:48:35.436 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 10:48:35.449 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 10:48:35.459 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 10:48:35.599 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 135.7896ms.
2020-07-09 10:48:35.599 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 150.5207ms.
2020-07-09 10:48:35.600 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 167.8516ms
2020-07-09 10:48:35.600 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-09 10:48:35.601 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 174.5042ms
2020-07-09 10:48:35.602 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 10:48:35.608 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 476.8261ms 200 text/html; charset=utf-8
2020-07-09 10:48:35.608 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 476.8303ms 200 text/html; charset=utf-8
2020-07-09 10:48:35.654 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css  
2020-07-09 10:48:35.669 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/bootstrap.min.css was not modified
2020-07-09 10:48:35.669 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap-duallistbox.css  
2020-07-09 10:48:35.670 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/bootstrap-duallistbox.css was not modified
2020-07-09 10:48:35.670 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css  
2020-07-09 10:48:35.670 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/carousel.css  
2020-07-09 10:48:35.670 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /lib/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css was not modified
2020-07-09 10:48:35.670 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/carousel.css was not modified
2020-07-09 10:48:35.670 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/site.css  
2020-07-09 10:48:35.670 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/site.css was not modified
2020-07-09 10:48:35.671 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.8312ms 304 text/css
2020-07-09 10:48:35.672 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.8965ms 304 text/css
2020-07-09 10:48:35.672 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.7303ms 304 text/css
2020-07-09 10:48:35.672 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 18.0436ms 304 text/css
2020-07-09 10:48:35.672 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 2.2489ms 304 text/css
2020-07-09 10:48:35.674 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/font-awesome/css/font-awesome.css  
2020-07-09 10:48:35.674 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /lib/font-awesome/css/font-awesome.css was not modified
2020-07-09 10:48:35.675 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.9234ms 304 text/css
2020-07-09 10:48:35.677 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/jquery-ui.css  
2020-07-09 10:48:35.677 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/jquery-ui.js  
2020-07-09 10:48:35.677 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/jquery-ui.css was not modified
2020-07-09 10:48:35.677 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/jquery-ui.js was not modified
2020-07-09 10:48:35.677 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/jquery.min.js  
2020-07-09 10:48:35.677 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.3287ms 304 text/css
2020-07-09 10:48:35.677 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.311ms 304 application/javascript
2020-07-09 10:48:35.677 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/jquery.min.js was not modified
2020-07-09 10:48:35.677 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.2603ms 304 application/javascript
2020-07-09 10:48:35.679 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js  
2020-07-09 10:48:35.679 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/bootstrap.min.js was not modified
2020-07-09 10:48:35.680 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.7738ms 304 application/javascript
2020-07-09 10:48:35.681 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/jquery.bootstrap-duallistbox.js  
2020-07-09 10:48:35.682 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/jquery.bootstrap-duallistbox.js was not modified
2020-07-09 10:48:35.682 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.1754ms 304 application/javascript
2020-07-09 10:48:35.689 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/site.js?v=WvUmlE8e_VDlPeR0g6h9Y5zTmjvT0eIH_AR_uNfWDd4  
2020-07-09 10:48:35.689 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/site.js was not modified
2020-07-09 10:48:35.690 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.4107ms 304 application/javascript
2020-07-09 10:48:35.839 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/lib/font-awesome/fonts/fontawesome-webfont.woff2?v=4.3.0  
2020-07-09 10:48:35.840 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /lib/font-awesome/fonts/fontawesome-webfont.woff2 was not modified
2020-07-09 10:48:35.840 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.7522ms 304 font/woff2
2020-07-09 10:48:35.890 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594280915729  
2020-07-09 10:48:35.906 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 10:48:35.907 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 10:48:35.937 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/slide10.jpg  
2020-07-09 10:48:35.938 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/slide10.jpg was not modified
2020-07-09 10:48:35.938 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.0115ms 304 image/jpeg
2020-07-09 10:48:35.939 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 32.6462ms 404 
2020-07-09 10:48:35.939 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:48:35.941 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 10:48:35.945 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 10:48:35.950 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 5.2591ms 404 
2020-07-09 10:48:35.961 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/slide11.jpg  
2020-07-09 10:48:35.961 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/slide11.jpg was not modified
2020-07-09 10:48:35.961 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.5703ms 304 image/jpeg
2020-07-09 10:48:35.961 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 10:48:35.962 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 55.1808ms 200 image/x-icon
2020-07-09 10:48:35.964 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:48:35.981 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/slide12.jpg  
2020-07-09 10:48:35.982 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/slide12.jpg was not modified
2020-07-09 10:48:35.982 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.4825ms 304 image/jpeg
2020-07-09 10:48:35.982 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:48:35.987 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 10:48:35.991 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 10:48:36.038 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/circle1.jpg  
2020-07-09 10:48:36.038 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/circle1.jpg was not modified
2020-07-09 10:48:36.038 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/circle2.jpg  
2020-07-09 10:48:36.039 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.3562ms 304 image/jpeg
2020-07-09 10:48:36.039 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/circle2.jpg was not modified
2020-07-09 10:48:36.039 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.5134ms 304 image/jpeg
2020-07-09 10:48:36.039 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/circle3.jpg  
2020-07-09 10:48:36.039 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/circle3.jpg was not modified
2020-07-09 10:48:36.039 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.3663ms 304 image/jpeg
2020-07-09 10:48:36.047 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/pict1_500x500.jpg  
2020-07-09 10:48:36.048 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/pict1_500x500.jpg was not modified
2020-07-09 10:48:36.048 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.6443ms 304 image/jpeg
2020-07-09 10:48:36.050 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/pict2_500x500.jpg  
2020-07-09 10:48:36.050 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/images/pict3_500x500.jpg  
2020-07-09 10:48:36.051 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/pict2_500x500.jpg was not modified
2020-07-09 10:48:36.051 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /images/pict3_500x500.jpg was not modified
2020-07-09 10:48:36.051 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.7412ms 304 image/jpeg
2020-07-09 10:48:36.051 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.7341ms 304 image/jpeg
2020-07-09 10:48:36.075 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 84.8942ms.
2020-07-09 10:48:36.075 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 111.1504ms
2020-07-09 10:48:36.075 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 10:48:36.075 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 188.4238ms 200 text/html; charset=utf-8
2020-07-09 10:48:37.306 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594280915730  
2020-07-09 10:48:37.310 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:48:37.310 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 10:48:37.314 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:48:37.318 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:48:37.368 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 10:48:37.408 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 10:48:37.449 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 40.7648ms.
2020-07-09 10:48:37.449 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 134.5988ms
2020-07-09 10:48:37.449 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 10:48:37.449 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 143.3135ms 200 text/html; charset=utf-8
2020-07-09 10:48:37.456 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 10:48:37.456 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 10:48:37.456 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 10:48:37.456 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:48:37.456 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:48:37.456 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:48:37.461 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:48:37.461 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:48:37.461 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:48:37.468 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594280915731  
2020-07-09 10:48:37.470 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:48:37.470 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 10:48:37.567 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:48:37.569 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 10:48:37.571 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.3988ms.
2020-07-09 10:48:37.571 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 3.1858ms
2020-07-09 10:48:37.571 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 10:48:37.571 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 102.6086ms 200 text/html; charset=utf-8
2020-07-09 10:48:37.861 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:48:37.861 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:48:37.861 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:48:37.875 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:48:37.875 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:48:37.905 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:48:37.908 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 446.4872ms
2020-07-09 10:48:37.908 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:48:37.908 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 452.3253ms 200 image/jpeg
2020-07-09 10:48:37.918 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:48:37.946 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 485.2851ms
2020-07-09 10:48:37.946 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:48:37.947 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 491.1007ms 200 image/jpeg
2020-07-09 10:48:38.206 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:48:38.207 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 745.5221ms
2020-07-09 10:48:38.207 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:48:38.207 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 751.0494ms 200 image/jpeg
2020-07-09 10:48:38.666 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=0&_=1594280915732  
2020-07-09 10:48:38.671 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 10:48:38.680 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 10:48:38.686 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:48:38.722 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 10:48:38.756 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 10:48:38.841 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 85.0424ms.
2020-07-09 10:48:38.841 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 160.378ms
2020-07-09 10:48:38.841 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 10:48:38.841 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 174.8191ms 200 text/html; charset=utf-8
2020-07-09 10:48:38.849 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-09 10:48:38.849 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-09 10:48:38.849 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-09 10:48:38.853 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:48:38.853 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:48:38.853 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:48:38.853 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:48:38.853 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:48:38.853 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:48:38.855 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:48:38.855 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:48:38.855 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:48:38.857 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:48:38.857 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:48:38.858 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:48:38.858 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 4.6792ms
2020-07-09 10:48:38.858 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:48:38.858 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.4751ms 200 image/jpeg
2020-07-09 10:48:38.880 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:48:38.885 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 31.8666ms
2020-07-09 10:48:38.885 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:48:38.885 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 36.7445ms 200 image/jpeg
2020-07-09 10:48:39.002 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:48:39.003 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 149.1986ms
2020-07-09 10:48:39.003 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:48:39.003 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 154.0272ms 200 image/jpeg
2020-07-09 10:49:15.480 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:15.758 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (32ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-09 10:49:15.799 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-09 10:49:15.829 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-09 10:49:16.001 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-09 10:49:16.114 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 10:49:16.116 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:16.153 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-09 10:49:16.154 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-09 10:49:16.154 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-09 10:49:16.169 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-09 10:49:16.175 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 10:49:16.178 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 10:49:16.180 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-09 10:49:16.192 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 10:49:16,1
2020-07-09 10:49:16.212 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:16.227 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 10:49:16.230 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-09 10:49:16.259 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (54ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 10:49:16.261 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-09 10:49:16.261 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 10:49:16,2
2020-07-09 10:49:16.264 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 10:49:16.278 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 10:49:16.345 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 10:49:16.365 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 10:49:16.427 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 150.3423ms.
2020-07-09 10:49:16.428 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 166.5576ms
2020-07-09 10:49:16.428 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-09 10:49:16.430 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 262.754ms 200 text/html; charset=utf-8
2020-07-09 10:49:17.173 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 10:49:17.186 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:49:17.187 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 10:49:17.194 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:49:17.197 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:17.205 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 10:49:17.227 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 10:49:17.240 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 13.6264ms.
2020-07-09 10:49:17.241 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 46.3794ms
2020-07-09 10:49:17.241 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 10:49:17.245 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 72.8221ms 200 text/html; charset=utf-8
2020-07-09 10:49:17.421 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594280957313  
2020-07-09 10:49:17.434 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 10:49:17.443 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 10:49:17.448 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 10:49:17.458 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:49:17.459 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 10:49:17.459 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 25.4581ms 404 
2020-07-09 10:49:17.459 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 11.1877ms 404 
2020-07-09 10:49:17.459 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 10:49:17.460 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 16.9117ms 200 image/x-icon
2020-07-09 10:49:17.471 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:49:17.478 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:17.480 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 10:49:17.483 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 10:49:17.553 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 71.2381ms.
2020-07-09 10:49:17.553 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 82.5353ms
2020-07-09 10:49:17.553 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 10:49:17.554 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 132.745ms 200 text/html; charset=utf-8
2020-07-09 10:49:18.731 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594280957314  
2020-07-09 10:49:18.742 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:49:18.743 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 10:49:18.751 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:49:18.755 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:18.821 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 10:49:18.863 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 10:49:18.900 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 37.2712ms.
2020-07-09 10:49:18.900 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 148.8539ms
2020-07-09 10:49:18.900 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 10:49:18.900 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 169.0002ms 200 text/html; charset=utf-8
2020-07-09 10:49:18.906 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 10:49:18.906 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 10:49:18.906 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 10:49:18.907 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:18.907 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:18.907 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:18.912 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:49:18.912 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:49:18.912 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:49:18.919 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:18.919 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:18.919 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:18.920 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594280957315  
2020-07-09 10:49:18.923 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:49:18.923 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 10:49:18.930 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:49:18.931 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 10:49:18.932 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.193ms.
2020-07-09 10:49:18.932 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:49:18.932 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:49:18.932 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 2.6958ms
2020-07-09 10:49:18.932 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 10:49:18.932 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.5583ms 200 text/html; charset=utf-8
2020-07-09 10:49:18.957 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:49:18.959 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 47.667ms
2020-07-09 10:49:18.959 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:18.960 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 53.3464ms 200 image/jpeg
2020-07-09 10:49:18.966 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:49:18.980 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 67.8689ms
2020-07-09 10:49:18.980 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:18.980 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 73.4083ms 200 image/jpeg
2020-07-09 10:49:19.276 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:49:19.276 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 364.6817ms
2020-07-09 10:49:19.276 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:19.277 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 370.3398ms 200 image/jpeg
2020-07-09 10:49:20.329 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=0&_=1594280957316  
2020-07-09 10:49:20.334 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 10:49:20.341 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 10:49:20.345 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:20.374 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 10:49:20.409 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 10:49:20.488 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 79.2577ms.
2020-07-09 10:49:20.488 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 146.2453ms
2020-07-09 10:49:20.488 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 10:49:20.488 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 159.4926ms 200 text/html; charset=utf-8
2020-07-09 10:49:20.498 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-09 10:49:20.498 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-09 10:49:20.498 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-09 10:49:20.502 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:20.502 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:20.502 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:20.502 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:49:20.502 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:49:20.502 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:49:20.502 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:20.502 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:20.502 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:20.505 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:49:20.505 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:49:20.506 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:49:20.506 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 3.8744ms
2020-07-09 10:49:20.506 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:20.506 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 8.4085ms 200 image/jpeg
2020-07-09 10:49:20.534 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:49:20.536 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 34.2196ms
2020-07-09 10:49:20.536 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:20.536 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 38.8021ms 200 image/jpeg
2020-07-09 10:49:20.655 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:49:20.655 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 153.5121ms
2020-07-09 10:49:20.655 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:20.656 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 157.9796ms 200 image/jpeg
2020-07-09 10:49:50.277 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:50.533 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-09 10:49:50.579 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-09 10:49:50.601 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-09 10:49:50.782 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-09 10:49:50.897 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 10:49:50.900 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:50.947 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-09 10:49:50.947 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-09 10:49:50.947 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-09 10:49:50.960 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 10:49:50.963 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 10:49:50.965 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 10:49:50.977 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-09 10:49:50.981 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 10:49:50,1
2020-07-09 10:49:51.000 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:51.018 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 10:49:51.044 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:49:51.046 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 10:49:51.072 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:49:51.077 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:51.106 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (113ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 10:49:51.109 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 10:49:51,2
2020-07-09 10:49:51.114 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 10:49:51.129 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 10:49:51.137 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 10:49:51.145 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 10:49:51.159 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 10:49:51.312 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 154.821ms.
2020-07-09 10:49:51.317 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 244.8764ms
2020-07-09 10:49:51.318 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 10:49:51.328 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 363.6822ms 200 text/html; charset=utf-8
2020-07-09 10:49:51.543 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594280991412  
2020-07-09 10:49:51.555 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:49:51.553 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 10:49:51.558 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 10:49:51.559 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 10:49:51.571 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 10:49:51.573 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14.156ms 200 image/x-icon
2020-07-09 10:49:51.580 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 26.729ms 404 
2020-07-09 10:49:51.584 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:49:51.587 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 10:49:51.588 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.3638ms 404 
2020-07-09 10:49:51.612 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:51.613 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 10:49:51.616 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 10:49:51.719 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 104.1655ms.
2020-07-09 10:49:51.719 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 134.7776ms
2020-07-09 10:49:51.719 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 10:49:51.720 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 176.5712ms 200 text/html; charset=utf-8
2020-07-09 10:49:53.674 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594280991413  
2020-07-09 10:49:53.678 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:49:53.678 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 10:49:53.684 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:49:53.688 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:53.760 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 10:49:53.801 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 10:49:53.850 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 49.3574ms.
2020-07-09 10:49:53.850 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 166.4461ms
2020-07-09 10:49:53.850 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 10:49:53.851 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 177.1365ms 200 text/html; charset=utf-8
2020-07-09 10:49:53.859 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 10:49:53.859 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 10:49:53.859 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 10:49:53.859 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:53.859 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:53.859 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:53.864 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:49:53.864 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:49:53.864 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:49:53.873 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:53.873 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:53.873 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:53.873 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594280991414  
2020-07-09 10:49:53.874 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:49:53.874 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 10:49:53.879 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:49:53.880 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 10:49:53.881 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 0.9613ms.
2020-07-09 10:49:53.881 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 2.3319ms
2020-07-09 10:49:53.881 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 10:49:53.881 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 8.0262ms 200 text/html; charset=utf-8
2020-07-09 10:49:53.892 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:49:53.892 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:49:53.918 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:49:53.920 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:49:53.920 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 55.6498ms
2020-07-09 10:49:53.920 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:53.920 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 61.5276ms 200 image/jpeg
2020-07-09 10:49:53.935 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 70.3514ms
2020-07-09 10:49:53.935 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:53.935 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 76.2728ms 200 image/jpeg
2020-07-09 10:49:54.250 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:49:54.250 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 385.7922ms
2020-07-09 10:49:54.250 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:54.250 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 391.5662ms 200 image/jpeg
2020-07-09 10:49:55.182 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=0&_=1594280991415  
2020-07-09 10:49:55.186 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 10:49:55.201 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 10:49:55.208 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:55.268 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 10:49:55.311 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 10:49:55.409 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 98.1041ms.
2020-07-09 10:49:55.409 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 207.9124ms
2020-07-09 10:49:55.409 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 10:49:55.410 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 228.03ms 200 text/html; charset=utf-8
2020-07-09 10:49:55.419 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-09 10:49:55.419 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-09 10:49:55.419 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-09 10:49:55.423 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:55.423 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:55.423 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:55.423 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:49:55.423 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:49:55.423 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:49:55.424 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:55.424 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:55.424 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:55.429 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:49:55.429 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:49:55.430 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:49:55.430 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 6.3355ms
2020-07-09 10:49:55.430 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:55.430 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 11.0378ms 200 image/jpeg
2020-07-09 10:49:55.474 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:49:55.477 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 52.8723ms
2020-07-09 10:49:55.477 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:55.477 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 57.961ms 200 image/jpeg
2020-07-09 10:49:55.605 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:49:55.605 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 181.3085ms
2020-07-09 10:49:55.605 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:55.605 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 186.0469ms 200 image/jpeg
2020-07-09 10:49:56.565 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/Info/1?_=1594280991416  
2020-07-09 10:49:56.576 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 10:49:56.594 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Info", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Info(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 10:49:56.597 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:56.610 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
FROM [Dishes] AS [d]
WHERE [d].[Id] = @__id_0
2020-07-09 10:49:56.612 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view DishInLine.
2020-07-09 10:49:56.617 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view DishInLine executed in 5.7934ms.
2020-07-09 10:49:56.617 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.Info (CateringPro) in 22.9206ms
2020-07-09 10:49:56.617 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 10:49:56.618 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 52.9611ms 200 text/html; charset=utf-8
2020-07-09 10:49:56.625 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?PictureId=4&width=80&height=80  
2020-07-09 10:49:56.627 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:56.627 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:49:56.629 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:49:56.764 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:49:56.765 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 137.2642ms
2020-07-09 10:49:56.765 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:49:56.765 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 139.7243ms 200 image/jpeg
2020-07-09 10:50:39.368 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:50:39.679 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (32ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-09 10:50:39.729 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-09 10:50:39.751 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-09 10:50:40.060 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-09 10:50:40.243 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 10:50:40.247 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:50:40.328 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-09 10:50:40.328 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-09 10:50:40.328 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-09 10:50:40.349 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 10:50:40.354 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 10:50:40.354 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 10:50:40.374 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-09 10:50:40.379 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 10:50:40,1
2020-07-09 10:50:40.418 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:50:40.446 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 10:50:40.474 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:50:40.477 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 10:50:40.517 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:50:40.524 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:50:40.574 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (174ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 10:50:40.577 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 10:50:40,2
2020-07-09 10:50:40.586 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 10:50:40.589 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 10:50:40.615 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 10:50:40.627 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 10:50:40.637 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 10:50:40.864 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 229.0352ms.
2020-07-09 10:50:40.867 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 350.1026ms
2020-07-09 10:50:40.868 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 10:50:40.882 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 528.6916ms 200 text/html; charset=utf-8
2020-07-09 10:50:41.096 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 10:50:41.124 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 28.3754ms 404 
2020-07-09 10:50:41.239 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 10:50:41.252 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594281040997  
2020-07-09 10:50:41.256 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 10:50:41.275 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 35.1759ms 404 
2020-07-09 10:50:41.277 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:50:41.278 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 10:50:41.284 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 10:50:41.286 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 29.9018ms 200 image/x-icon
2020-07-09 10:50:41.311 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:50:41.337 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:50:41.342 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 10:50:41.346 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 10:50:41.477 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 131.8232ms.
2020-07-09 10:50:41.477 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 166.5359ms
2020-07-09 10:50:41.477 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 10:50:41.477 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 225.629ms 200 text/html; charset=utf-8
2020-07-09 10:50:43.708 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594281040998  
2020-07-09 10:50:43.714 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:50:43.715 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 10:50:43.720 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:50:43.726 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:50:43.813 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 10:50:43.867 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 10:50:43.914 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 47.6763ms.
2020-07-09 10:50:43.914 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 193.8864ms
2020-07-09 10:50:43.914 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 10:50:43.915 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 207.1379ms 200 text/html; charset=utf-8
2020-07-09 10:50:43.923 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 10:50:43.923 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 10:50:43.924 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:50:43.924 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:50:43.924 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 10:50:43.927 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:50:43.930 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:50:43.932 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:50:43.934 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:50:43.940 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594281040999  
2020-07-09 10:50:43.941 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:50:43.941 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:50:43.941 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:50:43.942 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:50:43.942 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 10:50:43.947 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:50:43.949 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 10:50:43.950 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.329ms.
2020-07-09 10:50:43.951 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 3.0323ms
2020-07-09 10:50:43.951 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 10:50:43.951 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.2741ms 200 text/html; charset=utf-8
2020-07-09 10:50:43.962 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:50:43.962 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:50:43.990 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:50:43.995 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 64.5358ms
2020-07-09 10:50:43.995 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:50:43.995 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 71.9549ms 200 image/jpeg
2020-07-09 10:50:44.001 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:50:44.016 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 83.7061ms
2020-07-09 10:50:44.016 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:50:44.016 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 92.2265ms 200 image/jpeg
2020-07-09 10:50:44.418 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:50:44.418 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 484.4677ms
2020-07-09 10:50:44.418 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:50:44.418 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 495.8076ms 200 image/jpeg
2020-07-09 10:50:45.725 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=0&_=1594281041000  
2020-07-09 10:50:45.730 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 10:50:45.741 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 10:50:45.746 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:50:45.798 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 10:50:45.843 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 10:50:45.953 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 111.2122ms.
2020-07-09 10:50:45.954 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 212.1882ms
2020-07-09 10:50:45.954 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 10:50:45.954 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 229.5413ms 200 text/html; charset=utf-8
2020-07-09 10:50:45.963 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-09 10:50:45.963 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-09 10:50:45.964 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-09 10:50:45.965 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:50:45.965 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:50:45.965 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:50:45.965 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:50:45.965 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:50:45.965 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:50:45.966 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:50:45.966 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:50:45.966 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:50:45.969 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:50:45.969 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:50:45.970 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:50:45.971 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 5.1682ms
2020-07-09 10:50:45.971 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:50:45.971 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 7.8367ms 200 image/jpeg
2020-07-09 10:50:45.994 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:50:46.001 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 35.315ms
2020-07-09 10:50:46.001 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:50:46.001 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 37.4792ms 200 image/jpeg
2020-07-09 10:50:46.150 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:50:46.150 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 184.9665ms
2020-07-09 10:50:46.150 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:50:46.151 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 186.526ms 200 image/jpeg
2020-07-09 10:50:47.264 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/Info/1?_=1594281041001  
2020-07-09 10:50:47.270 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 10:50:47.279 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Info", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Info(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 10:50:47.283 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:50:47.293 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
FROM [Dishes] AS [d]
WHERE [d].[Id] = @__id_0
2020-07-09 10:50:47.295 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view DishInLine.
2020-07-09 10:50:47.299 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view DishInLine executed in 4.7551ms.
2020-07-09 10:50:47.299 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.Info (CateringPro) in 20.2914ms
2020-07-09 10:50:47.299 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 10:50:47.299 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 35.245ms 200 text/html; charset=utf-8
2020-07-09 10:50:47.305 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?PictureId=4&width=80&height=80  
2020-07-09 10:50:47.306 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:50:47.306 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:50:47.307 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:50:47.427 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:50:47.428 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 121.3028ms
2020-07-09 10:50:47.428 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:50:47.428 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 122.7347ms 200 image/jpeg
2020-07-09 10:52:55.428 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:52:55.673 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-09 10:52:55.706 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-09 10:52:55.722 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-09 10:52:55.882 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-09 10:52:55.990 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 10:52:55.993 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:52:56.028 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-09 10:52:56.028 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-09 10:52:56.028 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-09 10:52:56.042 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 10:52:56.049 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 10:52:56.050 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 10:52:56.053 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-09 10:52:56.065 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 10:52:56,1
2020-07-09 10:52:56.083 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:52:56.098 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 10:52:56.112 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:52:56.114 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 10:52:56.135 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:52:56.140 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:52:56.177 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 10:52:56.177 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (101ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 10:52:56.179 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 10:52:56,2
2020-07-09 10:52:56.183 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 10:52:56.188 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 10:52:56.195 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 10:52:56.205 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 10:52:56.314 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 109.9977ms.
2020-07-09 10:52:56.317 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 181.1191ms
2020-07-09 10:52:56.317 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 10:52:56.325 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 283.9555ms 200 text/html; charset=utf-8
2020-07-09 10:52:56.455 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 10:52:56.471 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 16.107ms 404 
2020-07-09 10:52:56.505 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 10:52:56.517 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594281176395  
2020-07-09 10:52:56.525 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 10:52:56.528 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 23.1056ms 404 
2020-07-09 10:52:56.528 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:52:56.529 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 10:52:56.539 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 10:52:56.539 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14.4389ms 200 image/x-icon
2020-07-09 10:52:56.549 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:52:56.563 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:52:56.564 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 10:52:56.566 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 10:52:56.636 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 70.7653ms.
2020-07-09 10:52:56.636 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 87.4572ms
2020-07-09 10:52:56.636 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 10:52:56.636 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 119.3973ms 200 text/html; charset=utf-8
2020-07-09 10:52:59.691 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594281176396  
2020-07-09 10:52:59.695 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:52:59.695 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 10:52:59.699 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:52:59.702 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:52:59.799 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (33ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 10:52:59.855 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 10:52:59.904 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 49.4272ms.
2020-07-09 10:52:59.904 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 204.6507ms
2020-07-09 10:52:59.904 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 10:52:59.904 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 213.2662ms 200 text/html; charset=utf-8
2020-07-09 10:52:59.912 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 10:52:59.912 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 10:52:59.912 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 10:52:59.912 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:52:59.912 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:52:59.912 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:52:59.917 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:52:59.917 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:52:59.917 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:52:59.925 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594281176397  
2020-07-09 10:52:59.926 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:52:59.926 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:52:59.926 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:52:59.926 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:52:59.926 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 10:52:59.933 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:52:59.935 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 10:52:59.936 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.0235ms.
2020-07-09 10:52:59.936 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 2.3057ms
2020-07-09 10:52:59.936 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 10:52:59.936 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 11.0439ms 200 text/html; charset=utf-8
2020-07-09 10:52:59.942 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:52:59.942 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:52:59.965 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:52:59.967 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 49.3831ms
2020-07-09 10:52:59.967 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:52:59.967 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 55.1731ms 200 image/jpeg
2020-07-09 10:52:59.973 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:52:59.987 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 69.4269ms
2020-07-09 10:52:59.987 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:52:59.987 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 75.916ms 200 image/jpeg
2020-07-09 10:53:00.270 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:53:00.270 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 352.4774ms
2020-07-09 10:53:00.270 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:53:00.270 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 358.4748ms 200 image/jpeg
2020-07-09 10:53:00.805 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=0&_=1594281176398  
2020-07-09 10:53:00.810 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 10:53:00.815 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 10:53:00.818 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:53:00.854 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 10:53:00.888 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 10:53:00.974 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 86.7688ms.
2020-07-09 10:53:00.974 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 158.895ms
2020-07-09 10:53:00.975 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 10:53:00.975 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 169.7152ms 200 text/html; charset=utf-8
2020-07-09 10:53:00.985 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-09 10:53:00.985 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-09 10:53:00.985 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-09 10:53:00.988 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:53:00.988 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:53:00.988 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:53:00.988 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:53:00.988 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:53:00.988 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:53:00.989 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:53:00.989 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:53:00.989 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:53:00.991 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:53:00.992 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:53:00.992 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:53:00.993 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 4.4615ms
2020-07-09 10:53:00.993 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:53:00.994 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.0575ms 200 image/jpeg
2020-07-09 10:53:01.018 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:53:01.021 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 33.2194ms
2020-07-09 10:53:01.022 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:53:01.022 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 36.8716ms 200 image/jpeg
2020-07-09 10:53:01.146 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:53:01.146 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 157.6399ms
2020-07-09 10:53:01.146 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:53:01.146 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 161.2073ms 200 image/jpeg
2020-07-09 10:53:35.619 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:53:35.867 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-09 10:53:35.903 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-09 10:53:35.922 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-09 10:53:36.101 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-09 10:53:36.213 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 10:53:36.215 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:53:36.253 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-09 10:53:36.253 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-09 10:53:36.253 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-09 10:53:36.267 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 10:53:36.277 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-09 10:53:36.279 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 10:53:36.281 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 10:53:36.294 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 10:53:36,1
2020-07-09 10:53:36.318 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:53:36.346 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 10:53:36.353 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:53:36.356 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 10:53:36.377 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (70ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 10:53:36.381 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 10:53:36,2
2020-07-09 10:53:36.385 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 10:53:36.388 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:53:36.392 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:53:36.422 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 10:53:36.446 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 10:53:36.452 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 10:53:36.455 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 10:53:36.566 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 116.392ms.
2020-07-09 10:53:36.569 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 180.4754ms
2020-07-09 10:53:36.570 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 10:53:36.576 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 309.401ms 200 text/html; charset=utf-8
2020-07-09 10:53:36.755 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 10:53:36.769 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 13.7919ms 404 
2020-07-09 10:53:36.774 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594281216652  
2020-07-09 10:53:36.784 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 10:53:36.795 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:53:36.796 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 10:53:36.801 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 10:53:36.803 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 18.6497ms 200 image/x-icon
2020-07-09 10:53:36.808 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 10:53:36.809 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.2743ms 404 
2020-07-09 10:53:36.825 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:53:36.841 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:53:36.842 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 10:53:36.844 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 10:53:36.914 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 70.5176ms.
2020-07-09 10:53:36.914 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 89.3664ms
2020-07-09 10:53:36.914 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 10:53:36.914 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 140.1669ms 200 text/html; charset=utf-8
2020-07-09 10:53:38.633 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594281216653  
2020-07-09 10:53:38.640 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:53:38.640 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 10:53:38.649 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:53:38.652 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:53:38.718 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 10:53:38.765 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 10:53:38.801 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 37.0314ms.
2020-07-09 10:53:38.801 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 152.6409ms
2020-07-09 10:53:38.801 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 10:53:38.802 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 168.6116ms 200 text/html; charset=utf-8
2020-07-09 10:53:38.809 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 10:53:38.809 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 10:53:38.809 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 10:53:38.810 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:53:38.810 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:53:38.810 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:53:38.815 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:53:38.815 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:53:38.815 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:53:38.821 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594281216654  
2020-07-09 10:53:38.822 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:53:38.822 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:53:38.822 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:53:38.822 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:53:38.822 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 10:53:38.826 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:53:38.828 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 10:53:38.829 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.2993ms.
2020-07-09 10:53:38.829 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 3.0222ms
2020-07-09 10:53:38.829 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 10:53:38.830 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 8.4755ms 200 text/html; charset=utf-8
2020-07-09 10:53:38.839 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:53:38.839 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:53:38.894 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:53:38.900 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:53:38.900 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 85.5952ms
2020-07-09 10:53:38.900 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:53:38.900 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 91.3462ms 200 image/jpeg
2020-07-09 10:53:38.911 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 96.1913ms
2020-07-09 10:53:38.911 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:53:38.911 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 102.1971ms 200 image/jpeg
2020-07-09 10:53:39.227 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:53:39.227 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 412.4721ms
2020-07-09 10:53:39.227 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:53:39.227 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 418.2619ms 200 image/jpeg
2020-07-09 10:53:39.749 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=0&_=1594281216655  
2020-07-09 10:53:39.754 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 10:53:39.758 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 10:53:39.761 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:53:39.788 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 10:53:39.821 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 10:53:39.899 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 78.372ms.
2020-07-09 10:53:39.900 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 141.2725ms
2020-07-09 10:53:39.900 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 10:53:39.901 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 151.2607ms 200 text/html; charset=utf-8
2020-07-09 10:53:39.907 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-09 10:53:39.907 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-09 10:53:39.907 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-09 10:53:39.910 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:53:39.910 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:53:39.910 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:53:39.910 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:53:39.910 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:53:39.910 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:53:39.911 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:53:39.911 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:53:39.911 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:53:39.915 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:53:39.915 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:53:39.915 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:53:39.919 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 8.7683ms
2020-07-09 10:53:39.919 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:53:39.919 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.81ms 200 image/jpeg
2020-07-09 10:53:39.937 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:53:39.940 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 29.3158ms
2020-07-09 10:53:39.940 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:53:39.940 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 33.1868ms 200 image/jpeg
2020-07-09 10:53:40.065 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:53:40.065 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 154.6607ms
2020-07-09 10:53:40.065 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:53:40.065 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 158.6578ms 200 image/jpeg
2020-07-09 10:53:41.064 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/Info/1?_=1594281216656  
2020-07-09 10:53:41.069 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 10:53:41.078 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Info", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Info(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 10:53:41.082 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:53:41.093 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
FROM [Dishes] AS [d]
WHERE [d].[Id] = @__id_0
2020-07-09 10:53:41.096 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view DishInLine.
2020-07-09 10:53:41.101 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view DishInLine executed in 5.5138ms.
2020-07-09 10:53:41.101 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.Info (CateringPro) in 22.5481ms
2020-07-09 10:53:41.101 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 10:53:41.101 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 36.6007ms 200 text/html; charset=utf-8
2020-07-09 10:53:41.107 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?PictureId=4&width=80&height=80  
2020-07-09 10:53:41.108 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:53:41.108 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:53:41.109 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:53:41.245 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:53:41.245 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 136.4146ms
2020-07-09 10:53:41.245 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:53:41.245 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 137.9824ms 200 image/jpeg
2020-07-09 10:55:05.981 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:55:06.220 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-09 10:55:06.253 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-09 10:55:06.266 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-09 10:55:06.426 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-09 10:55:06.533 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 10:55:06.536 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:55:06.576 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-09 10:55:06.576 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-09 10:55:06.576 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-09 10:55:06.590 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 10:55:06.591 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 10:55:06.593 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 10:55:06.602 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-09 10:55:06.606 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 10:55:06,1
2020-07-09 10:55:06.628 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:55:06.642 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 10:55:06.665 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:55:06.667 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 10:55:06.688 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:55:06.692 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:55:06.729 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 10:55:06.732 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 10:55:06.740 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (123ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 10:55:06.741 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 10:55:06.742 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 10:55:06,2
2020-07-09 10:55:06.745 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 10:55:06.757 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 10:55:06.880 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 123.8123ms.
2020-07-09 10:55:06.883 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 194.8004ms
2020-07-09 10:55:06.884 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 10:55:06.890 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 301.7034ms 200 text/html; charset=utf-8
2020-07-09 10:55:07.011 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 10:55:07.023 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 11.6608ms 404 
2020-07-09 10:55:07.057 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 10:55:07.085 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 27.5281ms 404 
2020-07-09 10:55:07.102 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594281306961  
2020-07-09 10:55:07.104 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 10:55:07.106 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:55:07.107 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 10:55:07.114 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 10:55:07.114 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.9241ms 200 image/x-icon
2020-07-09 10:55:07.127 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:55:07.142 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:55:07.143 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 10:55:07.145 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 10:55:07.209 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 64.8603ms.
2020-07-09 10:55:07.210 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 82.3763ms
2020-07-09 10:55:07.210 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 10:55:07.210 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 107.7947ms 200 text/html; charset=utf-8
2020-07-09 10:55:10.696 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594281306962  
2020-07-09 10:55:10.703 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:55:10.703 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 10:55:10.708 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:55:10.712 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:55:10.780 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 10:55:10.821 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 10:55:10.857 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 36.1628ms.
2020-07-09 10:55:10.857 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 149.1881ms
2020-07-09 10:55:10.857 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 10:55:10.857 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 161.8222ms 200 text/html; charset=utf-8
2020-07-09 10:55:10.865 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 10:55:10.865 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 10:55:10.865 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 10:55:10.865 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:55:10.865 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:55:10.865 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:55:10.870 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:55:10.870 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:55:10.870 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:55:10.877 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594281306963  
2020-07-09 10:55:10.877 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:55:10.877 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:55:10.877 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:55:10.877 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:55:10.877 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 10:55:10.882 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:55:10.883 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 10:55:10.884 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.0031ms.
2020-07-09 10:55:10.884 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 2.331ms
2020-07-09 10:55:10.884 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 10:55:10.884 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 7.7007ms 200 text/html; charset=utf-8
2020-07-09 10:55:10.892 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:55:10.892 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:55:10.920 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:55:10.922 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 51.7517ms
2020-07-09 10:55:10.922 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:55:10.922 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 57.2678ms 200 image/jpeg
2020-07-09 10:55:10.926 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:55:10.938 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 68.1977ms
2020-07-09 10:55:10.938 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:55:10.938 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 73.6441ms 200 image/jpeg
2020-07-09 10:55:11.224 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:55:11.224 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 354.1266ms
2020-07-09 10:55:11.224 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:55:11.224 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 359.5357ms 200 image/jpeg
2020-07-09 10:55:12.026 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=0&_=1594281306964  
2020-07-09 10:55:12.030 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 10:55:12.037 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 10:55:12.040 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:55:12.075 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 10:55:12.109 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 10:55:12.188 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 79.3689ms.
2020-07-09 10:55:12.188 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 150.5996ms
2020-07-09 10:55:12.188 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 10:55:12.188 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 162.8456ms 200 text/html; charset=utf-8
2020-07-09 10:55:12.197 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-09 10:55:12.197 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-09 10:55:12.197 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-09 10:55:12.201 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:55:12.201 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:55:12.201 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:55:12.201 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:55:12.201 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:55:12.201 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:55:12.201 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:55:12.201 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:55:12.201 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:55:12.204 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:55:12.204 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:55:12.205 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:55:12.205 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 3.9586ms
2020-07-09 10:55:12.205 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:55:12.205 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 8.2241ms 200 image/jpeg
2020-07-09 10:55:12.233 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:55:12.239 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 37.8012ms
2020-07-09 10:55:12.239 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:55:12.239 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 41.9697ms 200 image/jpeg
2020-07-09 10:55:12.351 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:55:12.352 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 150.5184ms
2020-07-09 10:55:12.352 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:55:12.352 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 154.5894ms 200 image/jpeg
2020-07-09 10:55:13.388 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/Info/1?_=1594281306965  
2020-07-09 10:55:13.392 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 10:55:13.408 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Info", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Info(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 10:55:13.413 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:55:13.426 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
FROM [Dishes] AS [d]
WHERE [d].[Id] = @__id_0
2020-07-09 10:55:13.429 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view DishInLine.
2020-07-09 10:55:13.436 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view DishInLine executed in 7.8125ms.
2020-07-09 10:55:13.436 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.Info (CateringPro) in 27.4229ms
2020-07-09 10:55:13.436 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 10:55:13.436 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 48.8978ms 200 text/html; charset=utf-8
2020-07-09 10:55:13.442 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?PictureId=4&width=80&height=80  
2020-07-09 10:55:13.444 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:55:13.445 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:55:13.446 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:55:13.572 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:55:13.572 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 127.5965ms
2020-07-09 10:55:13.572 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:55:13.573 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 130.3518ms 200 image/jpeg
2020-07-09 10:56:13.846 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/Info/1?_=1594281306966  
2020-07-09 10:56:13.847 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 10:56:13.847 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Info", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Info(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 10:56:13.849 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:56:13.852 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
FROM [Dishes] AS [d]
WHERE [d].[Id] = @__id_0
2020-07-09 10:56:13.853 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view DishInLine.
2020-07-09 10:56:13.854 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view DishInLine executed in 0.9626ms.
2020-07-09 10:56:13.854 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.Info (CateringPro) in 6.4498ms
2020-07-09 10:56:13.854 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 10:56:13.854 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 8.7235ms 200 text/html; charset=utf-8
2020-07-09 10:57:18.940 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?PictureId=4&width=80&height=80  
2020-07-09 10:57:18.942 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:57:18.942 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:57:18.945 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:57:18.982 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:57:18.983 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 40.3989ms
2020-07-09 10:57:18.983 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:57:18.983 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 43.5472ms 200 image/jpeg
2020-07-09 10:57:38.800 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:57:39.066 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-09 10:57:39.138 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (51ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-09 10:57:39.159 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-09 10:57:39.342 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-09 10:57:39.463 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 10:57:39.468 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:57:39.508 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-09 10:57:39.508 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-09 10:57:39.508 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-09 10:57:39.528 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-09 10:57:39.538 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 10:57:39.540 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 10:57:39.542 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-09 10:57:39.555 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 10:57:39,1
2020-07-09 10:57:39.579 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:57:39.598 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 10:57:39.605 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-09 10:57:39.632 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-09 10:57:39.652 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 10:57:39.673 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (104ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 10:57:39.676 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 10:57:39,2
2020-07-09 10:57:39.678 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 10:57:39.744 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 10:57:39.752 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 10:57:39.834 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 186.0465ms.
2020-07-09 10:57:39.835 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 202.5799ms
2020-07-09 10:57:39.835 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-09 10:57:39.838 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 310.6279ms 200 text/html; charset=utf-8
2020-07-09 10:57:40.391 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 10:57:40.401 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:57:40.402 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 10:57:40.407 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:57:40.410 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:57:40.419 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 10:57:40.441 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 10:57:40.454 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 14.5042ms.
2020-07-09 10:57:40.455 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 48.3197ms
2020-07-09 10:57:40.456 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 10:57:40.459 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 68.8778ms 200 text/html; charset=utf-8
2020-07-09 10:57:40.588 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 10:57:40.619 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 31.2201ms 404 
2020-07-09 10:57:40.644 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 10:57:40.652 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 8.4107ms 404 
2020-07-09 10:57:40.661 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594281460524  
2020-07-09 10:57:40.667 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:57:40.669 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 10:57:40.678 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 10:57:40.687 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:57:40.696 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 10:57:40.697 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 18.8546ms 200 image/x-icon
2020-07-09 10:57:40.697 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:57:40.702 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 10:57:40.704 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 10:57:40.759 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 55.7157ms.
2020-07-09 10:57:40.759 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 72.2517ms
2020-07-09 10:57:40.759 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 10:57:40.760 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 98.2486ms 200 text/html; charset=utf-8
2020-07-09 10:57:41.902 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594281460525  
2020-07-09 10:57:41.907 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:57:41.907 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 10:57:41.913 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:57:41.918 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:57:41.986 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 10:57:42.032 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 10:57:42.070 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 38.5766ms.
2020-07-09 10:57:42.070 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 156.9602ms
2020-07-09 10:57:42.070 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 10:57:42.071 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 169.3636ms 200 text/html; charset=utf-8
2020-07-09 10:57:42.078 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 10:57:42.078 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 10:57:42.079 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 10:57:42.079 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:57:42.079 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:57:42.082 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:57:42.084 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:57:42.084 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:57:42.086 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:57:42.090 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:57:42.090 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:57:42.090 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:57:42.093 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594281460526  
2020-07-09 10:57:42.094 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:57:42.094 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 10:57:42.102 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:57:42.104 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 10:57:42.105 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 0.9165ms.
2020-07-09 10:57:42.105 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 2.2332ms
2020-07-09 10:57:42.105 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 10:57:42.105 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.2641ms 200 text/html; charset=utf-8
2020-07-09 10:57:42.108 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:57:42.108 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:57:42.163 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:57:42.170 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 85.7626ms
2020-07-09 10:57:42.170 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:57:42.170 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 91.747ms 200 image/jpeg
2020-07-09 10:57:42.170 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:57:42.184 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 97.5636ms
2020-07-09 10:57:42.184 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:57:42.184 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 104.8668ms 200 image/jpeg
2020-07-09 10:57:42.469 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:57:42.469 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 385.1979ms
2020-07-09 10:57:42.469 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:57:42.469 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 390.846ms 200 image/jpeg
2020-07-09 10:57:43.186 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=0&_=1594281460527  
2020-07-09 10:57:43.194 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 10:57:43.206 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 10:57:43.209 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:57:43.245 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 10:57:43.283 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 10:57:43.362 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 80.9867ms.
2020-07-09 10:57:43.362 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 156.3867ms
2020-07-09 10:57:43.362 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 10:57:43.363 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 177.171ms 200 text/html; charset=utf-8
2020-07-09 10:57:43.372 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-09 10:57:43.372 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-09 10:57:43.372 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-09 10:57:43.374 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:57:43.374 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:57:43.374 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:57:43.374 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:57:43.374 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:57:43.374 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:57:43.375 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:57:43.375 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:57:43.375 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:57:43.378 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:57:43.379 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:57:43.379 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:57:43.380 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 5.2492ms
2020-07-09 10:57:43.380 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:57:43.380 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 7.8371ms 200 image/jpeg
2020-07-09 10:57:43.405 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:57:43.407 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 32.2451ms
2020-07-09 10:57:43.407 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:57:43.407 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 34.6967ms 200 image/jpeg
2020-07-09 10:57:43.531 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:57:43.531 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 157.0757ms
2020-07-09 10:57:43.531 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:57:43.532 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 159.5444ms 200 image/jpeg
2020-07-09 10:57:44.384 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/Info/1?_=1594281460528  
2020-07-09 10:57:44.388 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 10:57:44.393 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Info", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Info(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 10:57:44.396 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:57:44.406 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
FROM [Dishes] AS [d]
WHERE [d].[Id] = @__id_0
2020-07-09 10:57:44.407 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view DishInLine.
2020-07-09 10:57:44.411 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view DishInLine executed in 4.1569ms.
2020-07-09 10:57:44.411 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.Info (CateringPro) in 17.5313ms
2020-07-09 10:57:44.411 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 10:57:44.411 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 27.1268ms 200 text/html; charset=utf-8
2020-07-09 10:57:44.422 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?PictureId=4&width=80&height=80  
2020-07-09 10:57:44.423 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:57:44.423 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:57:44.423 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:57:44.555 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:57:44.555 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 132.141ms
2020-07-09 10:57:44.555 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:57:44.555 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 133.0177ms 200 image/jpeg
2020-07-09 10:58:31.083 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:58:31.319 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-09 10:58:31.352 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-09 10:58:31.368 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-09 10:58:31.527 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-09 10:58:31.637 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 10:58:31.640 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:58:31.682 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-09 10:58:31.682 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-09 10:58:31.682 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-09 10:58:31.696 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 10:58:31.701 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 10:58:31.704 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 10:58:31.707 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-09 10:58:31.724 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 10:58:31,1
2020-07-09 10:58:31.746 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:58:31.763 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 10:58:31.773 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:58:31.775 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 10:58:31.796 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:58:31.801 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:58:31.828 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (90ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 10:58:31.831 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 10:58:31,2
2020-07-09 10:58:31.831 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 10:58:31.837 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 10:58:31.851 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 10:58:31.858 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 10:58:31.861 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 10:58:31.976 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 117.046ms.
2020-07-09 10:58:31.978 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 182.1465ms
2020-07-09 10:58:31.979 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 10:58:31.986 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 290.1203ms 200 text/html; charset=utf-8
2020-07-09 10:58:32.105 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 10:58:32.115 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.7024ms 404 
2020-07-09 10:58:32.151 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 10:58:32.167 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594281512058  
2020-07-09 10:58:32.175 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 10:58:32.175 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 24.0279ms 404 
2020-07-09 10:58:32.176 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:58:32.177 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 10:58:32.193 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 10:58:32.194 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 18.9554ms 200 image/x-icon
2020-07-09 10:58:32.198 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:58:32.210 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:58:32.211 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 10:58:32.213 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 10:58:32.268 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 55.1146ms.
2020-07-09 10:58:32.268 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 69.3252ms
2020-07-09 10:58:32.268 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 10:58:32.268 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 101.0174ms 200 text/html; charset=utf-8
2020-07-09 10:58:34.026 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594281512059  
2020-07-09 10:58:34.030 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:58:34.030 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 10:58:34.034 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:58:34.037 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:58:34.106 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 10:58:34.147 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 10:58:34.184 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 37.0986ms.
2020-07-09 10:58:34.184 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 150.154ms
2020-07-09 10:58:34.184 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 10:58:34.184 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 158.6726ms 200 text/html; charset=utf-8
2020-07-09 10:58:34.191 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 10:58:34.191 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 10:58:34.192 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:58:34.192 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 10:58:34.192 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:58:34.195 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:58:34.197 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:58:34.197 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:58:34.199 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:58:34.204 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:58:34.204 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:58:34.204 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:58:34.206 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594281512060  
2020-07-09 10:58:34.206 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 10:58:34.207 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 10:58:34.210 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 10:58:34.211 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 10:58:34.212 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.1554ms.
2020-07-09 10:58:34.212 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 2.2635ms
2020-07-09 10:58:34.212 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 10:58:34.213 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 6.9092ms 200 text/html; charset=utf-8
2020-07-09 10:58:34.223 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:58:34.223 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:58:34.250 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:58:34.253 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 55.8288ms
2020-07-09 10:58:34.253 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:58:34.253 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 62.003ms 200 image/jpeg
2020-07-09 10:58:34.255 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:58:34.266 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 66.8493ms
2020-07-09 10:58:34.266 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:58:34.266 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 74.2896ms 200 image/jpeg
2020-07-09 10:58:34.558 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:58:34.558 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 361.0749ms
2020-07-09 10:58:34.558 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:58:34.558 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 367.0889ms 200 image/jpeg
2020-07-09 10:58:35.280 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=0&_=1594281512061  
2020-07-09 10:58:35.286 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 10:58:35.293 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 10:58:35.298 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:58:35.334 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 10:58:35.368 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 10:58:35.446 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 78.7926ms.
2020-07-09 10:58:35.446 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 152.9082ms
2020-07-09 10:58:35.446 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 10:58:35.447 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 166.5721ms 200 text/html; charset=utf-8
2020-07-09 10:58:35.455 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-09 10:58:35.455 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-09 10:58:35.457 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-09 10:58:35.459 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:58:35.459 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:58:35.459 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:58:35.459 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:58:35.460 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:58:35.459 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:58:35.460 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:58:35.460 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:58:35.460 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:58:35.465 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:58:35.465 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 10:58:35.466 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:58:35.466 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 6.5467ms
2020-07-09 10:58:35.466 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:58:35.467 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 11.5103ms 200 image/jpeg
2020-07-09 10:58:35.488 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:58:35.492 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 32.5652ms
2020-07-09 10:58:35.492 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:58:35.492 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 37.2593ms 200 image/jpeg
2020-07-09 10:58:35.625 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:58:35.625 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 165.8079ms
2020-07-09 10:58:35.625 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:58:35.626 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 168.8108ms 200 image/jpeg
2020-07-09 10:58:36.537 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/Info/1?_=1594281512062  
2020-07-09 10:58:36.542 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 10:58:36.550 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Info", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Info(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 10:58:36.554 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:58:36.564 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
FROM [Dishes] AS [d]
WHERE [d].[Id] = @__id_0
2020-07-09 10:58:36.566 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view DishInLine.
2020-07-09 10:58:36.570 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view DishInLine executed in 4.5839ms.
2020-07-09 10:58:36.570 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.Info (CateringPro) in 19.3468ms
2020-07-09 10:58:36.570 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 10:58:36.570 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 32.6051ms 200 text/html; charset=utf-8
2020-07-09 10:58:36.576 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?PictureId=4&width=80&height=80  
2020-07-09 10:58:36.577 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:58:36.578 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 10:58:36.578 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 10:58:36.702 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 10:58:36.702 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 124.5239ms
2020-07-09 10:58:36.702 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 10:58:36.702 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 126.3058ms 200 image/jpeg
2020-07-09 11:00:31.763 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:00:31.769 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:00:31.774 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:00:31.776 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:00:31.778 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:00:31.778 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:00:31.781 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:00:31,1
2020-07-09 11:00:31.786 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:00:31.860 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (69ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:00:31.860 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:00:31,2
2020-07-09 11:00:31.863 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:00:31.898 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-09 11:00:31.919 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:00:58.816 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:00:59.056 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-09 11:00:59.087 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-09 11:00:59.103 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-09 11:00:59.267 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-09 11:00:59.373 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:00:59.376 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:00:59.424 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-09 11:00:59.424 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-09 11:00:59.424 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-09 11:00:59.438 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 11:00:59.442 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:00:59.446 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:00:59.450 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-09 11:00:59.461 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:00:59,1
2020-07-09 11:00:59.481 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:00:59.495 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:00:59.507 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:00:59.508 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 11:00:59.524 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (50ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:00:59.526 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:00:59,2
2020-07-09 11:00:59.528 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:00:59.530 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:00:59.533 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:00:59.561 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 11:00:59.577 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:00:59.584 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:00:59.588 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 11:00:59.700 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 111.9913ms.
2020-07-09 11:00:59.702 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 173.9078ms
2020-07-09 11:00:59.703 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 11:00:59.710 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 271.9067ms 200 text/html; charset=utf-8
2020-07-09 11:00:59.891 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594281659805  
2020-07-09 11:00:59.900 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 11:00:59.902 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:00:59.902 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 11:00:59.911 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 11:00:59.913 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.8456ms 200 image/x-icon
2020-07-09 11:00:59.924 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:00:59.944 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:00:59.945 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 11:00:59.953 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 11:01:00.000 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 11:01:00.018 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 11:01:00.021 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 20.7527ms 404 
2020-07-09 11:01:00.021 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 3.1312ms 404 
2020-07-09 11:01:00.056 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 105.1615ms.
2020-07-09 11:01:00.057 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 132.6776ms
2020-07-09 11:01:00.057 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 11:01:00.057 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 165.3446ms 200 text/html; charset=utf-8
2020-07-09 11:01:01.285 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594281659806  
2020-07-09 11:01:01.289 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:01:01.289 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 11:01:01.293 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:01:01.296 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:01:01.370 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 11:01:01.414 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 11:01:01.451 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 37.3454ms.
2020-07-09 11:01:01.451 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 158.1185ms
2020-07-09 11:01:01.451 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 11:01:01.451 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 166.3733ms 200 text/html; charset=utf-8
2020-07-09 11:01:01.458 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 11:01:01.458 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 11:01:01.458 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 11:01:01.458 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:01:01.458 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:01:01.459 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:01:01.464 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:01:01.464 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:01:01.464 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:01:01.471 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:01:01.471 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:01:01.471 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:01:01.472 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594281659807  
2020-07-09 11:01:01.473 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:01:01.473 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:01:01.477 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:01:01.480 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 11:01:01.482 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 2.1226ms.
2020-07-09 11:01:01.482 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 5.1843ms
2020-07-09 11:01:01.483 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:01:01.483 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.8655ms 200 text/html; charset=utf-8
2020-07-09 11:01:01.492 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:01:01.492 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:01:01.513 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:01:01.525 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 61.1756ms
2020-07-09 11:01:01.526 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:01:01.526 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 67.9358ms 200 image/jpeg
2020-07-09 11:01:01.533 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:01:01.543 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 79.2242ms
2020-07-09 11:01:01.544 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:01:01.544 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 85.8795ms 200 image/jpeg
2020-07-09 11:01:01.826 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:01:01.827 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 362.4777ms
2020-07-09 11:01:01.827 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:01:01.827 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 369.2474ms 200 image/jpeg
2020-07-09 11:01:02.515 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=0&_=1594281659808  
2020-07-09 11:01:02.517 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:01:02.523 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:01:02.526 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:01:02.560 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 11:01:02.600 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 11:01:02.683 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 85.4102ms.
2020-07-09 11:01:02.683 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 159.8807ms
2020-07-09 11:01:02.683 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:01:02.684 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 168.9523ms 200 text/html; charset=utf-8
2020-07-09 11:01:02.692 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-09 11:01:02.692 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-09 11:01:02.692 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-09 11:01:02.697 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:01:02.697 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:01:02.697 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:01:02.697 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:01:02.697 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:01:02.697 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:01:02.697 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:01:02.697 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:01:02.697 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:01:02.700 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:01:02.700 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:01:02.701 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:01:02.701 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 3.8538ms
2020-07-09 11:01:02.701 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:01:02.701 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 8.8871ms 200 image/jpeg
2020-07-09 11:01:02.719 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:01:02.721 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 23.4721ms
2020-07-09 11:01:02.721 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:01:02.721 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 28.396ms 200 image/jpeg
2020-07-09 11:01:02.844 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:01:02.845 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 147.8662ms
2020-07-09 11:01:02.845 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:01:02.845 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 152.6101ms 200 image/jpeg
2020-07-09 11:01:03.900 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/Info/1?_=1594281659809  
2020-07-09 11:01:03.909 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:01:03.922 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Info", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Info(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:01:03.926 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:01:03.940 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
FROM [Dishes] AS [d]
WHERE [d].[Id] = @__id_0
2020-07-09 11:01:03.942 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view DishInLine.
2020-07-09 11:01:03.948 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view DishInLine executed in 6.1203ms.
2020-07-09 11:01:03.948 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.Info (CateringPro) in 25.9939ms
2020-07-09 11:01:03.948 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:01:03.948 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 48.3613ms 200 text/html; charset=utf-8
2020-07-09 11:01:13.961 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=0&_=1594281659810  
2020-07-09 11:01:13.964 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:01:13.964 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:01:13.967 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:01:13.970 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 11:01:13.978 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 11:01:14.005 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 26.7688ms.
2020-07-09 11:01:14.005 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 40.3708ms
2020-07-09 11:01:14.005 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:01:14.005 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 44.5134ms 200 text/html; charset=utf-8
2020-07-09 11:01:29.755 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:01:29.993 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-09 11:01:30.019 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-09 11:01:30.035 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-09 11:01:30.195 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-09 11:01:30.304 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:01:30.306 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:01:30.347 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-09 11:01:30.347 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-09 11:01:30.347 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-09 11:01:30.363 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 11:01:30.367 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:01:30.371 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:01:30.374 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-09 11:01:30.383 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:01:30,1
2020-07-09 11:01:30.405 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:01:30.422 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:01:30.434 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:01:30.436 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 11:01:30.445 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (49ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:01:30.449 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:01:30,2
2020-07-09 11:01:30.452 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:01:30.458 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:01:30.462 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:01:30.497 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 11:01:30.523 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:01:30.530 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:01:30.537 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 11:01:30.657 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 121.0008ms.
2020-07-09 11:01:30.659 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 200.8251ms
2020-07-09 11:01:30.660 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 11:01:30.666 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 304.0424ms 200 text/html; charset=utf-8
2020-07-09 11:01:30.799 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 11:01:30.811 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.5404ms 404 
2020-07-09 11:01:30.854 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 11:01:30.865 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594281690746  
2020-07-09 11:01:30.874 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 11:01:30.874 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:01:30.874 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 20.1984ms 404 
2020-07-09 11:01:30.879 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 11:01:30.891 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 11:01:30.891 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 17.5072ms 200 image/x-icon
2020-07-09 11:01:30.899 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:01:30.912 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:01:30.913 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 11:01:30.915 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 11:01:30.970 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 56.2485ms.
2020-07-09 11:01:30.970 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 71.0619ms
2020-07-09 11:01:30.970 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 11:01:30.970 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 105.7765ms 200 text/html; charset=utf-8
2020-07-09 11:01:31.928 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594281690747  
2020-07-09 11:01:31.932 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:01:31.932 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 11:01:31.937 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:01:31.940 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:01:32.011 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 11:01:32.063 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 11:01:32.123 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 60.4728ms.
2020-07-09 11:01:32.123 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 185.8489ms
2020-07-09 11:01:32.123 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 11:01:32.123 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 195.2043ms 200 text/html; charset=utf-8
2020-07-09 11:01:32.132 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 11:01:32.133 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 11:01:32.133 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:01:32.133 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:01:32.134 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 11:01:32.137 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:01:32.139 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:01:32.140 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:01:32.143 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:01:32.149 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:01:32.149 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:01:32.149 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:01:32.150 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594281690748  
2020-07-09 11:01:32.151 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:01:32.151 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:01:32.160 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:01:32.161 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 11:01:32.162 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.1022ms.
2020-07-09 11:01:32.162 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 2.8096ms
2020-07-09 11:01:32.162 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:01:32.163 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.9859ms 200 text/html; charset=utf-8
2020-07-09 11:01:32.176 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:01:32.176 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:01:32.229 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:01:32.242 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 102.4595ms
2020-07-09 11:01:32.242 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:01:32.242 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 109.5348ms 200 image/jpeg
2020-07-09 11:01:32.247 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:01:32.266 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 122.879ms
2020-07-09 11:01:32.266 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:01:32.266 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 132.3389ms 200 image/jpeg
2020-07-09 11:01:32.604 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:01:32.604 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 464.5214ms
2020-07-09 11:01:32.604 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:01:32.605 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 472.3819ms 200 image/jpeg
2020-07-09 11:01:33.458 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=0&_=1594281690749  
2020-07-09 11:01:33.461 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:01:33.468 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:01:33.473 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:01:33.514 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 11:01:33.558 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 11:01:33.642 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 84.4279ms.
2020-07-09 11:01:33.642 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 173.7908ms
2020-07-09 11:01:33.642 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:01:33.642 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 184.1113ms 200 text/html; charset=utf-8
2020-07-09 11:01:33.649 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-09 11:01:33.649 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-09 11:01:33.649 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-09 11:01:33.649 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:01:33.650 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:01:33.650 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:01:33.650 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:01:33.650 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:01:33.650 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:01:33.650 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:01:33.650 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:01:33.650 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:01:33.658 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:01:33.658 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:01:33.658 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:01:33.659 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 9.0554ms
2020-07-09 11:01:33.659 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:01:33.659 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.184ms 200 image/jpeg
2020-07-09 11:01:33.682 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:01:33.687 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 36.6895ms
2020-07-09 11:01:33.687 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:01:33.687 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 38.5938ms 200 image/jpeg
2020-07-09 11:01:33.839 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:01:33.839 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 189.5727ms
2020-07-09 11:01:33.839 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:01:33.840 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 191.0648ms 200 image/jpeg
2020-07-09 11:01:34.646 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/Info/1?_=1594281690750  
2020-07-09 11:01:34.653 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:01:34.665 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Info", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Info(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:01:34.669 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:01:34.686 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
FROM [Dishes] AS [d]
WHERE [d].[Id] = @__id_0
2020-07-09 11:01:34.690 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view DishInLine.
2020-07-09 11:01:34.701 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view DishInLine executed in 12.2966ms.
2020-07-09 11:01:34.702 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.Info (CateringPro) in 35.9527ms
2020-07-09 11:01:34.703 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:01:34.704 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 58.8859ms 200 text/html; charset=utf-8
2020-07-09 11:02:39.867 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:02:40.147 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-09 11:02:40.201 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-09 11:02:40.225 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-09 11:02:40.416 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-09 11:02:40.557 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:02:40.560 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:02:40.601 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-09 11:02:40.601 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-09 11:02:40.601 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-09 11:02:40.625 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?PictureId=4&width=80&height=80  
2020-07-09 11:02:40.625 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 11:02:40.638 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:02:40.639 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:02:40.639 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-09 11:02:40.660 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:02:40,1
2020-07-09 11:02:40.681 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:02:40.702 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:02:40.717 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:02:40.720 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:02:40.721 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 11:02:40.747 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:02:40.752 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:02:40.755 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:02:40.783 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:02:40.806 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 11:02:40.837 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:02:40.838 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (163ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:02:40.841 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:02:40,2
2020-07-09 11:02:40.845 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:02:40.846 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:02:40.854 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 11:02:40.994 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 139.5735ms.
2020-07-09 11:02:40.996 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 249.5187ms
2020-07-09 11:02:40.998 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 11:02:41.006 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 381.5239ms 200 text/html; charset=utf-8
2020-07-09 11:02:41.139 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 11:02:41.172 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 32.6124ms 404 
2020-07-09 11:02:41.200 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:02:41.205 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 449.6791ms
2020-07-09 11:02:41.205 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:02:41.205 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 581.0066ms 0 image/jpeg
2020-07-09 11:02:41.214 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 11:02:41.216 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 2.889ms 404 
2020-07-09 11:02:41.229 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594281761080  
2020-07-09 11:02:41.232 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:02:41.232 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 11:02:41.238 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 11:02:41.243 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:02:41.245 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 11:02:41.245 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 7.3759ms 200 image/x-icon
2020-07-09 11:02:41.255 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:02:41.258 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 11:02:41.262 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 11:02:41.349 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 88.6938ms.
2020-07-09 11:02:41.349 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 106.3033ms
2020-07-09 11:02:41.349 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 11:02:41.349 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 120.0068ms 200 text/html; charset=utf-8
2020-07-09 11:02:42.816 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594281761081  
2020-07-09 11:02:42.824 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:02:42.824 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 11:02:42.832 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:02:42.836 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:02:42.907 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 11:02:42.952 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 11:02:42.992 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 40.714ms.
2020-07-09 11:02:42.992 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 159.5716ms
2020-07-09 11:02:42.992 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 11:02:42.992 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 176.1955ms 200 text/html; charset=utf-8
2020-07-09 11:02:43.000 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 11:02:43.000 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 11:02:43.001 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 11:02:43.003 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:02:43.003 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:02:43.003 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:02:43.003 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:02:43.003 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:02:43.003 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:02:43.003 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:02:43.003 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:02:43.003 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:02:43.015 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594281761082  
2020-07-09 11:02:43.016 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:02:43.016 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:02:43.019 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:02:43.019 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:02:43.021 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:02:43.023 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 11:02:43.028 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 5.2083ms.
2020-07-09 11:02:43.028 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 6.8962ms
2020-07-09 11:02:43.028 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:02:43.028 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 13.1234ms 200 text/html; charset=utf-8
2020-07-09 11:02:43.042 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:02:43.042 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 39.5422ms
2020-07-09 11:02:43.042 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:02:43.043 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 42.8776ms 200 image/jpeg
2020-07-09 11:02:43.050 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:02:43.058 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 55.2314ms
2020-07-09 11:02:43.058 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:02:43.058 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 57.3946ms 200 image/jpeg
2020-07-09 11:02:43.156 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:02:43.156 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 153.2957ms
2020-07-09 11:02:43.156 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:02:43.156 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 156.4745ms 200 image/jpeg
2020-07-09 11:02:44.346 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=0&_=1594281761083  
2020-07-09 11:02:44.352 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:02:44.360 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:02:44.366 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:02:44.401 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 11:02:44.436 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 11:02:44.516 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 81.0895ms.
2020-07-09 11:02:44.516 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 155.8634ms
2020-07-09 11:02:44.516 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:02:44.517 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 171.1533ms 200 text/html; charset=utf-8
2020-07-09 11:02:44.525 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-09 11:02:44.525 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-09 11:02:44.525 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-09 11:02:44.527 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:02:44.527 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:02:44.527 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:02:44.527 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:02:44.527 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:02:44.527 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:02:44.528 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:02:44.528 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:02:44.528 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:02:44.532 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:02:44.532 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:02:44.533 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:02:44.533 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 5.8423ms
2020-07-09 11:02:44.533 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:02:44.533 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 8.3653ms 200 image/jpeg
2020-07-09 11:02:44.547 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:02:44.551 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 23.3881ms
2020-07-09 11:02:44.551 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:02:44.551 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 25.8804ms 200 image/jpeg
2020-07-09 11:02:44.683 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:02:44.683 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 155.8681ms
2020-07-09 11:02:44.683 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:02:44.683 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 158.3254ms 200 image/jpeg
2020-07-09 11:06:01.320 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:01.558 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-09 11:06:01.590 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-09 11:06:01.606 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-09 11:06:01.770 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-09 11:06:01.875 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:06:01.878 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:01.913 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-09 11:06:01.913 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-09 11:06:01.913 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-09 11:06:01.928 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 11:06:01.934 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:06:01.937 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:06:01.938 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-09 11:06:01.952 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:06:01,1
2020-07-09 11:06:01.970 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:01.984 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:06:01.995 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:06:01.996 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 11:06:02.028 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:06:02.032 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:02.063 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (98ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:06:02.066 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:06:02,2
2020-07-09 11:06:02.067 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 11:06:02.071 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:06:02.083 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:06:02.090 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:06:02.096 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 11:06:02.207 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 112.3179ms.
2020-07-09 11:06:02.210 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 181.9241ms
2020-07-09 11:06:02.211 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 11:06:02.217 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 290.5848ms 200 text/html; charset=utf-8
2020-07-09 11:06:02.363 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 11:06:02.371 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 8.1129ms 404 
2020-07-09 11:06:02.417 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 11:06:02.435 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 18.4236ms 404 
2020-07-09 11:06:02.443 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594281962301  
2020-07-09 11:06:02.448 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:06:02.451 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 11:06:02.453 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 11:06:02.470 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 11:06:02.471 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 18.0646ms 200 image/x-icon
2020-07-09 11:06:02.472 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:06:02.488 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:02.489 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 11:06:02.491 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 11:06:02.553 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 62.7389ms.
2020-07-09 11:06:02.553 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 80.7251ms
2020-07-09 11:06:02.553 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 11:06:02.553 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 111.0474ms 200 text/html; charset=utf-8
2020-07-09 11:06:04.616 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594281962302  
2020-07-09 11:06:04.624 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:06:04.624 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 11:06:04.633 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:06:04.638 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:04.709 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 11:06:04.752 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 11:06:04.794 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 42.7416ms.
2020-07-09 11:06:04.795 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 161.4252ms
2020-07-09 11:06:04.795 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 11:06:04.795 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 179.1538ms 200 text/html; charset=utf-8
2020-07-09 11:06:04.810 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594281962303  
2020-07-09 11:06:04.812 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:06:04.812 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:06:04.813 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 11:06:04.813 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:04.814 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 11:06:04.814 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 11:06:04.817 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:04.817 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:04.819 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:06:04.821 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 11:06:04.821 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:06:04.821 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:06:04.822 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.1026ms.
2020-07-09 11:06:04.822 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 2.99ms
2020-07-09 11:06:04.822 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:06:04.822 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 11.5245ms 200 text/html; charset=utf-8
2020-07-09 11:06:04.822 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:06:04.831 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:04.831 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:04.831 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:04.844 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:06:04.844 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:06:04.868 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:06:04.870 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:06:04.871 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 49.7996ms
2020-07-09 11:06:04.871 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:04.871 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 56.7168ms 200 image/jpeg
2020-07-09 11:06:04.881 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 60.1277ms
2020-07-09 11:06:04.881 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:04.881 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 67.1569ms 200 image/jpeg
2020-07-09 11:06:05.194 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:06:05.196 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 373.3768ms
2020-07-09 11:06:05.196 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:05.196 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 383.6407ms 200 image/jpeg
2020-07-09 11:06:06.197 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=0&_=1594281962304  
2020-07-09 11:06:06.199 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:06:06.205 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:06:06.208 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:06.252 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 11:06:06.298 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 11:06:06.395 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 99.4355ms.
2020-07-09 11:06:06.395 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 189.8782ms
2020-07-09 11:06:06.395 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:06:06.396 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 198.9999ms 200 text/html; charset=utf-8
2020-07-09 11:06:06.407 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-09 11:06:06.407 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-09 11:06:06.407 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-09 11:06:06.408 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:06.408 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:06.408 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:06.408 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:06:06.408 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:06:06.408 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:06:06.408 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:06.408 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:06.408 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:06.413 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:06:06.413 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:06:06.413 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:06:06.414 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 5.8036ms
2020-07-09 11:06:06.414 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:06.414 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 6.8725ms 200 image/jpeg
2020-07-09 11:06:06.435 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:06:06.439 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 30.6928ms
2020-07-09 11:06:06.439 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:06.439 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 31.6322ms 200 image/jpeg
2020-07-09 11:06:06.582 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:06:06.582 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 174.4641ms
2020-07-09 11:06:06.582 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:06.582 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 175.3244ms 200 image/jpeg
2020-07-09 11:06:28.303 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:28.542 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-09 11:06:28.567 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-09 11:06:28.583 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-09 11:06:28.753 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-09 11:06:28.861 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:06:28.864 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:28.895 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-09 11:06:28.895 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-09 11:06:28.895 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-09 11:06:28.909 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 11:06:28.918 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:06:28.920 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-09 11:06:28.921 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:06:28.933 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:06:28,1
2020-07-09 11:06:28.955 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:28.971 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:06:28.974 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:06:28.976 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 11:06:28.997 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (51ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:06:28.998 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:06:29.000 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:06:28,2
2020-07-09 11:06:29.003 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:29.004 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:06:29.031 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 11:06:29.055 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:06:29.061 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 11:06:29.062 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:06:29.180 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 120.3409ms.
2020-07-09 11:06:29.182 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 184.1454ms
2020-07-09 11:06:29.183 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 11:06:29.189 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 280.3404ms 200 text/html; charset=utf-8
2020-07-09 11:06:29.297 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 11:06:29.310 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 13.5038ms 404 
2020-07-09 11:06:29.344 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 11:06:29.363 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594281989248  
2020-07-09 11:06:29.373 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 28.7376ms 404 
2020-07-09 11:06:29.374 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:06:29.377 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 11:06:29.378 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 11:06:29.389 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 11:06:29.389 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 11.7539ms 200 image/x-icon
2020-07-09 11:06:29.395 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:06:29.408 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:29.409 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 11:06:29.411 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 11:06:29.472 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 61.8782ms.
2020-07-09 11:06:29.472 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 76.5976ms
2020-07-09 11:06:29.472 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 11:06:29.472 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 109.0151ms 200 text/html; charset=utf-8
2020-07-09 11:06:30.698 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594281989249  
2020-07-09 11:06:30.703 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:06:30.703 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 11:06:30.707 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:06:30.710 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:30.777 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 11:06:30.824 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 11:06:30.862 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 38.5641ms.
2020-07-09 11:06:30.862 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 155.1739ms
2020-07-09 11:06:30.862 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 11:06:30.862 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 164.1833ms 200 text/html; charset=utf-8
2020-07-09 11:06:30.875 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 11:06:30.875 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 11:06:30.875 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 11:06:30.875 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:30.875 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:30.875 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:30.880 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:06:30.880 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:06:30.880 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:06:30.888 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594281989250  
2020-07-09 11:06:30.888 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:30.888 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:30.888 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:30.889 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:06:30.890 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:06:30.894 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:06:30.895 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 11:06:30.896 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 0.8557ms.
2020-07-09 11:06:30.896 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 1.9689ms
2020-07-09 11:06:30.896 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:06:30.896 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 8.1193ms 200 text/html; charset=utf-8
2020-07-09 11:06:30.905 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:06:30.905 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:06:30.928 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:06:30.930 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 50.4039ms
2020-07-09 11:06:30.930 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:30.931 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 56.039ms 200 image/jpeg
2020-07-09 11:06:30.940 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:06:30.948 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 68.0984ms
2020-07-09 11:06:30.948 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:30.948 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 73.5687ms 200 image/jpeg
2020-07-09 11:06:31.223 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:06:31.223 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 343.3899ms
2020-07-09 11:06:31.223 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:31.223 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 348.906ms 200 image/jpeg
2020-07-09 11:06:32.798 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=0&_=1594281989251  
2020-07-09 11:06:32.802 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:06:32.812 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:06:32.815 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:32.846 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 11:06:32.882 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 11:06:32.964 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 83.3927ms.
2020-07-09 11:06:32.964 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 152.2847ms
2020-07-09 11:06:32.965 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:06:32.965 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 167.1393ms 200 text/html; charset=utf-8
2020-07-09 11:06:32.975 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-09 11:06:32.975 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-09 11:06:32.975 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-09 11:06:32.978 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:32.978 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:32.978 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:32.978 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:06:32.978 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:06:32.978 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:06:32.979 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:32.979 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:32.979 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:32.982 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:06:32.982 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:06:32.982 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:06:32.983 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 4.4192ms
2020-07-09 11:06:32.983 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:32.983 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 8.4109ms 200 image/jpeg
2020-07-09 11:06:32.998 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:06:33.002 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 23.6486ms
2020-07-09 11:06:33.002 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:33.002 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 27.7203ms 200 image/jpeg
2020-07-09 11:06:33.121 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:06:33.122 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 143.3176ms
2020-07-09 11:06:33.122 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:33.122 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 147.0238ms 200 image/jpeg
2020-07-09 11:06:34.022 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/Info/1?_=1594281989252  
2020-07-09 11:06:34.032 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:06:34.040 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Info", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Info(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:06:34.043 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:34.051 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
FROM [Dishes] AS [d]
WHERE [d].[Id] = @__id_0
2020-07-09 11:06:34.052 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view DishInLine.
2020-07-09 11:06:34.056 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view DishInLine executed in 4.4729ms.
2020-07-09 11:06:34.056 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.Info (CateringPro) in 16.4231ms
2020-07-09 11:06:34.056 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:06:34.056 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 34.7255ms 200 text/html; charset=utf-8
2020-07-09 11:06:34.065 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?PictureId=4&width=80&height=80  
2020-07-09 11:06:34.065 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:34.066 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:06:34.066 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:34.188 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:06:34.189 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 122.9753ms
2020-07-09 11:06:34.189 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:34.189 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 124.1342ms 200 image/jpeg
2020-07-09 11:06:44.707 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=0&_=1594281989253  
2020-07-09 11:06:44.710 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:06:44.710 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:06:44.713 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:44.719 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 11:06:44.739 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 11:06:44.779 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 39.9758ms.
2020-07-09 11:06:44.779 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 68.9129ms
2020-07-09 11:06:44.779 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:06:44.780 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 72.8002ms 200 text/html; charset=utf-8
2020-07-09 11:06:48.586 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/Info/2?_=1594281989254  
2020-07-09 11:06:48.587 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:06:48.588 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Info", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Info(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:06:48.589 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:48.591 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
FROM [Dishes] AS [d]
WHERE [d].[Id] = @__id_0
2020-07-09 11:06:48.593 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view DishInLine.
2020-07-09 11:06:48.594 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view DishInLine executed in 1.7585ms.
2020-07-09 11:06:48.594 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.Info (CateringPro) in 6.8241ms
2020-07-09 11:06:48.595 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:06:48.595 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.4354ms 200 text/html; charset=utf-8
2020-07-09 11:06:48.602 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?PictureId=6&width=80&height=80  
2020-07-09 11:06:48.603 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:48.603 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:06:48.604 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:06:48.729 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:06:48.729 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 125.5459ms
2020-07-09 11:06:48.729 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:06:48.729 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 126.6206ms 200 image/jpeg
2020-07-09 11:07:01.568 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=0&_=1594281989255  
2020-07-09 11:07:01.571 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:07:01.571 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:07:01.574 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:01.586 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 11:07:01.593 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 11:07:01.626 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 33.1029ms.
2020-07-09 11:07:01.626 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 54.5875ms
2020-07-09 11:07:01.626 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:07:01.627 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 58.8929ms 200 text/html; charset=utf-8
2020-07-09 11:07:06.526 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/ListItems?page=-1&searchcriteria=&_=1594281989256  
2020-07-09 11:07:06.529 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.ListItems (CateringPro)'
2020-07-09 11:07:06.536 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:07:06.650 +03:00 [Warning] CateringPro.Models.CompanyUser: Dish Controllers  - ListItems User.GetCompanyID() 1 
2020-07-09 11:07:06.650 +03:00 [Warning] CateringPro.Models.CompanyUser: ListItems pageRecords 20 
2020-07-09 11:07:06.651 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:06.660 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name]
FROM [Categories] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 11:07:06.696 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 11:07:06.700 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 11:07:06.732 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 32.9412ms.
2020-07-09 11:07:06.732 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.ListItems (CateringPro) in 195.6326ms
2020-07-09 11:07:06.732 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.ListItems (CateringPro)'
2020-07-09 11:07:06.732 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 206.763ms 200 text/html; charset=utf-8
2020-07-09 11:07:09.548 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/ListItems?page=1&searchcriteria=&_=1594281989257  
2020-07-09 11:07:09.550 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.ListItems (CateringPro)'
2020-07-09 11:07:09.551 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:07:09.554 +03:00 [Warning] CateringPro.Models.CompanyUser: Dish Controllers  - ListItems User.GetCompanyID() 1 
2020-07-09 11:07:09.555 +03:00 [Warning] CateringPro.Models.CompanyUser: ListItems pageRecords 20 
2020-07-09 11:07:09.556 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:09.558 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name]
FROM [Categories] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 11:07:09.615 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (37ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 11:07:09.619 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 11:07:09.642 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 22.3655ms.
2020-07-09 11:07:09.642 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.ListItems (CateringPro) in 90.5661ms
2020-07-09 11:07:09.642 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.ListItems (CateringPro)'
2020-07-09 11:07:09.642 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 94.2908ms 200 text/html; charset=utf-8
2020-07-09 11:07:10.495 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/ListItems?page=1&searchcriteria=&_=1594281989258  
2020-07-09 11:07:10.497 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.ListItems (CateringPro)'
2020-07-09 11:07:10.498 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:07:10.500 +03:00 [Warning] CateringPro.Models.CompanyUser: Dish Controllers  - ListItems User.GetCompanyID() 1 
2020-07-09 11:07:10.501 +03:00 [Warning] CateringPro.Models.CompanyUser: ListItems pageRecords 20 
2020-07-09 11:07:10.502 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:10.505 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name]
FROM [Categories] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 11:07:10.510 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 11:07:10.518 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 11:07:10.545 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 26.8085ms.
2020-07-09 11:07:10.545 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.ListItems (CateringPro) in 46.776ms
2020-07-09 11:07:10.545 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.ListItems (CateringPro)'
2020-07-09 11:07:10.545 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 49.5307ms 200 text/html; charset=utf-8
2020-07-09 11:07:19.549 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 11:07:19.553 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:07:19.553 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 11:07:19.553 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:07:19.555 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:19.561 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 11:07:19.562 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 11:07:19.567 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 5.5812ms.
2020-07-09 11:07:19.568 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 14.1112ms
2020-07-09 11:07:19.568 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 11:07:19.568 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 19.3867ms 200 text/html; charset=utf-8
2020-07-09 11:07:19.705 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 11:07:19.707 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 2.1625ms 404 
2020-07-09 11:07:19.748 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 11:07:19.751 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 2.4454ms 404 
2020-07-09 11:07:19.763 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594282039659  
2020-07-09 11:07:19.766 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:07:19.766 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 11:07:19.768 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:07:19.772 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:19.776 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 11:07:19.777 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 11:07:19.777 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 11:07:19.783 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 11:07:19.783 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 6.7277ms 200 image/x-icon
2020-07-09 11:07:19.784 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 6.8245ms.
2020-07-09 11:07:19.785 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 16.5395ms
2020-07-09 11:07:19.785 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 11:07:19.785 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 22.0526ms 200 text/html; charset=utf-8
2020-07-09 11:07:21.002 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594282039660  
2020-07-09 11:07:21.003 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:07:21.004 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 11:07:21.004 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:07:21.005 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:21.010 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 11:07:21.012 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 11:07:21.017 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 4.968ms.
2020-07-09 11:07:21.017 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 12.926ms
2020-07-09 11:07:21.017 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 11:07:21.017 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14.7566ms 200 text/html; charset=utf-8
2020-07-09 11:07:21.024 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 11:07:21.024 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 11:07:21.025 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 11:07:21.025 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:21.026 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:07:21.026 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:21.026 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:21.026 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:07:21.026 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:07:21.027 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:21.028 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:21.028 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:21.032 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:07:21.033 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:07:21.033 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:07:21.034 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 7.7242ms
2020-07-09 11:07:21.034 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:21.035 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.9618ms 200 image/jpeg
2020-07-09 11:07:21.043 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594282039661  
2020-07-09 11:07:21.045 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:07:21.045 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:07:21.045 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:07:21.046 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 11:07:21.047 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 0.5628ms.
2020-07-09 11:07:21.047 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 1.3542ms
2020-07-09 11:07:21.047 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:07:21.047 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 4.006ms 200 text/html; charset=utf-8
2020-07-09 11:07:21.053 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:07:21.057 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 30.4837ms
2020-07-09 11:07:21.057 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:21.057 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 32.1862ms 200 image/jpeg
2020-07-09 11:07:21.159 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:07:21.159 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 133.295ms
2020-07-09 11:07:21.159 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:21.159 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 135.565ms 200 image/jpeg
2020-07-09 11:07:22.646 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=0&_=1594282039662  
2020-07-09 11:07:22.648 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:07:22.648 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:07:22.649 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:22.652 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 11:07:22.657 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 11:07:22.680 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 22.8861ms.
2020-07-09 11:07:22.680 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 32.4037ms
2020-07-09 11:07:22.680 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:07:22.681 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 34.2317ms 200 text/html; charset=utf-8
2020-07-09 11:07:22.712 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-09 11:07:22.712 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-09 11:07:22.712 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-09 11:07:22.713 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:22.713 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:22.713 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:22.713 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:07:22.713 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:07:22.713 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:07:22.714 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:22.714 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:22.714 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:22.720 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:07:22.721 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:07:22.723 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:07:22.723 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 9.7582ms
2020-07-09 11:07:22.723 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:22.723 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 11.4852ms 200 image/jpeg
2020-07-09 11:07:22.738 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:07:22.740 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 26.3373ms
2020-07-09 11:07:22.740 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:22.740 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 28.4183ms 200 image/jpeg
2020-07-09 11:07:22.761 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:07:22.761 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 47.5655ms
2020-07-09 11:07:22.761 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:22.761 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 49.0779ms 200 image/jpeg
2020-07-09 11:07:24.462 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/Info/1?_=1594282039663  
2020-07-09 11:07:24.463 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:07:24.463 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Info", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Info(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:07:24.464 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:24.467 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
FROM [Dishes] AS [d]
WHERE [d].[Id] = @__id_0
2020-07-09 11:07:24.468 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view DishInLine.
2020-07-09 11:07:24.469 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view DishInLine executed in 0.9566ms.
2020-07-09 11:07:24.469 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.Info (CateringPro) in 5.155ms
2020-07-09 11:07:24.469 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:07:24.469 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 6.6652ms 200 text/html; charset=utf-8
2020-07-09 11:07:24.474 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?PictureId=4&width=80&height=80  
2020-07-09 11:07:24.475 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:24.475 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:07:24.475 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:24.509 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:07:24.509 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 34.3529ms
2020-07-09 11:07:24.509 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:24.509 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 35.3763ms 200 image/jpeg
2020-07-09 11:07:32.270 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 11:07:32.273 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:07:32.273 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 11:07:32.274 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:07:32.275 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:32.278 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 11:07:32.278 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 11:07:32.281 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 2.2904ms.
2020-07-09 11:07:32.281 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 7.4767ms
2020-07-09 11:07:32.281 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 11:07:32.282 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 11.4632ms 200 text/html; charset=utf-8
2020-07-09 11:07:32.459 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 11:07:32.461 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 2.1238ms 404 
2020-07-09 11:07:32.503 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 11:07:32.504 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 0.8229ms 404 
2020-07-09 11:07:32.517 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594282052410  
2020-07-09 11:07:32.518 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:07:32.518 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 11:07:32.519 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:07:32.522 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:32.523 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 11:07:32.523 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 11:07:32.528 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 11:07:32.530 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 11:07:32.530 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.9069ms 200 image/x-icon
2020-07-09 11:07:32.534 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 10.3239ms.
2020-07-09 11:07:32.534 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 15.1867ms
2020-07-09 11:07:32.534 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 11:07:32.534 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 17.7604ms 200 text/html; charset=utf-8
2020-07-09 11:07:34.154 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594282052411  
2020-07-09 11:07:34.155 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:07:34.155 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 11:07:34.155 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:07:34.156 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:34.157 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 11:07:34.158 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 11:07:34.163 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 4.8556ms.
2020-07-09 11:07:34.163 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 7.9471ms
2020-07-09 11:07:34.163 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 11:07:34.163 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.3649ms 200 text/html; charset=utf-8
2020-07-09 11:07:34.169 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 11:07:34.169 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 11:07:34.170 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 11:07:34.170 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:34.170 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:34.170 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:34.170 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:07:34.170 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:07:34.170 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:07:34.171 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:34.171 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:34.171 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:34.174 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:07:34.174 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:07:34.175 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:07:34.175 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 4.8796ms
2020-07-09 11:07:34.175 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:34.175 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 5.9559ms 200 image/jpeg
2020-07-09 11:07:34.192 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594282052412  
2020-07-09 11:07:34.193 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:07:34.193 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:07:34.193 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:07:34.193 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 11:07:34.193 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 0.2921ms.
2020-07-09 11:07:34.193 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 0.5493ms
2020-07-09 11:07:34.194 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:07:34.194 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.8104ms 200 text/html; charset=utf-8
2020-07-09 11:07:34.205 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:07:34.206 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 35.9139ms
2020-07-09 11:07:34.206 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:34.206 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 36.8905ms 200 image/jpeg
2020-07-09 11:07:34.223 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:07:34.224 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 53.2829ms
2020-07-09 11:07:34.224 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:34.224 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 54.2725ms 200 image/jpeg
2020-07-09 11:07:35.773 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=0&_=1594282052413  
2020-07-09 11:07:35.773 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:07:35.774 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:07:35.774 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:35.777 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 11:07:35.781 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 11:07:35.805 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 24.1834ms.
2020-07-09 11:07:35.805 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 31.4783ms
2020-07-09 11:07:35.805 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:07:35.805 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 32.7487ms 200 text/html; charset=utf-8
2020-07-09 11:07:35.811 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-09 11:07:35.812 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:35.812 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:07:35.815 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-09 11:07:35.815 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-09 11:07:35.816 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:35.816 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:35.816 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:07:35.816 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:35.816 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:07:35.817 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:35.817 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:35.819 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:07:35.819 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:07:35.820 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:07:35.820 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 8.1529ms
2020-07-09 11:07:35.820 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:35.820 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.4296ms 200 image/jpeg
2020-07-09 11:07:35.845 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:07:35.849 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 32.5964ms
2020-07-09 11:07:35.849 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:35.850 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 35.2107ms 200 image/jpeg
2020-07-09 11:07:35.866 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:07:35.866 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 49.7431ms
2020-07-09 11:07:35.866 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:35.866 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 51.3548ms 200 image/jpeg
2020-07-09 11:07:38.068 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/Info/1?_=1594282052414  
2020-07-09 11:07:38.068 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:07:38.069 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Info", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Info(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:07:38.069 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:38.072 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
FROM [Dishes] AS [d]
WHERE [d].[Id] = @__id_0
2020-07-09 11:07:38.072 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view DishInLine.
2020-07-09 11:07:38.073 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view DishInLine executed in 0.4661ms.
2020-07-09 11:07:38.073 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.Info (CateringPro) in 4.2557ms
2020-07-09 11:07:38.073 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:07:38.073 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 5.1499ms 200 text/html; charset=utf-8
2020-07-09 11:07:38.081 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?PictureId=4&width=80&height=80  
2020-07-09 11:07:38.082 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:38.082 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:07:38.082 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:07:38.123 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:07:38.123 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 41.565ms
2020-07-09 11:07:38.123 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:07:38.124 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 42.3227ms 200 image/jpeg
2020-07-09 11:08:09.827 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=1&_=1594282052415  
2020-07-09 11:08:09.828 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:08:09.828 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:08:09.829 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:08:09.841 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 11:08:09.846 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 11:08:09.879 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 33.496ms.
2020-07-09 11:08:09.879 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 50.8303ms
2020-07-09 11:08:09.879 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:08:09.879 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 52.3886ms 200 text/html; charset=utf-8
2020-07-09 11:08:12.738 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/Info/9?_=1594282052416  
2020-07-09 11:08:12.739 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:08:12.739 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Info", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Info(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:08:12.739 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:08:12.742 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
FROM [Dishes] AS [d]
WHERE [d].[Id] = @__id_0
2020-07-09 11:08:12.743 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view DishInLine.
2020-07-09 11:08:12.743 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view DishInLine executed in 0.469ms.
2020-07-09 11:08:12.743 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.Info (CateringPro) in 4.2802ms
2020-07-09 11:08:12.743 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:08:12.743 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 5.0931ms 200 text/html; charset=utf-8
2020-07-09 11:08:36.426 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594282052417  
2020-07-09 11:08:36.426 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:08:36.426 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:08:36.427 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:08:36.427 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 11:08:36.427 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 0.3296ms.
2020-07-09 11:08:36.427 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 0.5777ms
2020-07-09 11:08:36.427 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:08:36.427 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 1.3198ms 200 text/html; charset=utf-8
2020-07-09 11:12:24.185 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:12:24.186 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:12:24.188 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:12:24.188 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:12:24.190 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:12:24.190 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:12:24.191 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:12:24,1
2020-07-09 11:12:24.195 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:12:24.196 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:12:24.243 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (43ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:12:24.243 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:12:24,2
2020-07-09 11:12:24.246 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:14:11.729 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594282052418  
2020-07-09 11:14:11.729 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:14:11.729 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 11:14:11.729 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:14:11.730 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:14:11.738 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 11:14:11.738 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 11:14:11.743 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 4.3266ms.
2020-07-09 11:14:11.743 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 13.285ms
2020-07-09 11:14:11.743 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 11:14:11.743 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14.4779ms 200 text/html; charset=utf-8
2020-07-09 11:14:11.759 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594282052419  
2020-07-09 11:14:11.760 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:14:11.760 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:14:11.760 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:14:11.761 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 11:14:11.761 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 0.5254ms.
2020-07-09 11:14:11.761 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 1.042ms
2020-07-09 11:14:11.761 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:14:11.762 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 2.6426ms 200 text/html; charset=utf-8
2020-07-09 11:14:11.764 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 11:14:11.765 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:14:11.766 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:14:11.767 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:14:11.768 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 11:14:11.768 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 11:14:11.769 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:14:11.769 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:14:11.769 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:14:11.769 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:14:11.770 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:14:11.770 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:14:11.775 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:14:11.775 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:14:11.776 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:14:11.776 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 7.099ms
2020-07-09 11:14:11.776 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:14:11.776 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 8.6753ms 200 image/jpeg
2020-07-09 11:14:11.795 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:14:11.796 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 27.3738ms
2020-07-09 11:14:11.796 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:14:11.796 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 28.9563ms 200 image/jpeg
2020-07-09 11:14:11.824 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:14:11.824 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 58.6023ms
2020-07-09 11:14:11.824 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:14:11.824 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 60.7553ms 200 image/jpeg
2020-07-09 11:15:24.217 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:15:24.217 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:15:24.218 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:15:24.219 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:15:24.221 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:15:24.221 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:15:24.221 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:15:24,1
2020-07-09 11:15:24.227 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:15:24.231 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:15:24.279 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (58ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:15:24.279 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:15:24,2
2020-07-09 11:15:24.283 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:16:38.962 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:16:39.199 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-09 11:16:39.233 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-09 11:16:39.249 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-09 11:16:39.409 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-09 11:16:39.518 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:16:39.520 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:16:39.564 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-09 11:16:39.564 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-09 11:16:39.564 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-09 11:16:39.579 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 11:16:39.582 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:16:39.584 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:16:39.590 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-09 11:16:39.598 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:16:39,1
2020-07-09 11:16:39.629 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:16:39.644 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:16:39.663 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:16:39.665 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 11:16:39.686 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:16:39.690 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:16:39.715 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (96ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:16:39.718 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:16:39,2
2020-07-09 11:16:39.721 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:16:39.724 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 11:16:39.739 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:16:39.746 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:16:39.752 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 11:16:39.863 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 110.9707ms.
2020-07-09 11:16:39.866 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 179.6871ms
2020-07-09 11:16:39.866 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 11:16:39.873 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 294.735ms 200 text/html; charset=utf-8
2020-07-09 11:16:39.980 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 11:16:39.992 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 11.4353ms 404 
2020-07-09 11:16:40.036 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 11:16:40.049 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594282599937  
2020-07-09 11:16:40.058 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 11:16:40.059 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 23.0899ms 404 
2020-07-09 11:16:40.060 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:16:40.063 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 11:16:40.075 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 11:16:40.076 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 17.8538ms 200 image/x-icon
2020-07-09 11:16:40.090 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:16:40.109 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:16:40.111 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 11:16:40.113 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 11:16:40.176 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 63.9158ms.
2020-07-09 11:16:40.176 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 86.669ms
2020-07-09 11:16:40.176 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 11:16:40.176 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 126.9904ms 200 text/html; charset=utf-8
2020-07-09 11:16:41.387 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594282599938  
2020-07-09 11:16:41.395 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:16:41.395 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 11:16:41.401 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:16:41.404 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:16:41.472 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 11:16:41.514 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 11:16:41.551 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 37.0955ms.
2020-07-09 11:16:41.551 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 149.8852ms
2020-07-09 11:16:41.551 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 11:16:41.551 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 164.2498ms 200 text/html; charset=utf-8
2020-07-09 11:16:41.558 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 11:16:41.558 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 11:16:41.558 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 11:16:41.559 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:16:41.559 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:16:41.559 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:16:41.563 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:16:41.563 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:16:41.563 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:16:41.571 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:16:41.571 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:16:41.571 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:16:41.571 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594282599939  
2020-07-09 11:16:41.572 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:16:41.572 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:16:41.576 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:16:41.578 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 11:16:41.579 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.3711ms.
2020-07-09 11:16:41.579 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 2.8918ms
2020-07-09 11:16:41.579 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:16:41.580 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 8.2181ms 200 text/html; charset=utf-8
2020-07-09 11:16:41.591 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:16:41.591 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:16:41.614 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:16:41.620 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 56.783ms
2020-07-09 11:16:41.620 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:16:41.620 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 62.3749ms 200 image/jpeg
2020-07-09 11:16:41.623 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:16:41.632 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 68.2149ms
2020-07-09 11:16:41.632 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:16:41.632 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 74.3058ms 200 image/jpeg
2020-07-09 11:16:41.970 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:16:41.970 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 406.9767ms
2020-07-09 11:16:41.970 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:16:41.970 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 412.2584ms 200 image/jpeg
2020-07-09 11:16:50.815 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=1&_=1594282599940  
2020-07-09 11:16:50.820 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:16:50.829 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:16:50.833 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:16:50.869 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 11:16:51.022 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 11:16:51.107 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 193.6932ms.
2020-07-09 11:16:51.107 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 277.817ms
2020-07-09 11:16:51.107 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:16:51.108 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 293.0931ms 200 text/html; charset=utf-8
2020-07-09 11:16:51.118 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-09 11:16:51.118 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-09 11:16:51.118 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-09 11:16:51.121 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:16:51.121 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:16:51.121 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:16:51.121 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:16:51.121 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:16:51.121 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:16:51.122 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:16:51.122 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:16:51.122 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:16:51.124 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:16:51.124 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:16:51.125 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:16:51.130 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 8.3449ms
2020-07-09 11:16:51.130 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:16:51.130 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.0185ms 200 image/jpeg
2020-07-09 11:16:51.153 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:16:51.157 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 35.0842ms
2020-07-09 11:16:51.157 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:16:51.157 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 38.6678ms 200 image/jpeg
2020-07-09 11:16:51.272 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:16:51.272 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 150.9259ms
2020-07-09 11:16:51.272 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:16:51.272 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 154.5214ms 200 image/jpeg
2020-07-09 11:16:53.444 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/Info/1?_=1594282599941  
2020-07-09 11:16:53.448 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:16:53.454 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Info", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Info(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:16:53.457 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:16:53.465 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
FROM [Dishes] AS [d]
WHERE [d].[Id] = @__id_0
2020-07-09 11:16:53.466 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view DishInLine.
2020-07-09 11:16:53.471 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view DishInLine executed in 4.8659ms.
2020-07-09 11:16:53.471 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.Info (CateringPro) in 16.1256ms
2020-07-09 11:16:53.471 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:16:53.471 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 27.0788ms 200 text/html; charset=utf-8
2020-07-09 11:16:53.477 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?PictureId=4&width=80&height=80  
2020-07-09 11:16:53.478 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:16:53.479 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:16:53.479 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:16:53.608 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:16:53.608 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 129.2453ms
2020-07-09 11:16:53.608 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:16:53.608 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 131.1781ms 200 image/jpeg
2020-07-09 11:17:14.458 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=0&_=1594282599942  
2020-07-09 11:17:14.461 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:17:14.462 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:17:14.466 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:17:14.473 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 11:17:14.495 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 11:17:14.542 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 46.6417ms.
2020-07-09 11:17:14.542 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 80.2511ms
2020-07-09 11:17:14.542 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:17:14.543 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 84.6366ms 200 text/html; charset=utf-8
2020-07-09 11:17:16.835 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/Info/2?_=1594282599943  
2020-07-09 11:17:16.837 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:17:16.837 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Info", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Info(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:17:16.838 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:17:16.843 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
FROM [Dishes] AS [d]
WHERE [d].[Id] = @__id_0
2020-07-09 11:17:16.844 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view DishInLine.
2020-07-09 11:17:16.845 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view DishInLine executed in 1.222ms.
2020-07-09 11:17:16.845 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.Info (CateringPro) in 7.9474ms
2020-07-09 11:17:16.845 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:17:16.845 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.3375ms 200 text/html; charset=utf-8
2020-07-09 11:17:16.853 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?PictureId=6&width=80&height=80  
2020-07-09 11:17:16.854 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:17:16.854 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:17:16.855 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:17:17.036 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:17:17.037 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 182.8177ms
2020-07-09 11:17:17.037 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:17:17.037 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 184.2405ms 200 image/jpeg
2020-07-09 11:17:22.129 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=2&_=1594282599944  
2020-07-09 11:17:22.132 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:17:22.132 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:17:22.133 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:17:22.135 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 11:17:22.136 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.3532ms.
2020-07-09 11:17:22.136 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 3.0271ms
2020-07-09 11:17:22.136 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:17:22.137 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 7.7124ms 200 text/html; charset=utf-8
2020-07-09 11:17:26.061 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=1&_=1594282599945  
2020-07-09 11:17:26.063 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:17:26.064 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:17:26.064 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:17:26.065 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 11:17:26.066 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 0.8459ms.
2020-07-09 11:17:26.066 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 2.3391ms
2020-07-09 11:17:26.066 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:17:26.067 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 5.806ms 200 text/html; charset=utf-8
2020-07-09 11:17:31.065 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594282599946  
2020-07-09 11:17:31.069 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:17:31.069 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 11:17:31.069 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:17:31.071 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:17:31.081 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 11:17:31.083 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 11:17:31.088 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 5.3914ms.
2020-07-09 11:17:31.089 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 19.1369ms
2020-07-09 11:17:31.089 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 11:17:31.089 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 23.8636ms 200 text/html; charset=utf-8
2020-07-09 11:17:31.103 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594282599947  
2020-07-09 11:17:31.103 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 11:17:31.103 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 11:17:31.104 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 11:17:31.105 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:17:31.105 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:17:31.105 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:17:31.105 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:17:31.105 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:17:31.105 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:17:31.105 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:17:31.105 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:17:31.105 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:17:31.106 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 11:17:31.107 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:17:31.107 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:17:31.107 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 0.6254ms.
2020-07-09 11:17:31.107 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:17:31.107 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 1.37ms
2020-07-09 11:17:31.107 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:17:31.107 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 3.9558ms 200 text/html; charset=utf-8
2020-07-09 11:17:31.113 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:17:31.113 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:17:31.115 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:17:31.116 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 10.3604ms
2020-07-09 11:17:31.116 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:17:31.116 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.7887ms 200 image/jpeg
2020-07-09 11:17:31.129 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:17:31.130 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 24.9616ms
2020-07-09 11:17:31.130 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:17:31.131 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 27.3819ms 200 image/jpeg
2020-07-09 11:17:31.258 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:17:31.258 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 153.0635ms
2020-07-09 11:17:31.258 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:17:31.258 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 155.4187ms 200 image/jpeg
2020-07-09 11:20:39.660 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:20:39.662 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:20:39.664 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:20:39.664 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:20:39.666 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:20:39.666 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:20:39.667 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:20:39,1
2020-07-09 11:20:39.670 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:20:39.743 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (68ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:20:39.743 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:20:39,2
2020-07-09 11:20:39.746 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:20:39.781 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-09 11:20:39.803 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:22:00.778 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=1&_=1594282599948  
2020-07-09 11:22:00.781 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:22:00.797 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address1], [a].[Address2], [a].[City], [a].[CompanyId], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MenuType], [a].[NameSurname], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[ZipCode]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2020-07-09 11:22:00.867 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2020-07-09 11:22:00.902 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2020-07-09 11:22:00.915 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2020-07-09 11:22:00.931 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2020-07-09 11:22:00.935 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:22:00.936 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:22:00.947 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 11:22:00.952 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 11:22:00.984 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 32.3985ms.
2020-07-09 11:22:00.984 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 48.4578ms
2020-07-09 11:22:00.984 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:22:00.984 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 206.7934ms 200 text/html; charset=utf-8
2020-07-09 11:22:02.134 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/Info/1?_=1594282599949  
2020-07-09 11:22:02.136 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:22:02.136 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Info", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Info(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:22:02.139 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:22:02.143 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
FROM [Dishes] AS [d]
WHERE [d].[Id] = @__id_0
2020-07-09 11:22:02.144 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view DishInLine.
2020-07-09 11:22:02.146 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view DishInLine executed in 2.1749ms.
2020-07-09 11:22:02.146 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.Info (CateringPro) in 9.6693ms
2020-07-09 11:22:02.146 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:22:02.147 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.5863ms 200 text/html; charset=utf-8
2020-07-09 11:22:02.154 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?PictureId=4&width=80&height=80  
2020-07-09 11:22:02.156 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:22:02.156 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:22:02.157 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:22:02.221 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:22:02.222 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 66.1991ms
2020-07-09 11:22:02.223 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:22:02.223 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 69.1698ms 200 image/jpeg
2020-07-09 11:22:11.256 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=1&_=1594282599950  
2020-07-09 11:22:11.258 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:22:11.258 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:22:11.259 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:22:11.263 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 11:22:11.271 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 11:22:11.310 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 38.8391ms.
2020-07-09 11:22:11.310 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 51.5558ms
2020-07-09 11:22:11.310 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:22:11.310 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 54.051ms 200 text/html; charset=utf-8
2020-07-09 11:22:12.999 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/Info/2?_=1594282599951  
2020-07-09 11:22:13.001 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:22:13.001 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Info", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Info(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:22:13.003 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:22:13.007 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
FROM [Dishes] AS [d]
WHERE [d].[Id] = @__id_0
2020-07-09 11:22:13.008 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view DishInLine.
2020-07-09 11:22:13.009 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view DishInLine executed in 0.8783ms.
2020-07-09 11:22:13.009 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.Info (CateringPro) in 7.6545ms
2020-07-09 11:22:13.009 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:22:13.009 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.1929ms 200 text/html; charset=utf-8
2020-07-09 11:23:20.261 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:23:20.502 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-09 11:23:20.536 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-09 11:23:20.550 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-09 11:23:20.713 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-09 11:23:20.824 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:23:20.827 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:23:20.864 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-09 11:23:20.864 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-09 11:23:20.864 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-09 11:23:20.879 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 11:23:20.885 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:23:20.888 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:23:20.891 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-09 11:23:20.900 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:23:20,1
2020-07-09 11:23:20.922 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:23:20.938 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:23:20.947 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:23:20.949 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 11:23:20.970 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:23:20.974 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:23:21.006 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (94ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:23:21.007 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 11:23:21.009 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:23:21,2
2020-07-09 11:23:21.012 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:23:21.026 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:23:21.032 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:23:21.035 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 11:23:21.151 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 113.9016ms.
2020-07-09 11:23:21.154 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 183.5292ms
2020-07-09 11:23:21.155 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 11:23:21.165 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 286.9833ms 200 text/html; charset=utf-8
2020-07-09 11:23:21.299 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 11:23:21.308 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.4384ms 404 
2020-07-09 11:23:21.337 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 11:23:21.349 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594283001247  
2020-07-09 11:23:21.357 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 19.365ms 404 
2020-07-09 11:23:21.357 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:23:21.359 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 11:23:21.361 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 11:23:21.377 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 11:23:21.379 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 19.2741ms 200 image/x-icon
2020-07-09 11:23:21.385 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:23:21.403 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:23:21.405 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 11:23:21.408 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 11:23:21.467 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 60.4111ms.
2020-07-09 11:23:21.467 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 81.7947ms
2020-07-09 11:23:21.467 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 11:23:21.468 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 118.4003ms 200 text/html; charset=utf-8
2020-07-09 11:23:22.725 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594283001248  
2020-07-09 11:23:22.729 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:23:22.730 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 11:23:22.734 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:23:22.737 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:23:22.815 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 11:23:22.859 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 11:23:22.896 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 38.277ms.
2020-07-09 11:23:22.896 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 162.8323ms
2020-07-09 11:23:22.896 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 11:23:22.897 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 171.4192ms 200 text/html; charset=utf-8
2020-07-09 11:23:22.904 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 11:23:22.904 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 11:23:22.904 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:23:22.904 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:23:22.909 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:23:22.911 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:23:22.916 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:23:22.916 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:23:22.917 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594283001249  
2020-07-09 11:23:22.918 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:23:22.918 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 11:23:22.919 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:23:22.921 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:23:22.921 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:23:22.922 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:23:22.923 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:23:22.924 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 11:23:22.925 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.006ms.
2020-07-09 11:23:22.925 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 2.1036ms
2020-07-09 11:23:22.925 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:23:22.925 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 7.6799ms 200 text/html; charset=utf-8
2020-07-09 11:23:22.936 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:23:22.936 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:23:22.961 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:23:22.967 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 45.9596ms
2020-07-09 11:23:22.967 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:23:22.967 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 48.8886ms 200 image/jpeg
2020-07-09 11:23:22.970 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:23:22.982 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 73.5981ms
2020-07-09 11:23:22.982 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:23:22.982 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 79.0135ms 200 image/jpeg
2020-07-09 11:23:23.285 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:23:23.285 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 373.6115ms
2020-07-09 11:23:23.285 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:23:23.285 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 381.6936ms 200 image/jpeg
2020-07-09 11:23:25.352 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=1&_=1594283001250  
2020-07-09 11:23:25.354 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:23:25.360 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:23:25.365 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:23:25.400 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 11:23:25.441 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 11:23:25.533 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 92.7693ms.
2020-07-09 11:23:25.533 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 173.1448ms
2020-07-09 11:23:25.533 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:23:25.533 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 181.7334ms 200 text/html; charset=utf-8
2020-07-09 11:23:25.540 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-09 11:23:25.540 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-09 11:23:25.540 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-09 11:23:25.540 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:23:25.540 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:23:25.540 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:23:25.540 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:23:25.540 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:23:25.540 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:23:25.541 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:23:25.541 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:23:25.541 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:23:25.544 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:23:25.544 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:23:25.549 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:23:25.550 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 9.2801ms
2020-07-09 11:23:25.550 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:23:25.550 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.1581ms 200 image/jpeg
2020-07-09 11:23:25.568 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:23:25.571 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 30.3465ms
2020-07-09 11:23:25.571 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:23:25.571 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 31.2578ms 200 image/jpeg
2020-07-09 11:23:25.722 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:23:25.722 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 181.7459ms
2020-07-09 11:23:25.722 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:23:25.722 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 182.6807ms 200 image/jpeg
2020-07-09 11:23:27.128 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/Info/1?_=1594283001251  
2020-07-09 11:23:27.140 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:23:27.153 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Info", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Info(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:23:27.156 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:23:27.168 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
FROM [Dishes] AS [d]
WHERE [d].[Id] = @__id_0
2020-07-09 11:23:27.170 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view DishInLine.
2020-07-09 11:23:27.175 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view DishInLine executed in 5.9058ms.
2020-07-09 11:23:27.176 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.Info (CateringPro) in 22.6567ms
2020-07-09 11:23:27.176 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:23:27.177 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 48.8849ms 200 text/html; charset=utf-8
2020-07-09 11:23:27.183 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?PictureId=4&width=80&height=80  
2020-07-09 11:23:27.185 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:23:27.185 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:23:27.187 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:23:27.317 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:23:27.318 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 132.5032ms
2020-07-09 11:23:27.318 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:23:27.318 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 135.9601ms 200 image/jpeg
2020-07-09 11:25:05.736 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=2&_=1594283001252  
2020-07-09 11:25:05.740 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:25:05.740 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:25:05.741 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:25:05.742 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 11:25:05.744 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 2.1385ms.
2020-07-09 11:25:05.744 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 3.5218ms
2020-07-09 11:25:05.744 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:25:05.745 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 8.6501ms 200 text/html; charset=utf-8
2020-07-09 11:25:20.943 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:25:20.947 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:25:20.948 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:25:20.949 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:25:20.951 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:25:20.952 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:25:20.953 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:25:20,1
2020-07-09 11:25:20.957 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:25:20.958 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:25:21.025 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (66ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:25:21.025 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:25:21,2
2020-07-09 11:25:21.028 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:30:20.972 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:30:20.977 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:30:20.982 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:30:20.984 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:30:20.997 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:30:20.999 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:30:20,1
2020-07-09 11:30:21.001 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:30:21.008 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:30:21.011 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:30:21.074 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (74ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:30:21.075 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:30:21,2
2020-07-09 11:30:21.078 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:35:21.027 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:35:21.031 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:35:21.033 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:35:21.033 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:35:21.035 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:35:21.035 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:35:21.036 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:35:21,1
2020-07-09 11:35:21.040 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:35:21.041 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:35:21.107 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (71ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:35:21.108 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:35:21,2
2020-07-09 11:35:21.111 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:55:55.409 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:55:55.921 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-09 11:55:55.958 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-09 11:55:55.974 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-09 11:55:56.133 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-09 11:55:56.334 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:55:56.337 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:55:56.367 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-09 11:55:56.367 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-09 11:55:56.367 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-09 11:55:56.384 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 11:55:56.397 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-09 11:55:56.401 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:55:56.404 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 11:55:56.419 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:55:56,1
2020-07-09 11:55:56.443 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:55:56.461 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:55:56.462 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 11:55:56.523 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address1], [a].[Address2], [a].[City], [a].[CompanyId], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MenuType], [a].[NameSurname], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[ZipCode]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2020-07-09 11:55:56.540 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (108ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:55:56.542 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 11:55:56,2
2020-07-09 11:55:56.546 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 11:55:56.553 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:55:56.559 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 11:55:56.594 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2020-07-09 11:55:56.635 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2020-07-09 11:55:56.644 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2020-07-09 11:55:56.657 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2020-07-09 11:55:56.666 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:55:56.667 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 11:55:56.689 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:55:56.697 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 11:55:56.724 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 11:55:57.006 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 282.8403ms.
2020-07-09 11:55:57.008 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 319.1695ms
2020-07-09 11:55:57.009 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 11:55:57.015 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 632.3826ms 200 text/html; charset=utf-8
2020-07-09 11:55:57.171 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 11:55:57.193 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 22.2253ms 404 
2020-07-09 11:55:57.235 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 11:55:57.255 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594284957095  
2020-07-09 11:55:57.257 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:55:57.259 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 11:55:57.262 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 26.559ms 404 
2020-07-09 11:55:57.271 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 11:55:57.294 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:55:57.293 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 11:55:57.294 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 23.8809ms 200 image/x-icon
2020-07-09 11:55:57.316 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:55:57.319 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 11:55:57.323 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 11:55:57.381 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 58.0878ms.
2020-07-09 11:55:57.381 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 87.1713ms
2020-07-09 11:55:57.381 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 11:55:57.381 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 126.6411ms 200 text/html; charset=utf-8
2020-07-09 11:56:00.530 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594284957096  
2020-07-09 11:56:00.538 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:56:00.539 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 11:56:00.545 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:56:00.549 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:56:00.601 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 11:56:00.641 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 11:56:00.677 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 36.3225ms.
2020-07-09 11:56:00.677 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 132.1646ms
2020-07-09 11:56:00.677 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 11:56:00.677 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 147.3044ms 200 text/html; charset=utf-8
2020-07-09 11:56:00.695 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594284957097  
2020-07-09 11:56:00.696 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 11:56:00.696 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 11:56:00.696 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:56:00.696 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:56:00.697 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:56:00.697 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:56:00.697 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 11:56:00.703 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:56:00.704 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:56:00.704 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:56:00.708 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:56:00.914 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:56:00.920 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 11:56:00.961 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 40.816ms.
2020-07-09 11:56:00.961 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 47.148ms
2020-07-09 11:56:00.961 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:56:00.961 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 266.9326ms 200 text/html; charset=utf-8
2020-07-09 11:56:00.963 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:56:00.963 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:56:00.963 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:56:00.976 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:56:00.976 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:56:01.001 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:56:01.006 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 301.4585ms
2020-07-09 11:56:01.006 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:56:01.006 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 310.2213ms 200 image/jpeg
2020-07-09 11:56:01.010 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:56:01.023 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 315.2035ms
2020-07-09 11:56:01.023 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:56:01.023 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 326.1549ms 200 image/jpeg
2020-07-09 11:56:01.302 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:56:01.302 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 598.4772ms
2020-07-09 11:56:01.302 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:56:01.302 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 606.8958ms 200 image/jpeg
2020-07-09 11:56:03.326 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=0&_=1594284957098  
2020-07-09 11:56:03.331 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:56:03.339 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:56:03.344 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:56:03.380 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 11:56:03.423 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 11:56:03.513 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 90.5538ms.
2020-07-09 11:56:03.513 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 173.7339ms
2020-07-09 11:56:03.513 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:56:03.514 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 187.5024ms 200 text/html; charset=utf-8
2020-07-09 11:56:03.528 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-09 11:56:03.531 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-09 11:56:03.531 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-09 11:56:03.531 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:56:03.531 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:56:03.532 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:56:03.533 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:56:03.533 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:56:03.533 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:56:03.534 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:56:03.534 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:56:03.535 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:56:03.538 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:56:03.538 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:56:03.538 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:56:03.539 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 5.9825ms
2020-07-09 11:56:03.539 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:56:03.539 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.8577ms 200 image/jpeg
2020-07-09 11:56:03.565 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:56:03.572 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 38.8511ms
2020-07-09 11:56:03.572 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:56:03.572 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 41.447ms 200 image/jpeg
2020-07-09 11:56:03.700 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:56:03.701 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 167.7352ms
2020-07-09 11:56:03.701 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:56:03.701 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 170.195ms 200 image/jpeg
2020-07-09 11:56:04.586 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/Info/1?_=1594284957099  
2020-07-09 11:56:04.590 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:56:04.594 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Info", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Info(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:56:04.596 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:56:04.604 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
FROM [Dishes] AS [d]
WHERE [d].[Id] = @__id_0
2020-07-09 11:56:04.606 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view DishInLine.
2020-07-09 11:56:04.613 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view DishInLine executed in 7.4799ms.
2020-07-09 11:56:04.613 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.Info (CateringPro) in 18.9737ms
2020-07-09 11:56:04.613 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:56:04.614 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 27.356ms 200 text/html; charset=utf-8
2020-07-09 11:56:04.620 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?PictureId=4&width=80&height=80  
2020-07-09 11:56:04.623 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:56:04.623 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:56:04.624 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:56:04.759 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:56:04.759 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 136.0305ms
2020-07-09 11:56:04.759 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:56:04.759 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 138.6385ms 200 image/jpeg
2020-07-09 11:56:17.656 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=2&_=1594284957100  
2020-07-09 11:56:17.660 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 11:56:17.660 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:56:17.661 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 11:56:17.663 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 11:56:17.664 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.6832ms.
2020-07-09 11:56:17.665 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 3.5159ms
2020-07-09 11:56:17.665 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 11:56:17.665 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.0744ms 200 text/html; charset=utf-8
2020-07-09 11:59:57.494 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/SearchView?course=1&_=1594284957101  
2020-07-09 11:59:57.496 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:59:57.496 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchView", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchView(Int32) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:59:57.499 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:59:57.516 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@__p_1='?' (DbType = Int32), @__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[Code], [t].[CompanyId], [t].[Description], [t].[KKal], [t].[Name], [t].[PictureId], [t].[Price], [t].[ReadyWeight], [c].[Id], [c].[Code], [c].[CompanyId], [c].[Description], [c].[Name], [t0].[DishId], [t0].[IngredientId], [t0].[CompanyId], [t0].[Proportion], [t0].[Id], [t0].[AvgPrice], [t0].[CompanyId0], [t0].[IngredientCategoriesId], [t0].[MeasureUnit], [t0].[Name], [t0].[StockDate], [t0].[StockValue]
FROM (
    SELECT TOP(@__p_1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
    FROM [Dishes] AS [d]
    WHERE [d].[CompanyId] = @__companyId_0
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoriesId] = [c].[Id]
LEFT JOIN (
    SELECT [d0].[DishId], [d0].[IngredientId], [d0].[CompanyId], [d0].[Proportion], [i].[Id], [i].[AvgPrice], [i].[CompanyId] AS [CompanyId0], [i].[IngredientCategoriesId], [i].[MeasureUnit], [i].[Name], [i].[StockDate], [i].[StockValue]
    FROM [DishIngredients] AS [d0]
    INNER JOIN [Ingredients] AS [i] ON [d0].[IngredientId] = [i].[Id]
) AS [t0] ON [t].[Id] = [t0].[DishId]
ORDER BY [t].[Id], [c].[Id], [t0].[DishId], [t0].[IngredientId], [t0].[Id]
2020-07-09 11:59:57.525 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view SearchView.
2020-07-09 11:59:57.559 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 34.0389ms.
2020-07-09 11:59:57.559 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.SearchView (CateringPro) in 63.1723ms
2020-07-09 11:59:57.559 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.SearchView (CateringPro)'
2020-07-09 11:59:57.560 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 65.9375ms 200 text/html; charset=utf-8
2020-07-09 11:59:57.597 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=80&height=80  
2020-07-09 11:59:57.598 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=80&height=80  
2020-07-09 11:59:57.598 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=80&height=80  
2020-07-09 11:59:57.598 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:59:57.598 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:59:57.599 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:59:57.599 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:59:57.599 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:59:57.599 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 11:59:57.599 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:59:57.599 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:59:57.599 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:59:57.605 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:59:57.605 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 11:59:57.607 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:59:57.607 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 9.1035ms
2020-07-09 11:59:57.608 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:59:57.608 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.3045ms 200 image/jpeg
2020-07-09 11:59:57.620 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:59:57.624 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 25.1582ms
2020-07-09 11:59:57.624 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:59:57.624 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 25.914ms 200 image/jpeg
2020-07-09 11:59:57.748 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 11:59:57.748 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 149.5835ms
2020-07-09 11:59:57.748 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 11:59:57.748 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 150.2287ms 200 image/jpeg
2020-07-09 11:59:58.926 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Dishes/Info/5?_=1594284957102  
2020-07-09 11:59:58.929 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:59:58.930 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Info", controller = "Dishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Info(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.DishesController (CateringPro).
2020-07-09 11:59:58.933 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 11:59:58.939 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[CategoriesId], [d].[Code], [d].[CompanyId], [d].[Description], [d].[KKal], [d].[Name], [d].[PictureId], [d].[Price], [d].[ReadyWeight]
FROM [Dishes] AS [d]
WHERE [d].[Id] = @__id_0
2020-07-09 11:59:58.941 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view DishInLine.
2020-07-09 11:59:58.943 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view DishInLine executed in 2.0918ms.
2020-07-09 11:59:58.944 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.DishesController.Info (CateringPro) in 13.911ms
2020-07-09 11:59:58.944 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.DishesController.Info (CateringPro)'
2020-07-09 11:59:58.944 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 18.1998ms 200 text/html; charset=utf-8
2020-07-09 12:00:56.482 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 12:00:56.483 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:00:56.485 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 12:00:56.485 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:00:56.487 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 12:00:56.487 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 12:00:56.488 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 12:00:56,1
2020-07-09 12:00:56.492 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 12:00:56.566 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (70ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 12:00:56.566 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 12:00:56,2
2020-07-09 12:00:56.569 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 12:00:56.613 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MassEmail] SET [CompanyId] = @p0, [DayFrom] = @p1, [DayTo] = @p2, [DistributionList] = @p3, [DistributionType] = @p4, [Greetings] = @p5, [Name] = @p6, [NextSend] = @p7, [OnePerUser] = @p8, [Schedule] = @p9, [Subject] = @p10, [TemplateName] = @p11, [TemplateText] = @p12, [Text] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;
2020-07-09 12:00:56.635 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 12:04:18.535 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:04:18.778 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-09 12:04:18.812 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-09 12:04:18.827 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-09 12:04:18.988 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-09 12:04:19.096 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 12:04:19.098 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:04:19.132 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-09 12:04:19.132 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-09 12:04:19.132 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-09 12:04:19.146 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 12:04:19.156 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 12:04:19.157 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-09 12:04:19.159 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 12:04:19.171 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 12:04:19,1
2020-07-09 12:04:19.201 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:04:19.216 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 12:04:19.223 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:04:19.225 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 12:04:19.248 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:04:19.252 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:04:19.288 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 12:04:19.288 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (106ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 12:04:19.291 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 12:04:19,2
2020-07-09 12:04:19.294 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 12:04:19.302 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 12:04:19.309 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 12:04:19.317 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 12:04:19.426 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 108.9693ms.
2020-07-09 12:04:19.429 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 181.2045ms
2020-07-09 12:04:19.430 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 12:04:19.437 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 291.8448ms 200 text/html; charset=utf-8
2020-07-09 12:04:19.586 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 12:04:19.594 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 7.8558ms 404 
2020-07-09 12:04:19.636 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 12:04:19.656 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 19.6218ms 404 
2020-07-09 12:04:19.659 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594285459524  
2020-07-09 12:04:19.666 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 12:04:19.666 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:04:19.669 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 12:04:19.686 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 12:04:19.687 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 20.9631ms 200 image/x-icon
2020-07-09 12:04:19.696 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:04:19.716 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:04:19.717 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 12:04:19.719 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 12:04:19.778 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 59.075ms.
2020-07-09 12:04:19.778 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 81.8083ms
2020-07-09 12:04:19.778 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 12:04:19.778 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 119.3688ms 200 text/html; charset=utf-8
2020-07-09 12:04:20.751 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594285459525  
2020-07-09 12:04:20.755 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:04:20.755 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 12:04:20.760 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:04:20.763 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:04:20.832 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 12:04:20.876 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 12:04:20.914 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 38.1638ms.
2020-07-09 12:04:20.914 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 153.834ms
2020-07-09 12:04:20.914 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 12:04:20.914 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 163.6872ms 200 text/html; charset=utf-8
2020-07-09 12:04:20.932 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594285459526  
2020-07-09 12:04:20.933 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 12:04:20.933 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:04:20.933 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 12:04:20.934 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:04:20.934 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 12:04:20.934 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 12:04:20.935 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:04:20.935 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:04:20.939 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 12:04:20.939 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 12:04:20.939 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 12:04:20.943 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:04:20.945 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 12:04:20.946 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.3301ms.
2020-07-09 12:04:20.946 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 2.8214ms
2020-07-09 12:04:20.946 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 12:04:20.946 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14.3093ms 200 text/html; charset=utf-8
2020-07-09 12:04:20.951 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:04:20.951 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:04:20.951 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:04:20.968 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 12:04:20.968 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 12:04:21.000 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 12:04:21.002 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 12:04:21.003 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 63.7126ms
2020-07-09 12:04:21.003 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:04:21.003 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 68.8597ms 200 image/jpeg
2020-07-09 12:04:21.012 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 72.4516ms
2020-07-09 12:04:21.012 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:04:21.012 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 77.9429ms 200 image/jpeg
2020-07-09 12:04:21.335 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 12:04:21.335 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 396.0983ms
2020-07-09 12:04:21.335 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:04:21.335 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 402.1195ms 200 image/jpeg
2020-07-09 12:04:45.002 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:04:45.284 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-09 12:04:45.328 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-09 12:04:45.348 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-09 12:04:45.578 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-09 12:04:45.689 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 12:04:45.693 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:04:45.731 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-09 12:04:45.731 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-09 12:04:45.732 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-09 12:04:45.751 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/  
2020-07-09 12:04:45.761 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 12:04:45.763 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 12:04:45.766 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-09 12:04:45.782 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 12:04:45,1
2020-07-09 12:04:45.816 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:04:45.836 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 12:04:45.849 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-09 12:04:45.888 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller CateringPro.Controllers.HomeController (CateringPro).
2020-07-09 12:04:45.913 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 12:04:45.931 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (131ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 12:04:45.933 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 12:04:45,2
2020-07-09 12:04:45.936 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 12:04:45.993 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 12:04:46.001 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 12:04:46.060 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 147.6091ms.
2020-07-09 12:04:46.061 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.HomeController.Index (CateringPro) in 171.9609ms
2020-07-09 12:04:46.061 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.HomeController.Index (CateringPro)'
2020-07-09 12:04:46.065 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 314.7887ms 200 text/html; charset=utf-8
2020-07-09 12:05:45.841 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 12:05:45.847 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:05:45.849 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 12:05:45.850 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:05:45.851 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 12:05:45.851 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 12:05:45.853 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 12:05:45,1
2020-07-09 12:05:45.856 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 12:05:45.857 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 12:05:45.900 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (41ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 12:05:45.900 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 12:05:45,2
2020-07-09 12:05:45.903 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 12:06:00.411 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 12:06:00.432 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:06:00.433 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 12:06:00.443 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:06:00.452 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:06:00.465 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 12:06:00.495 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 12:06:00.509 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 15.2776ms.
2020-07-09 12:06:00.511 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 68.0771ms
2020-07-09 12:06:00.513 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 12:06:00.519 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 108.1108ms 200 text/html; charset=utf-8
2020-07-09 12:06:00.715 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 12:06:00.749 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 34.0589ms 404 
2020-07-09 12:06:00.783 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 12:06:00.786 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 2.4401ms 404 
2020-07-09 12:06:00.814 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594285560632  
2020-07-09 12:06:00.818 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:06:00.820 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 12:06:00.825 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 12:06:00.835 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:06:00.850 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 12:06:00.850 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 25.5205ms 200 image/x-icon
2020-07-09 12:06:00.854 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:06:00.855 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 12:06:00.858 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 12:06:00.935 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 78.2152ms.
2020-07-09 12:06:00.936 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 100.0847ms
2020-07-09 12:06:00.936 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 12:06:00.936 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 122.4653ms 200 text/html; charset=utf-8
2020-07-09 12:06:01.580 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594285560633  
2020-07-09 12:06:01.583 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:06:01.584 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 12:06:01.587 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:06:01.590 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:06:01.664 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 12:06:01.709 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 12:06:01.744 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 35.8176ms.
2020-07-09 12:06:01.744 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 156.7873ms
2020-07-09 12:06:01.744 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 12:06:01.745 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 164.6063ms 200 text/html; charset=utf-8
2020-07-09 12:06:01.761 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594285560634  
2020-07-09 12:06:01.762 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:06:01.762 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 12:06:01.763 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 12:06:01.763 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 12:06:01.763 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 12:06:01.765 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:06:01.765 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:06:01.766 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:06:01.770 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 12:06:01.770 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 12:06:01.770 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:06:01.772 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 12:06:01.772 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 12:06:01.773 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.1138ms.
2020-07-09 12:06:01.774 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 3.1084ms
2020-07-09 12:06:01.774 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 12:06:01.774 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 13.1249ms 200 text/html; charset=utf-8
2020-07-09 12:06:01.780 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:06:01.780 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:06:01.780 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:06:01.798 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 12:06:01.798 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 12:06:01.823 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 12:06:01.825 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 12:06:01.825 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 54.9473ms
2020-07-09 12:06:01.825 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:06:01.825 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 61.9283ms 200 image/jpeg
2020-07-09 12:06:01.838 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 67.9803ms
2020-07-09 12:06:01.838 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:06:01.838 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 74.7865ms 200 image/jpeg
2020-07-09 12:06:02.158 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 12:06:02.158 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 386.3222ms
2020-07-09 12:06:02.158 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:06:02.158 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 394.9033ms 200 image/jpeg
2020-07-09 12:07:25.459 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:07:25.713 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-09 12:07:25.749 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-09 12:07:25.770 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-09 12:07:25.965 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-09 12:07:26.072 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 12:07:26.075 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:07:26.115 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-09 12:07:26.115 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-09 12:07:26.115 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-09 12:07:26.130 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 12:07:26.138 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 12:07:26.140 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 12:07:26.142 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-09 12:07:26.155 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 12:07:26,1
2020-07-09 12:07:26.173 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:07:26.188 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 12:07:26.195 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:07:26.197 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 12:07:26.219 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:07:26.223 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:07:26.263 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 12:07:26.285 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 12:07:26.295 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (130ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 12:07:26.295 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 12:07:26.297 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 12:07:26,2
2020-07-09 12:07:26.302 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 12:07:26.302 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 12:07:26.447 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 145.4873ms.
2020-07-09 12:07:26.450 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 230.7615ms
2020-07-09 12:07:26.451 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 12:07:26.460 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 330.3629ms 200 text/html; charset=utf-8
2020-07-09 12:07:26.582 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 12:07:26.594 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.66ms 404 
2020-07-09 12:07:26.645 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 12:07:26.660 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14.5591ms 404 
2020-07-09 12:07:27.398 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594285646540  
2020-07-09 12:07:27.402 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:07:27.403 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 12:07:27.404 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 12:07:27.416 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 12:07:27.417 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 13.0087ms 200 image/x-icon
2020-07-09 12:07:27.422 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:07:27.434 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:07:27.437 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 12:07:27.440 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 12:07:27.512 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 72.3895ms.
2020-07-09 12:07:27.512 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 90.3217ms
2020-07-09 12:07:27.512 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 12:07:27.512 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 114.6505ms 200 text/html; charset=utf-8
2020-07-09 12:09:01.048 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594285646541  
2020-07-09 12:09:01.056 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:09:01.056 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 12:09:01.062 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:09:01.067 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:09:01.138 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 12:09:01.180 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 12:09:01.645 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 465.9052ms.
2020-07-09 12:09:01.645 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 582.9227ms
2020-07-09 12:09:01.645 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 12:09:01.646 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 598.5197ms 200 text/html; charset=utf-8
2020-07-09 12:09:01.664 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594285646542  
2020-07-09 12:09:01.664 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 12:09:01.666 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 12:09:01.666 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:09:01.666 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 12:09:01.667 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:09:01.667 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 12:09:01.669 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:09:01.669 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:09:01.675 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 12:09:01.675 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:09:01.675 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 12:09:01.675 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 12:09:01.677 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 12:09:01.678 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 0.9505ms.
2020-07-09 12:09:01.678 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 2.9495ms
2020-07-09 12:09:01.678 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 12:09:01.678 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14.2932ms 200 text/html; charset=utf-8
2020-07-09 12:09:01.683 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:09:01.683 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:09:01.683 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:09:01.700 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 12:09:01.700 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 12:09:01.727 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 12:09:01.729 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 54.2937ms
2020-07-09 12:09:01.729 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:09:01.729 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 63.2864ms 200 image/jpeg
2020-07-09 12:09:01.736 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 12:09:01.747 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 71.9212ms
2020-07-09 12:09:01.747 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:09:01.747 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 80.6994ms 200 image/jpeg
2020-07-09 12:09:02.010 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 12:09:02.010 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 335.4762ms
2020-07-09 12:09:02.010 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:09:02.010 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 345.7872ms 200 image/jpeg
2020-07-09 12:10:26.218 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 12:10:26.224 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:10:26.228 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 12:10:26.232 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:10:26.232 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 12:10:26.236 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 12:10:26.237 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 12:10:26,1
2020-07-09 12:10:26.246 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 12:10:26.251 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 12:10:26.317 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (70ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 12:10:26.318 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 12:10:26,2
2020-07-09 12:10:26.321 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 12:10:43.671 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:10:43.923 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-09 12:10:43.956 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-09 12:10:43.974 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-09 12:10:44.132 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-09 12:10:44.241 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 12:10:44.243 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:10:44.285 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-09 12:10:44.285 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-09 12:10:44.285 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-09 12:10:44.299 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 12:10:44.305 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 12:10:44.308 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 12:10:44.319 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-09 12:10:44.330 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 12:10:44,1
2020-07-09 12:10:44.348 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:10:44.364 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 12:10:44.375 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:10:44.377 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 12:10:44.392 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (49ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 12:10:44.394 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 12:10:44,2
2020-07-09 12:10:44.397 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 12:10:44.400 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:10:44.405 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:10:44.440 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 12:10:44.456 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 12:10:44.463 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 12:10:44.471 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 12:10:44.582 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 110.9092ms.
2020-07-09 12:10:44.584 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 184.0539ms
2020-07-09 12:10:44.585 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 12:10:44.593 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 294.1668ms 200 text/html; charset=utf-8
2020-07-09 12:10:44.718 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 12:10:44.727 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.0515ms 404 
2020-07-09 12:10:44.757 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 12:10:44.772 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594285844660  
2020-07-09 12:10:44.778 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 12:10:44.780 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 23.733ms 404 
2020-07-09 12:10:44.781 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:10:44.782 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 12:10:44.794 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 12:10:44.795 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 16.4727ms 200 image/x-icon
2020-07-09 12:10:44.804 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:10:44.821 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:10:44.823 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 12:10:44.825 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 12:10:44.885 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 59.9584ms.
2020-07-09 12:10:44.885 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 81.0493ms
2020-07-09 12:10:44.885 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 12:10:44.885 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 112.8373ms 200 text/html; charset=utf-8
2020-07-09 12:10:46.242 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594285844661  
2020-07-09 12:10:46.249 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:10:46.249 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 12:10:46.255 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:10:46.259 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:10:46.330 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 12:10:46.373 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 12:10:46.411 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 38.6734ms.
2020-07-09 12:10:46.411 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 156.1961ms
2020-07-09 12:10:46.411 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 12:10:46.412 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 170.5139ms 200 text/html; charset=utf-8
2020-07-09 12:10:46.419 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 12:10:46.419 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 12:10:46.419 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 12:10:46.420 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:10:46.420 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:10:46.420 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:10:46.425 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 12:10:46.425 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 12:10:46.429 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 12:10:46.433 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594285844662  
2020-07-09 12:10:46.433 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:10:46.434 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 12:10:46.434 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:10:46.434 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:10:46.435 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:10:46.439 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:10:46.441 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 12:10:46.442 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.1013ms.
2020-07-09 12:10:46.442 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 2.6877ms
2020-07-09 12:10:46.442 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 12:10:46.442 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 9.1954ms 200 text/html; charset=utf-8
2020-07-09 12:10:46.454 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 12:10:46.454 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 12:10:46.511 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 12:10:46.513 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 87.9949ms
2020-07-09 12:10:46.513 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:10:46.513 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 93.9937ms 200 image/jpeg
2020-07-09 12:10:46.522 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 12:10:46.528 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 98.7335ms
2020-07-09 12:10:46.528 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:10:46.528 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 108.7032ms 200 image/jpeg
2020-07-09 12:10:46.831 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 12:10:46.831 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 406.1401ms
2020-07-09 12:10:46.832 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:10:46.832 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 412.2298ms 200 image/jpeg
2020-07-09 12:11:03.515 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:11:03.769 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-09 12:11:03.802 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-09 12:11:03.817 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-09 12:11:03.974 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-09 12:11:04.099 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 12:11:04.102 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:11:04.148 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-09 12:11:04.148 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-09 12:11:04.148 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-09 12:11:04.163 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 12:11:04.162 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 12:11:04.165 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 12:11:04.174 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-09 12:11:04.178 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 12:11:04,1
2020-07-09 12:11:04.200 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:11:04.215 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 12:11:04.232 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:11:04.234 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 12:11:04.254 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:11:04.258 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:11:04.287 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (96ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 12:11:04.289 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 12:11:04,2
2020-07-09 12:11:04.293 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 12:11:04.295 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 12:11:04.308 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 12:11:04.316 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 12:11:04.337 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 12:11:04.509 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 185.235ms.
2020-07-09 12:11:04.511 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 257.2983ms
2020-07-09 12:11:04.512 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 12:11:04.519 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 357.0922ms 200 text/html; charset=utf-8
2020-07-09 12:11:04.631 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 12:11:04.648 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 17.0395ms 404 
2020-07-09 12:11:04.700 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 12:11:04.712 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594285864584  
2020-07-09 12:11:04.720 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 12:11:04.728 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 28.3131ms 404 
2020-07-09 12:11:04.729 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:11:04.730 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 12:11:04.735 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 12:11:04.736 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 16.3269ms 200 image/x-icon
2020-07-09 12:11:04.762 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:11:04.784 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:11:04.785 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 12:11:04.786 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 12:11:04.850 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 64.2264ms.
2020-07-09 12:11:04.850 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 87.9382ms
2020-07-09 12:11:04.850 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 12:11:04.850 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 138.9277ms 200 text/html; charset=utf-8
2020-07-09 12:11:06.073 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594285864585  
2020-07-09 12:11:06.081 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:11:06.082 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 12:11:06.088 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:11:06.092 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:11:06.160 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 12:11:06.202 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 12:11:06.240 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 38.3213ms.
2020-07-09 12:11:06.240 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 152.6044ms
2020-07-09 12:11:06.240 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 12:11:06.241 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 167.6995ms 200 text/html; charset=utf-8
2020-07-09 12:11:06.248 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 12:11:06.248 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 12:11:06.248 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 12:11:06.249 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:11:06.249 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:11:06.249 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:11:06.253 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 12:11:06.253 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 12:11:06.253 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 12:11:06.260 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:11:06.260 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:11:06.260 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:11:06.262 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594285864586  
2020-07-09 12:11:06.263 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:11:06.263 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 12:11:06.268 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:11:06.269 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 12:11:06.270 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.0388ms.
2020-07-09 12:11:06.270 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 2.5924ms
2020-07-09 12:11:06.270 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 12:11:06.271 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 8.8177ms 200 text/html; charset=utf-8
2020-07-09 12:11:06.281 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 12:11:06.281 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 12:11:06.303 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 12:11:06.306 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 52.3874ms
2020-07-09 12:11:06.306 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:11:06.306 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 58.0056ms 200 image/jpeg
2020-07-09 12:11:06.313 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 12:11:06.321 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 67.2198ms
2020-07-09 12:11:06.321 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:11:06.321 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 72.6955ms 200 image/jpeg
2020-07-09 12:11:06.635 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 12:11:06.635 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 381.7305ms
2020-07-09 12:11:06.635 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:11:06.635 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 387.4541ms 200 image/jpeg
2020-07-09 12:11:29.736 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:11:29.971 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-09 12:11:29.996 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-09 12:11:30.012 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-09 12:11:30.163 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-09 12:11:30.284 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 12:11:30.287 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:11:30.321 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-09 12:11:30.321 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-09 12:11:30.321 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-09 12:11:30.336 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 12:11:30.343 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 12:11:30.345 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 12:11:30.346 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-09 12:11:30.358 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 12:11:30,1
2020-07-09 12:11:30.377 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:11:30.393 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 12:11:30.406 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:11:30.408 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 12:11:30.422 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (52ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 12:11:30.425 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 12:11:30,2
2020-07-09 12:11:30.428 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 12:11:30.431 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:11:30.435 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:11:30.463 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 12:11:30.476 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 12:11:30.483 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 12:11:30.491 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 12:11:30.671 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 180.499ms.
2020-07-09 12:11:30.673 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 241.9435ms
2020-07-09 12:11:30.674 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 12:11:30.682 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 346.7534ms 200 text/html; charset=utf-8
2020-07-09 12:11:30.798 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 12:11:30.811 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.8131ms 404 
2020-07-09 12:11:30.841 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 12:11:30.853 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594285890753  
2020-07-09 12:11:30.860 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 12:11:30.860 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 19.3494ms 404 
2020-07-09 12:11:30.861 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:11:30.863 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 12:11:30.880 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 12:11:30.881 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 21.3555ms 200 image/x-icon
2020-07-09 12:11:30.894 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:11:30.916 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:11:30.919 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 12:11:30.922 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 12:11:30.981 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 59.8812ms.
2020-07-09 12:11:30.981 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 87.0356ms
2020-07-09 12:11:30.982 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 12:11:30.982 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 128.6561ms 200 text/html; charset=utf-8
2020-07-09 12:11:31.984 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594285890754  
2020-07-09 12:11:31.990 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:11:31.990 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 12:11:31.994 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:11:31.997 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:11:32.066 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 12:11:32.109 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 12:11:32.147 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 38.6563ms.
2020-07-09 12:11:32.147 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 153.245ms
2020-07-09 12:11:32.147 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 12:11:32.148 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 164.168ms 200 text/html; charset=utf-8
2020-07-09 12:11:32.155 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 12:11:32.155 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 12:11:32.155 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 12:11:32.156 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:11:32.157 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:11:32.157 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:11:32.160 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 12:11:32.161 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 12:11:32.161 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 12:11:32.169 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:11:32.169 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594285890755  
2020-07-09 12:11:32.169 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:11:32.169 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:11:32.169 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:11:32.169 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 12:11:32.174 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:11:32.176 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 12:11:32.177 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.1088ms.
2020-07-09 12:11:32.177 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 2.6852ms
2020-07-09 12:11:32.177 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 12:11:32.177 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 8.4036ms 200 text/html; charset=utf-8
2020-07-09 12:11:32.186 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 12:11:32.186 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 12:11:32.212 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 12:11:32.214 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 12:11:32.215 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 54.033ms
2020-07-09 12:11:32.215 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:11:32.215 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 60.2241ms 200 image/jpeg
2020-07-09 12:11:32.229 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 67.8872ms
2020-07-09 12:11:32.229 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:11:32.229 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 73.9919ms 200 image/jpeg
2020-07-09 12:11:32.611 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 12:11:32.612 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 451.255ms
2020-07-09 12:11:32.612 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:11:32.612 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 457.3769ms 200 image/jpeg
2020-07-09 12:13:56.459 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:13:56.701 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-09 12:13:56.734 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-09 12:13:56.749 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-09 12:13:56.912 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-09 12:13:57.022 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 12:13:57.024 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:13:57.056 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-09 12:13:57.056 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-09 12:13:57.056 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-09 12:13:57.070 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 12:13:57.079 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 12:13:57.080 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-09 12:13:57.082 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 12:13:57.095 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 12:13:57,1
2020-07-09 12:13:57.115 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:13:57.132 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 12:13:57.135 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:13:57.137 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 12:13:57.159 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:13:57.164 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:13:57.209 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 12:13:57.209 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (102ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 12:13:57.212 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 12:13:57,2
2020-07-09 12:13:57.215 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 12:13:57.232 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 12:13:57.238 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 12:13:57.240 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 12:13:57.353 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 118.2748ms.
2020-07-09 12:13:57.355 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 196.0388ms
2020-07-09 12:13:57.356 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 12:13:57.363 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 293.8791ms 200 text/html; charset=utf-8
2020-07-09 12:13:57.500 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 12:13:57.512 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.4076ms 404 
2020-07-09 12:13:57.556 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 12:13:57.563 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594286037451  
2020-07-09 12:13:57.576 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 12:13:57.580 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 24.6012ms 404 
2020-07-09 12:13:57.581 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:13:57.582 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 12:13:57.589 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 12:13:57.590 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 14.0448ms 200 image/x-icon
2020-07-09 12:13:57.600 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:13:57.615 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:13:57.616 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 12:13:57.620 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 12:13:57.676 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 57.9794ms.
2020-07-09 12:13:57.676 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 76.2689ms
2020-07-09 12:13:57.676 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 12:13:57.676 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 113.5558ms 200 text/html; charset=utf-8
2020-07-09 12:13:59.507 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594286037452  
2020-07-09 12:13:59.511 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:13:59.511 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 12:13:59.516 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:13:59.519 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:13:59.587 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 12:13:59.629 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 12:13:59.665 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 36.3041ms.
2020-07-09 12:13:59.665 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 149.3618ms
2020-07-09 12:13:59.665 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 12:13:59.665 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 158.7739ms 200 text/html; charset=utf-8
2020-07-09 12:13:59.672 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 12:13:59.672 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 12:13:59.672 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 12:13:59.673 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:13:59.673 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:13:59.673 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:13:59.678 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 12:13:59.678 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 12:13:59.678 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 12:13:59.686 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594286037453  
2020-07-09 12:13:59.687 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:13:59.687 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:13:59.687 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:13:59.687 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:13:59.687 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 12:13:59.694 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:13:59.697 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 12:13:59.698 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.4347ms.
2020-07-09 12:13:59.698 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 4.6198ms
2020-07-09 12:13:59.698 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 12:13:59.698 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 12.0412ms 200 text/html; charset=utf-8
2020-07-09 12:13:59.711 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 12:13:59.711 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 12:13:59.741 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 12:13:59.744 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 65.7742ms
2020-07-09 12:13:59.744 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:13:59.744 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 71.9038ms 200 image/jpeg
2020-07-09 12:13:59.748 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 12:13:59.760 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 81.3516ms
2020-07-09 12:13:59.760 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:13:59.760 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 87.4923ms 200 image/jpeg
2020-07-09 12:14:00.094 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 12:14:00.094 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 415.3316ms
2020-07-09 12:14:00.094 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:14:00.094 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 421.5866ms 200 image/jpeg
2020-07-09 12:15:57.139 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 12:15:57.147 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:15:57.151 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 12:15:57.151 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:15:57.156 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 12:15:57.156 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 12:15:57.158 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 12:15:57,1
2020-07-09 12:15:57.164 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 12:15:57.165 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 12:15:57.237 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (69ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 12:15:57.237 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 12:15:57,2
2020-07-09 12:15:57.240 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 12:16:09.589 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:16:09.826 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-09 12:16:09.871 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2020-07-09 12:16:09.887 +03:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\andry\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-07-09 12:16:10.048 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Dishes] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-07-09 12:16:10.157 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 12:16:10.159 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:16:10.190 +03:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2020-07-09 12:16:10.190 +03:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2020-07-09 12:16:10.190 +03:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\work\catering\CateringPro
2020-07-09 12:16:10.204 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex  
2020-07-09 12:16:10.215 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 12:16:10.215 +03:00 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2020-07-09 12:16:10.218 +03:00 [Information] CateringPro.Models.CompanyUser: Start job to Write Off production day
2020-07-09 12:16:10.230 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 12:16:10,1
2020-07-09 12:16:10.261 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:16:10.279 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Address1], [c].[Address2], [c].[City], [c].[Code], [c].[Country], [c].[Email], [c].[Name], [c].[OrderLeadTimeH], [c].[OrderThresholdTimeH], [c].[Phone], [c].[PictureId], [c].[StampPictureId], [c].[ZipCode]
FROM [Companies] AS [c]
2020-07-09 12:16:10.283 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:16:10.285 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 12:16:10.302 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (51ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 12:16:10.304 +03:00 [Information] CateringPro.Models.CompanyUser: WriteOffProduction 07/09/2020 12:16:10,2
2020-07-09 12:16:10.308 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Index", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:16:10.308 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
exec WriteOffProduction @p0 , @p1
2020-07-09 12:16:10.312 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:16:10.341 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 12:16:10.359 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 12:16:10.365 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[CompanyId], [m].[DayFrom], [m].[DayTo], [m].[DistributionList], [m].[DistributionType], [m].[Greetings], [m].[Name], [m].[NextSend], [m].[OnePerUser], [m].[Schedule], [m].[Subject], [m].[TemplateName], [m].[TemplateText], [m].[Text]
FROM [MassEmail] AS [m]
WHERE [m].[CompanyId] = @__companyId_0
2020-07-09 12:16:10.367 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executing ViewResult, running view Index.
2020-07-09 12:16:10.482 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor: Executed ViewResult - view Index executed in 115.8828ms.
2020-07-09 12:16:10.484 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.Index (CateringPro) in 176.4059ms
2020-07-09 12:16:10.485 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.Index (CateringPro)'
2020-07-09 12:16:10.492 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 288.6162ms 200 text/html; charset=utf-8
2020-07-09 12:16:10.651 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/js/bootstrap.min.js.map  
2020-07-09 12:16:10.664 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 13.1481ms 404 
2020-07-09 12:16:10.700 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/css/bootstrap.min.css.map  
2020-07-09 12:16:10.720 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 19.7395ms 404 
2020-07-09 12:16:10.726 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/ListItems?searchcriteria=&_=1594286170580  
2020-07-09 12:16:10.733 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:16:10.734 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 12:16:10.737 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/favicon.ico  
2020-07-09 12:16:10.751 +03:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon.ico'. Physical path: 'D:\work\catering\CateringPro\wwwroot\favicon.ico'
2020-07-09 12:16:10.751 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 13.8155ms 200 image/x-icon
2020-07-09 12:16:10.754 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ListItems", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListItems(CateringPro.ViewModels.QueryModel) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:16:10.767 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:16:10.767 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
FROM [Complex] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2020-07-09 12:16:10.769 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ListItems.
2020-07-09 12:16:10.827 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 58.0852ms.
2020-07-09 12:16:10.827 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.ListItems (CateringPro) in 72.9773ms
2020-07-09 12:16:10.827 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.ListItems (CateringPro)'
2020-07-09 12:16:10.827 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 100.6727ms 200 text/html; charset=utf-8
2020-07-09 12:16:12.036 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/EditModal/1?_=1594286170581  
2020-07-09 12:16:12.041 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:16:12.041 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 12:16:12.046 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EditModal", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditModal(System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:16:12.049 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:16:12.122 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Int32), @__id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyId], [t].[DishesQuantity], [t].[Name], [t].[Price], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[CompanyId], [t0].[Id], [t0].[CategoriesId], [t0].[Code], [t0].[CompanyId0], [t0].[Description], [t0].[KKal], [t0].[Name], [t0].[PictureId], [t0].[Price], [t0].[ReadyWeight]
FROM (
    SELECT TOP(2) [c].[Id], [c].[CompanyId], [c].[DishesQuantity], [c].[Name], [c].[Price]
    FROM [Complex] AS [c]
    WHERE ([c].[CompanyId] = @__companyId_0) AND ([c].[Id] = @__id_1)
) AS [t]
LEFT JOIN (
    SELECT [d].[DishId], [d].[ComplexId], [d].[DishCourse], [d].[CompanyId], [d0].[Id], [d0].[CategoriesId], [d0].[Code], [d0].[CompanyId] AS [CompanyId0], [d0].[Description], [d0].[KKal], [d0].[Name], [d0].[PictureId], [d0].[Price], [d0].[ReadyWeight]
    FROM [DishComplex] AS [d]
    INNER JOIN [Dishes] AS [d0] ON [d].[DishId] = [d0].[Id]
) AS [t0] ON [t].[Id] = [t0].[ComplexId]
ORDER BY [t].[Id], [t0].[DishId], [t0].[ComplexId], [t0].[DishCourse], [t0].[Id]
2020-07-09 12:16:12.171 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view EditModal.
2020-07-09 12:16:12.212 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view (null) executed in 41.2693ms.
2020-07-09 12:16:12.212 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.EditModal (CateringPro) in 165.8935ms
2020-07-09 12:16:12.212 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.EditModal (CateringPro)'
2020-07-09 12:16:12.212 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 175.8513ms 200 text/html; charset=utf-8
2020-07-09 12:16:12.230 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Complex/CreateNewCourse?complexId=1&course=0&_=1594286170582  
2020-07-09 12:16:12.231 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture?width=40&height=40  
2020-07-09 12:16:12.231 +03:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2020-07-09 12:16:12.231 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 12:16:12.231 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:16:12.232 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/4?width=40&height=40  
2020-07-09 12:16:12.232 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:51321/Pictures/GetPicture/6?width=40&height=40  
2020-07-09 12:16:12.235 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:16:12.235 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:16:12.236 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateNewCourse", controller = "Complex"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewCourseAsync(Int32, Int32) on controller CateringPro.Controllers.ComplexController (CateringPro).
2020-07-09 12:16:12.239 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executing PartialViewResult, running view ComplexLineDishes.
2020-07-09 12:16:12.239 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 12:16:12.239 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 12:16:12.240 +03:00 [Information] Microsoft.AspNetCore.Mvc.ViewFeatures.PartialViewResultExecutor: Executed PartialViewResult - view ComplexLineDishes executed in 1.2431ms.
2020-07-09 12:16:12.240 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro) in 3.4965ms
2020-07-09 12:16:12.240 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.ComplexController.CreateNewCourseAsync (CateringPro)'
2020-07-09 12:16:12.240 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 10.0643ms 200 text/html; charset=utf-8
2020-07-09 12:16:12.242 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetPicture", controller = "Pictures"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPicture(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CateringPro.Controllers.PicturesController (CateringPro).
2020-07-09 12:16:12.249 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:16:12.249 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:16:12.249 +03:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 3.1.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-09 12:16:12.266 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 12:16:12.266 +03:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PictureData]
FROM [Pictures] AS [p]
WHERE [p].[Id] = @__p_0
2020-07-09 12:16:12.298 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 12:16:12.300 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 60.5892ms
2020-07-09 12:16:12.300 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:16:12.300 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 67.7209ms 200 image/jpeg
2020-07-09 12:16:12.308 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 12:16:12.317 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 77.0987ms
2020-07-09 12:16:12.317 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:16:12.317 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 84.1957ms 200 image/jpeg
2020-07-09 12:16:12.595 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing Microsoft.AspNetCore.Mvc.FileContentResult, sending file with download name '' ...
2020-07-09 12:16:12.595 +03:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action CateringPro.Controllers.PicturesController.GetPicture (CateringPro) in 352.5658ms
2020-07-09 12:16:12.595 +03:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'CateringPro.Controllers.PicturesController.GetPicture (CateringPro)'
2020-07-09 12:16:12.595 +03:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished in 364.5756ms 200 image/jpeg
